# Zenith Forensic Suite: Deployment & Usage Guide

**Version:** 2.0 (Forensic Enterprise)
**Target:** Local Deployment on Mac (Host: Arief)

---

## 1. System Requirements
*   **Python:** 3.10+
*   **Node.js:** 18+
*   **PostgreSQL:** Not required (Uses SQLite/Local SQLModel for this demo, upgradable to Postgres).
*   **Directories:** Ensure you are in `/Users/Arief/Newzen/zenith-lite`.

## 2. Backend Setup
The backend handles the Forensic Logic, Database, and Copilot AI.

1.  **Navigate to Backend:**
    ```bash
    cd backend
    ```

2.  **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    pip install thefuzz python-Levenshtein  # Forensic text matching
    ```

3.  **Initialize & Seed Database:**
    *   This resets the DB and loads the "Bapa Banda" and "Aldi" test cases.
    ```bash
    export PYTHONPATH=.
    python3 finalize_db.py
    ```
    *(Note: If `finalize_db.py` is missing, use the creation script provided in the implementation history).*

4.  **Start the API Server:**
    ```bash
    uvicorn app.main:app --reload --port 8000
    ```
    *   **Health Check:** Open `http://localhost:8000/docs` to see the Swagger UI.

## 3. Frontend Setup
The frontend provides the "Reconciliation Workspace," "Evidence Locker," and "Forensic Copilot."

1.  **Navigate to Frontend:**
    ```bash
    cd ../frontend
    ```

2.  **Install Dependencies:**
    ```bash
    npm install framer-motion lucide-react clsx tailwind-merge
    ```

3.  **Start the Interface:**
    ```bash
    npm run dev
    ```
    *   **Access App:** Open `http://localhost:3000/reconciliation`.

## 4. Usage Walkthrough

### A. The "Red-Line" Reconciliation
1.  Go to the **Reconciliation Workspace**.
2.  Look for the items marked **INFLATED** (Red).
3.  Observe the "Strikethrough" price (Proposed) vs Bold price (Actual).
4.  Hover over the **Red Delta Pill** (`-2.3M DELTA`) to see the variance.

### B. Forensic History (Chain of Custody)
1.  Click the small **"View Forensic History"** button on any card.
2.  A side panel (`AuditTimeline.tsx`) will slide out.
3.  You will see exactly *when* the status changed and *why* (e.g., "Reason: Penggelembungan detected").

### C. The Evidence Locker (Resolution)
1.  Find a transaction marked **LOCKED / PROOF REQ** (Orange).
2.  You will see a drag-and-drop zone: *"Drag Receipt to Unlock"*.
3.  Upload any dummy image/PDF.
4.  **Result:** The system calculates the SHA-256 hash, logs it, and **Unlocks** the transaction automatically.

### D. The Forensic Copilot (Chat with Data)
1.  Click the **Floating Blue Button** in the bottom-right corner.
2.  Ask: *"What is the total inflation?"*
3.  **Verify:** The AI will show you the SQL query it ran (`SELECT SUM(delta_inflation)...`) and the result (`2,300,000`).

### E. Legal Export
1.  Click **"Export Legal Dossier"** in the top header.
2.  A JSON/PDF file will download containing the full evidentiary report for the Aldi/Mens Rea case.

## 5. Troubleshooting

*   **"Connection Error" in Copilot:** Ensure the backend is running on port 8000.
*   **"Module Not Found":** Run `pip install -r requirements.txt` again.
*   **Database Errors:** Delete `backend/zenith.db` (if using SQLite) and run `finalize_db.py` again.

---
*Generated by Zenith AI - 2026*
