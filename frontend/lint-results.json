
> frontend@0.1.0 lint
> eslint --format json

[{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/analyst-comparison/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Activity' is defined but never used.","line":5,"column":79,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":87,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Activity"},"fix":{"range":[202,212],"text":""},"desc":"Remove unused variable \"Activity\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":204,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":204,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6716,6719],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6716,6719],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":257,"column":155,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked &quot;PROJECT\" flags.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked &ldquo;PROJECT\" flags.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked &#34;PROJECT\" flags.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked &rdquo;PROJECT\" flags.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":257,"column":163,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked \"PROJECT&quot; flags.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked \"PROJECT&ldquo; flags.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked \"PROJECT&#34; flags.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8936,9035],"text":" Analysis compares 42 forensic pattern types against auditor-marked \"PROJECT&rdquo; flags.\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { CheckCircle, AlertTriangle, Clock, Sparkles, Monitor, Search, Globe, Activity } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\nimport HolographicBadge from '@/app/components/HolographicBadge';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport ForensicGeoMap, { LeakageHotspot } from '@/components/ForensicGeoMap';\n\ninterface AppFinding {\n  row_no: number;\n  date: string;\n  raw_description: string;\n  amount: number;\n  verdict: string;\n  confidence: number;\n  discovered_patterns: string[];\n  reasoning: string[];\n}\n\ninterface ComparisonResult {\n  row_no: number;\n  date: string;\n  description: string;\n  amount: number;\n  app_verdict: string;\n  app_reasoning: string[];\n  user_marked_as_project: boolean;\n  user_comment: string | null;\n  match_status: string;\n}\n\ninterface Summary {\n  total_transactions: number;\n  agreed: number;\n  disagreed: number;\n  app_found_more: number;\n  user_found_more: number;\n  agreement_rate: number;\n}\n\ninterface ComparisonResponse {\n  summary: Summary;\n  comparisons: ComparisonResult[];\n  discovered_entities: Record<string, number>;\n  discovered_patterns: Record<string, number>;\n}\n\ninterface RawAnalysisResponse {\n  total_analyzed: number;\n  verdicts: Record<string, number>;\n  discovered_patterns: Record<string, number>;\n  top_entities: Record<string, number>;\n  flagged_count: number;\n  sample_findings: AppFinding[];\n}\n\ntype Step = 'upload' | 'analyzing' | 'raw-results' | 'compare-results';\n\nconst API_URL = typeof window !== 'undefined' \n  ? (process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200')\n  : 'http://localhost:8200';\n\nexport default function AnalystComparisonPage() {\n  const [mounted, setMounted] = useState(false);\n  const [step, setStep] = useState<Step>('upload');\n  const [bankFile, setBankFile] = useState<File | null>(null);\n  const [analysisFile, setAnalysisFile] = useState<File | null>(null);\n  const [rawResults, setRawResults] = useState<RawAnalysisResponse | null>(null);\n  const [compareResults, setCompareResults] = useState<ComparisonResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedRow, setSelectedRow] = useState<AppFinding | ComparisonResult | null>(null);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const onDropBank = useCallback((acceptedFiles: File[]) => {\n    if (acceptedFiles.length > 0) setBankFile(acceptedFiles[0]);\n  }, []);\n\n  const onDropAnalysis = useCallback((acceptedFiles: File[]) => {\n    if (acceptedFiles.length > 0) setAnalysisFile(acceptedFiles[0]);\n  }, []);\n\n  const { getRootProps: getBankRootProps, getInputProps: getBankInputProps, isDragActive: isBankDragActive } = useDropzone({\n    onDrop: onDropBank,\n    accept: { 'text/csv': ['.csv'] },\n    multiple: false,\n  });\n\n  const { getRootProps: getAnalysisRootProps, getInputProps: getAnalysisInputProps, isDragActive: isAnalysisDragActive } = useDropzone({\n    onDrop: onDropAnalysis,\n    accept: { 'text/csv': ['.csv'] },\n    multiple: false,\n  });\n\n  const runRawAnalysis = async () => {\n    if (!bankFile) return;\n    setStep('analyzing');\n    setError(null);\n\n    try {\n      const formData = new FormData();\n      formData.append('file', bankFile);\n\n      const response = await fetch(`${API_URL}/api/v1/analyst-comparison/analyze-raw`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) throw new Error(`API error: ${response.status}`);\n      const data = await response.json();\n      setRawResults(data);\n      setStep('raw-results');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n      setStep('upload');\n    }\n  };\n\n  const runComparison = async () => {\n    if (!bankFile || !analysisFile) return;\n    setStep('analyzing');\n    setError(null);\n\n    try {\n      const formData = new FormData();\n      formData.append('bank_statement', bankFile);\n      formData.append('user_analysis', analysisFile);\n\n      const response = await fetch(`${API_URL}/api/v1/analyst-comparison/compare`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) throw new Error(`API error: ${response.status}`);\n      const data = await response.json();\n      setCompareResults(data);\n      setStep('compare-results');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n      setStep('upload');\n    }\n  };\n\n  const loadDemo = () => {\n    setStep('analyzing');\n    setTimeout(() => {\n        setCompareResults(HOLOGRAPHIC_SOURCE.comparisonDemo);\n        setStep('compare-results');\n    }, 1200);\n  };\n\n  const reset = () => {\n    setStep('upload');\n    setBankFile(null);\n    setAnalysisFile(null);\n    setRawResults(null);\n    setCompareResults(null);\n    setError(null);\n    setSelectedRow(null);\n  };\n\n  const getVerdictStyle = (verdict: string) => {\n    const styles: Record<string, string> = {\n      project: 'bg-emerald-500/20 text-emerald-300 border-emerald-500/40',\n      personal: 'bg-amber-500/20 text-amber-300 border-amber-500/40',\n      suspicious: 'bg-red-500/20 text-red-300 border-red-500/40',\n      duplicate: 'bg-purple-500/20 text-purple-300 border-purple-500/40',\n      unknown: 'bg-slate-500/20 text-slate-300 border-slate-500/40',\n    };\n    return styles[verdict] || styles.unknown;\n  };\n\n  const getPatternStyle = (pattern: string) => {\n    const styles: Record<string, string> = {\n      CASH_WITHDRAWAL: 'bg-red-500/30 text-red-200',\n      ROUND_MILLIONS: 'bg-amber-500/30 text-amber-200',\n      LARGE_ROUND_AMOUNT: 'bg-orange-500/30 text-orange-200',\n      FREQUENT_RECIPIENT: 'bg-blue-500/30 text-blue-200',\n      SIMILAR_DESCRIPTIONS: 'bg-purple-500/30 text-purple-200',\n      INTERNAL_TRANSFER: 'bg-pink-500/30 text-pink-200',\n      NAME_VARIATIONS: 'bg-cyan-500/30 text-cyan-200',\n      HIGH_VALUE: 'bg-yellow-500/30 text-yellow-200',\n    };\n    return styles[pattern] || 'bg-slate-500/30 text-slate-200';\n  };\n\n  const [hotspots, setHotspots] = useState<LeakageHotspot[]>([]);\n\n  useEffect(() => {\n    async function fetchHotspots() {\n      try {\n        // Fetch map data from the backend\n        const res = await fetch('http://localhost:8200/api/v1/geo-link/map-data/ZENITH-DEMO-001');\n        if (!res.ok) throw new Error(\"Failed to fetch map data\");\n        const data = await res.json();\n        \n        // Transform features to LeakageHotspot format\n        const fetchedHotspots: LeakageHotspot[] = data.features.map((f: any) => ({\n            id: f.properties.id,\n            location: {\n                lat: f.geometry.coordinates[1],\n                lng: f.geometry.coordinates[0],\n                name: f.properties.name\n            },\n            severity: f.properties.severity,\n            value: f.properties.value,\n            rootCause: f.properties.root_cause\n        }));\n        \n        setHotspots(fetchedHotspots);\n      } catch (err) {\n        console.error(\"GeoMap fetch error:\", err);\n        // Fallback or leave empty\n      }\n    }\n    fetchHotspots();\n  }, []);\n\n  if (!mounted) {\n    return (\n      <div className=\"min-h-screen bg-[#020617] flex items-center justify-center\">\n        <div className=\"w-12 h-12 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <ForensicPageLayout\n        title=\"Consensus Adjudicator\"\n        subtitle=\"Automated Pattern Recognition vs Auditor Analysis\"\n        icon={Search}\n    >\n      <div className=\"p-8 space-y-10 overflow-y-auto h-full custom-scrollbar\">\n        {/* Header Overlay */}\n        <div className=\"relative z-10\">\n          <div className=\"flex items-center gap-4 mb-2\">\n            <h1 className=\"text-4xl font-black text-white italic tracking-tighter uppercase flex items-center gap-4\">\n              Consensus Engine\n              {step === 'compare-results' && !bankFile && <HolographicBadge />}\n            </h1>\n          </div>\n          <p className=\"text-slate-500 font-bold text-sm uppercase tracking-widest leading-relaxed max-w-2xl\">\n              Cross-referencing independent AI pattern recognition against human-led manual audit protocol to identify variance hotspots.\n          </p>\n          \n          <div className=\"mt-8 p-4 bg-indigo-600/10 border border-indigo-500/20 rounded-2xl flex items-center gap-4 max-w-2xl\">\n              <div className=\"p-2 bg-indigo-600/20 rounded-xl text-indigo-400 shrink-0\">\n                  <Sparkles className=\"w-5 h-5\" />\n              </div>\n              <p className=\"text-[11px] text-indigo-100 font-medium uppercase tracking-widest leading-relaxed\">\n                  <span className=\"font-black text-white\">Adjudicator Protocol:</span> Analysis compares 42 forensic pattern types against auditor-marked \"PROJECT\" flags.\n              </p>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-300\">\n            <strong>Error:</strong> {error}\n          </div>\n        )}\n\n        {/* Upload Step */}\n        {step === 'upload' && (\n          <div className=\"space-y-8\">\n            {/* How it works */}\n            <div className=\"bg-slate-900/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-800\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">How It Works</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                {[\n                  { num: 1, title: 'Upload Raw Data', desc: 'Bank statement with transaction details' },\n                  { num: 2, title: 'Pattern Discovery', desc: 'App finds suspicious patterns independently' },\n                  { num: 3, title: 'Upload Your Analysis', desc: 'Your findings with project TRUE/FALSE' },\n                  { num: 4, title: 'Compare & Review', desc: 'See agreements and disagreements' },\n                ].map((item) => (\n                  <div key={item.num} className=\"flex items-start gap-3\">\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500/30 to-purple-500/30 flex items-center justify-center text-blue-300 font-bold shrink-0 text-sm\">\n                      {item.num}\n                    </div>\n                    <div>\n                      <h3 className=\"font-medium text-white text-sm\">{item.title}</h3>\n                      <p className=\"text-xs text-slate-400\">{item.desc}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Upload Areas */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Bank Statement */}\n              <div className=\"bg-slate-900/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-800\">\n                <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n                  <span className=\"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400\">üìä</span>\n                  Raw Bank Statement\n                </h3>\n                <div\n                  {...getBankRootProps()}\n                  className={`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all\n                    ${isBankDragActive ? 'border-blue-500 bg-blue-500/10' : 'border-slate-700 hover:border-blue-500/50'}\n                    ${bankFile ? 'border-emerald-500 bg-emerald-500/5' : ''}`}\n                >\n                  <input {...getBankInputProps()} />\n                  {bankFile ? (\n                    <div className=\"text-emerald-400\">\n                      <div className=\"text-3xl mb-2\">‚úì</div>\n                      <p className=\"font-medium\">{bankFile.name}</p>\n                      <p className=\"text-sm text-slate-400 mt-1\">{(bankFile.size / 1024).toFixed(1)} KB</p>\n                    </div>\n                  ) : (\n                    <div className=\"text-slate-400\">\n                      <div className=\"text-3xl mb-2 opacity-50\">üìÅ</div>\n                      <p className=\"font-medium\">Drop bank statement CSV</p>\n                      <p className=\"text-sm mt-1\">Needs: No, Tanggal, Uraian, Kredit, Debit</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* User Analysis */}\n              <div className=\"bg-slate-900/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-800\">\n                <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\n                  <span className=\"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400\">üìã</span>\n                  Your Analysis (Optional)\n                </h3>\n                <div\n                  {...getAnalysisRootProps()}\n                  className={`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all\n                    ${isAnalysisDragActive ? 'border-purple-500 bg-purple-500/10' : 'border-slate-700 hover:border-purple-500/50'}\n                    ${analysisFile ? 'border-emerald-500 bg-emerald-500/5' : ''}`}\n                >\n                  <input {...getAnalysisInputProps()} />\n                  {analysisFile ? (\n                    <div className=\"text-emerald-400\">\n                      <div className=\"text-3xl mb-2\">‚úì</div>\n                      <p className=\"font-medium\">{analysisFile.name}</p>\n                      <p className=\"text-sm text-slate-400 mt-1\">{(analysisFile.size / 1024).toFixed(1)} KB</p>\n                    </div>\n                  ) : (\n                    <div className=\"text-slate-400\">\n                      <div className=\"text-3xl mb-2 opacity-50\">üìã</div>\n                      <p className=\"font-medium\">Drop your analysis CSV</p>\n                      <p className=\"text-sm mt-1\">Needs: No, Proyek (TRUE/FALSE), Comment</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-center gap-4\">\n              <button\n                onClick={runRawAnalysis}\n                disabled={!bankFile}\n                className=\"px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-700 disabled:cursor-not-allowed\n                  text-white font-semibold rounded-xl transition-all\"\n              >\n                üîç Analyze Raw Data Only\n              </button>\n              <button\n                onClick={runComparison}\n                disabled={!bankFile || !analysisFile}\n                className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500\n                  disabled:from-slate-700 disabled:to-slate-700 disabled:cursor-not-allowed\n                  text-white font-semibold rounded-xl transition-all\"\n              >\n                ‚öñÔ∏è Compare Against My Analysis\n              </button>\n              <button\n                onClick={loadDemo}\n                className=\"px-6 py-3 bg-slate-900 border border-indigo-500/30 text-indigo-400 hover:bg-slate-800 font-semibold rounded-xl transition-all flex items-center gap-2 group\"\n              >\n                <Monitor className=\"w-4 h-4 group-hover:animate-pulse\" /> Try Interactive Demo\n              </button>\n           </div>\n          </div>\n        )}\n\n        {/* Analyzing */}\n        {step === 'analyzing' && (\n          <div className=\"flex flex-col items-center justify-center py-20\">\n            <div className=\"w-20 h-20 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mb-6\" />\n            <h2 className=\"text-2xl font-semibold text-white mb-2\">Discovering Patterns...</h2>\n            <p className=\"text-slate-400\">Analyzing raw transaction data independently</p>\n          </div>\n        )}\n\n        {/* Raw Analysis Results */}\n        {step === 'raw-results' && rawResults && (\n          <div className=\"space-y-8\">\n            {/* Summary */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div className=\"bg-slate-900/50 rounded-xl p-5 border border-slate-800 text-center\">\n                <div className=\"text-3xl font-bold text-white\">{rawResults.total_analyzed}</div>\n                <div className=\"text-sm text-slate-400 mt-1\">Transactions Analyzed</div>\n              </div>\n              <div className=\"bg-red-500/10 rounded-xl p-5 border border-red-500/30 text-center\">\n                <div className=\"text-3xl font-bold text-red-400\">{rawResults.flagged_count}</div>\n                <div className=\"text-sm text-red-300/70 mt-1\">Flagged by App</div>\n              </div>\n              <div className=\"bg-blue-500/10 rounded-xl p-5 border border-blue-500/30 text-center\">\n                <div className=\"text-3xl font-bold text-blue-400\">{Object.keys(rawResults.discovered_patterns).length}</div>\n                <div className=\"text-sm text-blue-300/70 mt-1\">Pattern Types Found</div>\n              </div>\n              <div className=\"bg-purple-500/10 rounded-xl p-5 border border-purple-500/30 text-center\">\n                <div className=\"text-3xl font-bold text-purple-400\">{Object.keys(rawResults.top_entities).length}</div>\n                <div className=\"text-sm text-purple-300/70 mt-1\">Entities Identified</div>\n              </div>\n            </div>\n\n            {/* Discovered Patterns */}\n            <div className=\"bg-slate-900/50 rounded-2xl p-6 border border-slate-800\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">Discovered Patterns</h2>\n              <div className=\"flex flex-wrap gap-2\">\n                {Object.entries(rawResults.discovered_patterns).map(([pattern, count]) => (\n                  <span key={pattern} className={`px-3 py-1.5 rounded-full text-sm font-medium ${getPatternStyle(pattern)}`}>\n                    {pattern}: {count}\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Top Entities */}\n            <div className=\"bg-slate-900/50 rounded-2xl p-6 border border-slate-800\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">Top Entities (by frequency)</h2>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                {Object.entries(rawResults.top_entities).slice(0, 12).map(([entity, count]) => (\n                  <div key={entity} className=\"bg-slate-800/50 rounded-lg p-3\">\n                    <div className=\"text-sm text-white font-medium truncate\" title={entity}>{entity}</div>\n                    <div className=\"text-xs text-slate-400\">{count} transactions</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Sample Findings */}\n            <div className=\"bg-slate-900/50 rounded-2xl border border-slate-800 overflow-hidden\">\n              <div className=\"p-6 border-b border-slate-800 flex justify-between items-center\">\n                <h2 className=\"text-xl font-semibold text-white\">Sample Findings</h2>\n                <button onClick={reset} className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg\">\n                  Start Over\n                </button>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\" role=\"table\" aria-label=\"Raw Analysis Findings\">\n                  <thead className=\"bg-slate-800/50\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase\">#</th>\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Date</th>\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Description</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-slate-400 uppercase\">Amount</th>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-slate-400 uppercase\">Verdict</th>\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase\">Patterns Found</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-slate-800\">\n                    {rawResults.sample_findings.filter(f => f.discovered_patterns.length > 0).slice(0, 30).map((row) => (\n                      <tr \n                        key={row.row_no} \n                        className=\"hover:bg-slate-800/30 cursor-pointer\"\n                        onClick={() => setSelectedRow(row)}\n                      >\n                        <td className=\"px-4 py-3 text-sm text-slate-400\">{row.row_no}</td>\n                        <td className=\"px-4 py-3 text-sm text-slate-300\">{row.date}</td>\n                        <td className=\"px-4 py-3 text-sm text-slate-300 max-w-xs truncate\">{row.raw_description}</td>\n                        <td className=\"px-4 py-3 text-sm text-white font-mono text-right\">\n                          {row.amount.toLocaleString('id-ID')}\n                        </td>\n                        <td className=\"px-4 py-3 text-center\">\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getVerdictStyle(row.verdict)}`}>\n                            {row.verdict}\n                          </span>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex flex-wrap gap-1\">\n                            {row.discovered_patterns.map((p) => (\n                              <span key={p} className={`px-2 py-0.5 rounded text-xs ${getPatternStyle(p)}`}>{p}</span>\n                            ))}\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Comparison Results */}\n        {step === 'compare-results' && compareResults && (\n          <div className=\"space-y-8\">\n            \n            {/* Logic for \"No Fraud\" state - \"All Clear\" */}\n            {(compareResults.summary.disagreed === 0 && compareResults.summary.app_found_more === 0) ? (\n               <div className=\"bg-slate-900/50 rounded-3xl p-16 border border-emerald-500/20 flex flex-col items-center justify-center text-center backdrop-blur-sm\">\n                  <div className=\"p-6 bg-emerald-500/10 rounded-full mb-6 ring-1 ring-emerald-500/30\">\n                     <CheckCircle className=\"w-16 h-16 text-emerald-500\" />\n                  </div>\n                  <h2 className=\"text-3xl font-black text-white mb-3 tracking-tight\">All Clear! No Fraud Detected.</h2>\n                  <p className=\"text-slate-400 max-w-lg text-lg leading-relaxed\">\n                     Both your manual analysis and Zenith&apos;s AI agree: all <span className=\"text-white font-mono font-bold\">{compareResults.summary.total_transactions}</span> transactions appear legitimate.\n                  </p>\n               </div>\n            ) : (\n                /* Summary Cards */\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                   {/* 1. Consensus Donut */}\n                   <div className=\"bg-slate-900 rounded-3xl p-6 border border-white/5 relative overflow-hidden flex flex-col items-center justify-center\">\n                      <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest absolute top-6 left-6\">Consensus Engine</h3>\n                      \n                      <div className=\"w-48 h-48 relative z-10\">\n                         <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <PieChart>\n                               <Pie\n                                  data={[\n                                    { name: 'Agreed', value: compareResults.summary.agreed },\n                                    { name: 'Disagreed', value: compareResults.summary.disagreed }\n                                  ]}\n                                  cx=\"50%\" cy=\"50%\"\n                                  innerRadius={60} outerRadius={80}\n                                  paddingAngle={5}\n                                  dataKey=\"value\"\n                                  stroke=\"none\"\n                               >\n                                  <Cell fill=\"#10b981\" /> {/* Emerald-500 */}\n                                  <Cell fill=\"#f43f5e\" /> {/* Rose-500 */}\n                               </Pie>\n                            </PieChart>\n                         </ResponsiveContainer>\n                         {/* Center Value */}\n                         <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\n                            <span className=\"text-3xl font-black text-white\">{(compareResults.summary.agreement_rate * 100).toFixed(0)}%</span>\n                            <span className=\"text-[10px] uppercase font-bold text-slate-500\">Match Rate</span>\n                         </div>\n                      </div>\n                   </div>\n\n                   {/* 2. Disagreement Breakdown */}\n                   <div className=\"bg-slate-900 rounded-3xl p-6 border border-white/5 flex flex-col justify-between relative group\">\n                      <div className=\"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-50 transition-opacity\">\n                         <AlertTriangle className=\"w-12 h-12 text-blue-500\" />\n                      </div>\n                      \n                      <div>\n                        <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6\">Variance Analysis</h3>\n                        <div className=\"space-y-6\">\n                           <div>\n                              <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\n                                 <span>AI Found Extra Findings</span>\n                                 <span className=\"text-white font-mono\">{compareResults.summary.app_found_more}</span>\n                              </div>\n                               <div className=\"w-full h-2 bg-slate-800 rounded-full overflow-hidden\">\n                                  <motion.div \n                                    initial={{ width: 0 }}\n                                    animate={{ width: `${compareResults.summary.disagreed > 0 ? (compareResults.summary.app_found_more / compareResults.summary.disagreed) * 100 : 0}%` }} \n                                    className=\"h-full bg-blue-500 rounded-full\" \n                                  />\n                               </div>\n                           </div>\n                           \n                           <div>\n                              <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\n                                 <span>Human Analyst Override</span>\n                                 <span className=\"text-white font-mono\">{compareResults.summary.user_found_more || 0}</span>\n                              </div>\n                               <div className=\"w-full h-2 bg-slate-800 rounded-full overflow-hidden\">\n                                  <motion.div \n                                    initial={{ width: 0 }}\n                                    animate={{ width: `${compareResults.summary.disagreed > 0 ? (1 - (compareResults.summary.app_found_more / compareResults.summary.disagreed)) * 100 : 0}%` }} \n                                    className=\"h-full bg-fuchsia-500 rounded-full\" \n                                  />\n                               </div>\n                           </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"mt-6 p-3 rounded-xl bg-blue-500/10 border border-blue-500/20 text-xs text-blue-300 leading-relaxed\">\n                         Tip: The AI detected <span className=\"font-bold text-white\">{compareResults.summary.app_found_more} transactions</span> that you missed in your manual review.\n                      </div>\n                   </div>\n\n                   {/* 3. Time Saved (Value Prop) */}\n                   <div className=\"bg-slate-900 rounded-3xl p-6 border border-white/5 flex flex-col items-center justify-center text-center relative overflow-hidden\">\n                       {/* Background Glow */}\n                       <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-indigo-500/20 blur-3xl rounded-full\" />\n                       \n                       <div className=\"relative z-10 mb-2 p-3 bg-indigo-500/10 rounded-full ring-1 ring-indigo-500/20\">\n                          <Clock className=\"w-6 h-6 text-indigo-400\" />\n                       </div>\n                       <div className=\"relative z-10 text-5xl font-black text-white mb-1 tracking-tighter\">\n                          {Math.ceil(compareResults.summary.total_transactions / 50)}h\n                       </div>\n                       <div className=\"relative z-10 text-xs font-bold text-indigo-300 uppercase tracking-widest bg-indigo-900/40 px-3 py-1 rounded-full border border-indigo-500/30\">\n                          Manual Effort Saved\n                       </div>\n                       <div className=\"relative z-10 mt-4 text-[10px] font-mono text-slate-500\">\n                          AI Analysis Time: 0.42s\n                       </div>\n                   </div>\n                </div>\n            )}\n\n            {/* Geospatial Variance Map Integration */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n               <div className=\"lg:col-span-2 bg-[#020617] rounded-[2.5rem] border border-white/5 overflow-hidden h-[450px] relative\">\n                   <div className=\"absolute top-6 left-8 z-20\">\n                      <h3 className=\"text-xs font-black text-white uppercase tracking-widest flex items-center gap-2\">\n                         <Globe className=\"w-4 h-4 text-indigo-400\" />\n                         Discrepancy Hotspots\n                      </h3>\n                      <p className=\"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-1\">Spatial distribution of consensus variance</p>\n                   </div>\n                   <ForensicGeoMap hotspots={hotspots} />\n               </div>\n\n               <div className=\"bg-slate-900/40 rounded-[2.5rem] border border-white/5 p-8 flex flex-col justify-between\">\n                   <div>\n                       <h3 className=\"text-xs font-black text-slate-500 uppercase tracking-widest mb-6\">Variance Clusters</h3>\n                       <div className=\"space-y-4\">\n                           {hotspots.map(h => (\n                               <div key={h.id} className=\"p-4 bg-black/40 border border-white/5 rounded-2xl flex items-center justify-between group hover:border-indigo-500/30 transition-all\">\n                                   <div>\n                                       <p className=\"text-[10px] font-black text-white uppercase tracking-tight\">{h.location.name}</p>\n                                       <p className=\"text-[8px] text-slate-600 font-black uppercase tracking-widest mt-1\">{h.rootCause}</p>\n                                   </div>\n                                   <div className=\"text-right\">\n                                       <p className=\"text-[10px] font-mono font-bold text-indigo-400\">Rp {(h.value / 1000000).toFixed(0)}M</p>\n                                   </div>\n                               </div>\n                           ))}\n                       </div>\n                   </div>\n                   <button className=\"w-full py-4 bg-indigo-600/10 hover:bg-indigo-600/20 text-indigo-400 border border-indigo-500/20 rounded-2xl text-[9px] font-black uppercase tracking-widest transition-all\">\n                       Analyze Cluster Dispersion\n                   </button>\n               </div>\n            </div>\n\n            {/* Discovered Patterns */}\n            <div className=\"bg-slate-900/50 rounded-2xl p-6 border border-slate-800\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">Patterns the App Discovered</h2>\n              <div className=\"flex flex-wrap gap-2\">\n                {Object.entries(compareResults.discovered_patterns).map(([pattern, count]) => (\n                  <span key={pattern} className={`px-3 py-1.5 rounded-full text-sm font-medium ${getPatternStyle(pattern)}`}>\n                    {pattern}: {count}\n                  </span>\n                ))}\n              </div>\n            </div>\n\n            {/* Split-Screen Comparison Lens */}\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center mb-4\">\n                 <h2 className=\"text-xl font-semibold text-white\">Forensic Lens: App vs Analyst</h2>\n                 <div className=\"flex gap-4 text-sm font-mono opacity-70\">\n                    <span className=\"flex items-center gap-2 text-indigo-400\">\n                       <div className=\"w-3 h-3 border border-indigo-400 rounded-full\" />\n                       AI Forensic Verdict\n                    </span>\n                    <span className=\"flex items-center gap-2 text-fuchsia-400\">\n                       <div className=\"w-3 h-3 border border-fuchsia-400 rounded-full\" />\n                       Your Analysis\n                    </span>\n                 </div>\n              </div>\n\n              {compareResults.comparisons.slice(0, 50).map((row) => (\n                <div key={row.row_no} className=\"relative group\">\n                  {/* Central Connector Line */}\n                  <div className={`absolute left-1/2 top-0 bottom-0 w-px -ml-px z-0 \n                      ${row.match_status === 'agree' ? 'bg-emerald-500/30' : 'bg-rose-500/50 dashed-line'}`} \n                  />\n                  \n                  <div className=\"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 p-2\">\n                    {/* LEFT: AI / FORENSIC VIEW */}\n                    <div className={`p-4 rounded-2xl border transition-all hover:bg-slate-800/50 flex flex-col justify-between\n                        ${row.match_status === 'agree' ? 'bg-slate-900/40 border-slate-700' : 'bg-indigo-900/10 border-indigo-500/30'}\n                    `}>\n                       <div className=\"mb-2 flex justify-between items-start\">\n                          <span className=\"text-[10px] uppercase tracking-widest text-indigo-400 font-bold\">\n                             AI Verdict\n                          </span>\n                          <span className={`px-2 py-0.5 rounded-full text-[10px] font-mono border ${getVerdictStyle(row.app_verdict)}`}>\n                             {row.app_verdict}\n                          </span>\n                       </div>\n                       \n                       <div className=\"space-y-1\">\n                          <p className=\"text-sm font-medium text-slate-200\">{row.description}</p>\n                          <p className=\"text-xs font-mono text-slate-400\">IDR {row.amount.toLocaleString('id-ID')}</p>\n                       </div>\n\n                       <div className=\"mt-3 pt-3 border-t border-white/5\">\n                          <p className=\"text-[10px] text-slate-500 mb-1\">REASONING:</p>\n                          <div className=\"flex flex-wrap gap-1\">\n                             {row.app_reasoning.slice(0, 3).map((r, i) => (\n                               <span key={i} className=\"text-[10px] px-1.5 py-0.5 bg-white/5 rounded text-indigo-200\">\n                                 {r}\n                               </span>\n                             ))}\n                          </div>\n                       </div>\n                    </div>\n\n                    {/* RIGHT: USER / ANALYST VIEW */}\n                    <div className={`p-4 rounded-2xl border transition-all hover:bg-slate-800/50 flex flex-col justify-between\n                        ${row.match_status === 'agree' ? 'bg-slate-900/40 border-slate-700' : 'bg-fuchsia-900/10 border-fuchsia-500/30'}\n                    `}>\n                       <div className=\"mb-2 flex justify-between items-start\">\n                          <span className=\"text-[10px] uppercase tracking-widest text-fuchsia-400 font-bold\">\n                             Analyst Input\n                          </span>\n                          <span className={`px-2 py-0.5 rounded-full text-[10px] font-mono\n                             ${row.user_marked_as_project ? 'bg-emerald-500/20 text-emerald-300 border border-emerald-500/30' : 'bg-slate-700 text-slate-400'}\n                          `}>\n                             {row.user_marked_as_project ? 'MARKED AS PROJECT' : 'IGNORED'}\n                          </span>\n                       </div>\n\n                       <div className=\"space-y-1 opacity-70\">\n                          <p className=\"text-sm font-medium text-slate-200\">{row.description}</p>\n                          <p className=\"text-xs font-mono text-slate-400\">IDR {row.amount.toLocaleString('id-ID')}</p>\n                       </div>\n\n                       {row.user_comment && (\n                         <div className=\"mt-3 pt-3 border-t border-white/5\">\n                            <p className=\"text-[10px] text-slate-500 mb-1\">COMMENT:</p>\n                             <p className=\"text-xs italic text-fuchsia-200\">&quot;{row.user_comment}&quot;</p>\n                         </div>\n                       )}\n                    </div>\n                  </div>\n\n                  {/* CENTER: MATCH BADGE */}\n                  <div className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-20 w-8 h-8 rounded-full border-2 flex items-center justify-center shadow-lg\n                      ${row.match_status === 'agree' \n                        ? 'bg-slate-900 border-emerald-500 text-emerald-500' \n                        : 'bg-slate-900 border-rose-500 text-rose-500 animate-pulse'}\n                  `}>\n                      {row.match_status === 'agree' ? '‚úì' : '!'}\n                  </div>\n                </div>\n              ))}\n              \n              <div className=\"flex justify-center pt-8\">\n                <button onClick={reset} className=\"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg\">\n                   Analyze New Batch\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Detail Modal */}\n        {selectedRow && 'discovered_patterns' in selectedRow && (\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\" onClick={() => setSelectedRow(null)}>\n            <div className=\"bg-slate-900 rounded-2xl p-6 max-w-lg w-full border border-slate-700\" onClick={e => e.stopPropagation()}>\n              <h3 className=\"text-xl font-bold text-white mb-4\">Transaction #{selectedRow.row_no}</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm text-slate-400\">Description</label>\n                  <p className=\"text-white\">{selectedRow.raw_description}</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-slate-400\">Amount</label>\n                  <p className=\"text-white font-mono\">{selectedRow.amount.toLocaleString('id-ID')} IDR</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-slate-400\">App Verdict</label>\n                  <span className={`ml-2 px-3 py-1 rounded-full text-sm font-medium border ${getVerdictStyle(selectedRow.verdict)}`}>\n                    {selectedRow.verdict}\n                  </span>\n                </div>\n                <div>\n                  <label className=\"text-sm text-slate-400 block mb-2\">Discovered Patterns</label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {selectedRow.discovered_patterns.map(p => (\n                      <span key={p} className={`px-2 py-1 rounded text-sm ${getPatternStyle(p)}`}>{p}</span>\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm text-slate-400 block mb-2\">Reasoning</label>\n                  <ul className=\"space-y-1\">\n                    {selectedRow.reasoning.map((r, i) => (\n                      <li key={i} className=\"text-sm text-slate-300\">‚Ä¢ {r}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n              <button onClick={() => setSelectedRow(null)} className=\"mt-6 w-full py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg\">\n                Close\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/api/auth/[...nextauth]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/cases/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/cases/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/CommandBar.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/CommandBar.tsx:44:13\n  42 |         if (isOpen) {\n  43 |             setTimeout(() => inputRef.current?.focus(), 100);\n> 44 |             setQuery('');\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  45 |             setSelectedIndex(0);\n  46 |         }\n  47 |     }, [isOpen]);","line":44,"column":13,"nodeType":null,"endLine":44,"endColumn":21},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":136,"column":128,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8003,8025],"text":"No matches found for &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8003,8025],"text":"No matches found for &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8003,8025],"text":"No matches found for &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8003,8025],"text":"No matches found for &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":136,"column":136,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8032,8033],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8032,8033],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8032,8033],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8032,8033],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Search, Command, Zap, ArrowRight, X, LayoutDashboard, Database, Network, Satellite, Landmark, TrendingUp, Gavel, Truck, Shield } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nconst COMMANDS = [\n    { id: 'dash', label: 'Project Command', group: 'General', icon: LayoutDashboard, href: '/' },\n    { id: 'ingestion', label: 'Evidence Ingestion', group: 'Phase I', icon: Database, href: '/ingestion' },\n    { id: 'nexus', label: 'Vendor Nexus Explorer', group: 'Phase I', icon: Network, href: '/forensic/nexus' },\n    { id: 'satellite', label: 'Satellite Intelligence', group: 'Phase I', icon: Satellite, href: '/forensic/satellite' },\n    { id: 'recon', label: 'Transaction Reconciliation', group: 'Phase II', icon: Landmark, href: '/reconciliation' },\n    { id: 'flow', label: 'Termin Flow Tracer', group: 'Phase II', icon: Zap, href: '/forensic/flow' },\n    { id: 'analytics', label: 'S-Curve & RAB Analytics', group: 'Phase II', icon: TrendingUp, href: '/forensic/analytics' },\n    { id: 'lab', label: 'Tactical Forensic Lab', group: 'Phase II', icon: Gavel, href: '/forensic/lab' },\n    { id: 'discrepancy', label: 'Discrepancy Adjudication', group: 'Phase III', icon: Gavel, href: '/forensic/discrepancy' },\n    { id: 'seizure', label: 'Asset Seizure Cabinet', group: 'Phase IV', icon: Truck, href: '/forensic/assets' },\n    { id: 'screening', label: 'Sanction Monitor', group: 'Phase IV', icon: Shield, href: '/legal/screening' },\n];\n\nexport default function CommandBar() {\n    const [isOpen, setIsOpen] = useState(false);\n    const [query, setQuery] = useState('');\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const router = useRouter();\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\n                e.preventDefault();\n                setIsOpen(prev => !prev);\n            }\n            if (e.key === 'Escape') setIsOpen(false);\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, []);\n\n    useEffect(() => {\n        if (isOpen) {\n            setTimeout(() => inputRef.current?.focus(), 100);\n            setQuery('');\n            setSelectedIndex(0);\n        }\n    }, [isOpen]);\n\n    const filteredCommands = COMMANDS.filter(cmd => \n        cmd.label.toLowerCase().includes(query.toLowerCase()) || \n        cmd.group.toLowerCase().includes(query.toLowerCase())\n    );\n\n    const handleSelect = (href: string) => {\n        router.push(href);\n        setIsOpen(false);\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'ArrowDown') {\n            e.preventDefault();\n            setSelectedIndex(prev => (prev + 1) % filteredCommands.length);\n        } else if (e.key === 'ArrowUp') {\n            e.preventDefault();\n            setSelectedIndex(prev => (prev - 1 + filteredCommands.length) % filteredCommands.length);\n        } else if (e.key === 'Enter') {\n            if (filteredCommands[selectedIndex]) {\n                handleSelect(filteredCommands[selectedIndex].href);\n            }\n        }\n    };\n\n    return (\n        <AnimatePresence>\n            {isOpen && (\n                <div className=\"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] px-4\">\n                    <motion.div \n                        initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\n                        onClick={() => setIsOpen(false)}\n                        className=\"absolute inset-0 bg-slate-950/60 backdrop-blur-md\"\n                    />\n\n                    <motion.div \n                        initial={{ opacity: 0, scale: 0.95, y: -20 }}\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\n                        exit={{ opacity: 0, scale: 0.95, y: -20 }}\n                        className=\"w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden relative z-10\"\n                    >\n                        <div className=\"flex items-center gap-4 px-6 py-5 border-b border-white/5 bg-white/[0.02]\">\n                            <Search className=\"w-5 h-5 text-slate-500\" />\n                            <input \n                                ref={inputRef}\n                                type=\"text\"\n                                value={query}\n                                onChange={(e) => setQuery(e.target.value)}\n                                onKeyDown={handleKeyDown}\n                                placeholder=\"Search tools, projects, or actions...\"\n                                className=\"bg-transparent border-none outline-none flex-1 text-white placeholder-slate-600 font-mono text-sm\"\n                            />\n                            <div className=\"flex items-center gap-1 px-2 py-1 rounded bg-slate-800 border border-white/5 text-[10px] text-slate-500 font-mono\">\n                                <Command className=\"w-2.5 h-2.5\" /> K\n                            </div>\n                            <button onClick={() => setIsOpen(false)} className=\"p-1 hover:bg-white/5 rounded text-slate-500 hover:text-white\">\n                                <X className=\"w-4 h-4\" />\n                            </button>\n                        </div>\n\n                        <div className=\"max-h-[60vh] overflow-y-auto p-2 custom-scrollbar\">\n                            {filteredCommands.length > 0 ? (\n                                <div className=\"space-y-1\">\n                                    {filteredCommands.map((cmd, idx) => (\n                                        <div \n                                            key={cmd.id}\n                                            onClick={() => handleSelect(cmd.href)}\n                                            onMouseEnter={() => setSelectedIndex(idx)}\n                                            className={`flex items-center justify-between px-4 py-3.5 rounded-xl cursor-pointer transition-all ${selectedIndex === idx ? 'bg-indigo-600 text-white' : 'hover:bg-white/[0.03] text-slate-400'}`}\n                                        >\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${selectedIndex === idx ? 'bg-white/20' : 'bg-slate-950'}`}>\n                                                    <cmd.icon className=\"w-4 h-4\" />\n                                                </div>\n                                                <div>\n                                                    <div className={`text-sm font-black uppercase tracking-tight ${selectedIndex === idx ? 'text-white' : 'text-slate-200'}`}>{cmd.label}</div>\n                                                    <div className={`text-[9px] font-bold uppercase tracking-widest ${selectedIndex === idx ? 'text-indigo-200' : 'text-slate-600'}`}>{cmd.group}</div>\n                                                </div>\n                                            </div>\n                                            {selectedIndex === idx && (\n                                                <ArrowRight className=\"w-4 h-4 opacity-50\" />\n                                            )}\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <div className=\"py-20 flex flex-col items-center justify-center text-slate-600 gap-4\">\n                                    <Search className=\"w-10 h-10 opacity-20\" />\n                                    <span className=\"text-xs uppercase font-black tracking-widest italic\">No matches found for \"{query}\"</span>\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"px-6 py-4 bg-black/40 border-t border-white/5 flex items-center justify-between text-[10px] text-slate-500 font-bold uppercase tracking-widest\">\n                            <div className=\"flex gap-6 italic\">\n                                <span>‚Üë‚Üì to navigate</span>\n                                <span>‚èé to select</span>\n                                <span>esc to close</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-indigo-400\">\n                                <Zap className=\"w-3 h-3 fill-current\" /> Zenith Autopilot Active\n                            </div>\n                        </div>\n                    </motion.div>\n                </div>\n            )}\n        </AnimatePresence>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/ForensicErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/ForensicPageLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/ForensicSidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":6,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[159,176],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart3' is defined but never used.","line":8,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":12,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"BarChart3"},"fix":{"range":[213,223],"text":""},"desc":"Remove unused variable \"BarChart3\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Binary' is defined but never used.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Binary"},"fix":{"range":[282,292],"text":""},"desc":"Remove unused variable \"Binary\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Network' is defined but never used.","line":17,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Network"},"fix":{"range":[322,333],"text":""},"desc":"Remove unused variable \"Network\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":19,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FileText"},"fix":{"range":[342,354],"text":""},"desc":"Remove unused variable \"FileText\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Satellite' is defined but never used.","line":22,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":12,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Satellite"},"fix":{"range":[373,386],"text":""},"desc":"Remove unused variable \"Satellite\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BookOpen' is defined but never used.","line":23,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"BookOpen"},"fix":{"range":[386,398],"text":""},"desc":"Remove unused variable \"BookOpen\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFirstRender' is assigned a value but never used.","line":38,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":22},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/ForensicSidebar.tsx:41:5\n  39 |\n  40 |   useEffect(() => {\n> 41 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  42 |     fetchProjects();\n  43 |     \n  44 |     // Subscribe to all events to track recent activity","line":41,"column":5,"nodeType":null,"endLine":41,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  BarChart3, \n  Terminal, \n  Search, \n  ShieldAlert, \n  LayoutDashboard,\n  Binary,\n  Layers,\n  HardHat,\n  Gavel,\n  Network,\n  Truck,\n  FileText,\n  Database,\n  Zap,\n  Satellite,\n  BookOpen,\n  LifeBuoy\n} from 'lucide-react';\nimport { useProject } from '@/store/useProject';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport { RecommendationEngine } from '@/lib/RecommendationEngine';\nimport { forensicBus } from '@/lib/ForensicEventBus';\n\nexport default function ForensicSidebar() {\n  const pathname = usePathname();\n  const [mounted, setMounted] = useState(false);\n  const activeInvestigation = useInvestigation(state => state.activeInvestigation);\n  const { activeProjectId, projects, setActiveProject, fetchProjects } = useProject();\n  const [recentEvents, setRecentEvents] = useState<Array<{ type: string; payload: unknown }>>([]);\n\n  const isFirstRender = React.useRef(true);\n\n  useEffect(() => {\n    setMounted(true);\n    fetchProjects();\n    \n    // Subscribe to all events to track recent activity\n    const eventTypes = [\n      'TRANSACTION_FLAGGED', 'VENDOR_SUSPICIOUS', 'PROJECT_STALLED',\n      'OFFSHORE_TRANSFER', 'SANCTION_HIT', 'SATELLITE_DISCREPANCY', 'ASSET_DISCOVERED'\n    ] as const;\n\n    const unsubscribes = eventTypes.map(type => \n      forensicBus.subscribe(type, (event) => {\n        setRecentEvents(prev => [\n          { type: event.type, payload: event.payload },\n          ...prev.slice(0, 4) // Keep last 5 events\n        ]);\n      })\n    );\n\n    return () => {\n      unsubscribes.forEach(unsubscribe => forensicBus.unsubscribe(unsubscribe));\n    };\n  }, [fetchProjects]);\n\n  if (pathname === '/login') return null;\n  if (!mounted) return null;\n\n  const navGroups = [\n    {\n      phase: 'Audit Command',\n      items: [\n        { icon: LayoutDashboard, label: 'Command Center', href: '/', id: '00' },\n      ]\n    },\n    {\n      phase: 'PHASE I: DATA INGESTION',\n      items: [\n        { icon: Database, label: 'Evidence Ingestion', href: '/ingestion', id: '01' },\n        { icon: LayoutDashboard, label: 'Multiplex Hub', href: '/forensic/hub', id: '02-hub' },\n      ]\n    },\n    {\n      phase: 'PHASE II: FLOW ANALYTICS',\n      items: [\n        { icon: ShieldAlert, label: 'Reconciliation', href: '/reconciliation', id: '02' },\n        { icon: Layers, label: 'Site Forensic Lab', href: '/forensic/lab', id: '04' },\n      ]\n    },\n    {\n      phase: 'PHASE III: EVIDENCE ADJUDICATION',\n      items: [\n        { icon: Gavel, label: 'Workbench', href: '/investigate', id: '07' },\n        { icon: Search, label: 'Consensus Adjudicator', href: '/analyst-comparison', id: '08' },\n        { icon: Terminal, label: 'Simulation Lab', href: '/simulation', id: '03' },\n      ]\n    },\n    {\n      phase: 'PHASE IV: CASE COMPILATION',\n      items: [\n        { icon: Truck, label: 'Linkage Cabinet', href: '/forensic/assets', id: '10' },\n        { icon: ShieldAlert, label: 'Compliance Office', href: '/legal/screening', id: '12' },\n      ]\n    },\n    {\n        phase: 'System & Support',\n        items: [\n            { icon: LifeBuoy, label: 'Help & Docs', href: '/docs', id: '99' },\n        ]\n    }\n  ];\n\n  // Get smart recommendations when investigation is active\n  const recommendations = activeInvestigation \n    ? RecommendationEngine.getRecommendations(activeInvestigation)\n    : [];\n\n  const FALLBACK_PROGRESS = { acquisition: 0, forensic: 0, verdict: 0, enforcement: 0 };\n  const phaseToKey: Record<number, keyof typeof FALLBACK_PROGRESS> = {\n    1: 'acquisition',\n    2: 'forensic',\n    3: 'verdict',\n    4: 'enforcement'\n  };\n\n  return (\n    <aside className=\"w-64 bg-slate-950 border-r border-white/5 h-screen flex flex-col p-6 sticky top-0 font-sans overflow-y-auto no-scrollbar\">\n      <div className=\"flex flex-col gap-6 mb-8\">\n        <div className=\"flex items-center gap-3\">\n            <div className=\"p-2.5 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-900/40 text-white\">\n            <HardHat className=\"w-5 h-5\" />\n            </div>\n            <div className=\"flex flex-col\">\n                <span className=\"font-black text-xl tracking-tighter text-white italic leading-none\">ZENITH</span>\n                <span className=\"text-[10px] font-black text-indigo-500 uppercase tracking-[0.2em] -mt-0.5\">Auditor</span>\n            </div>\n        </div>\n\n        {/* Project Selector */}\n        <div className=\"space-y-2\">\n            <label className=\"text-[9px] font-black text-slate-500 uppercase tracking-widest ml-1\">Project Command</label>\n            <div className=\"relative group\">\n                <select \n                    value={activeProjectId || ''} \n                    onChange={(e) => setActiveProject(e.target.value)}\n                    title=\"Select Active Project\"\n                    aria-label=\"Select Active Project\"\n                    className=\"w-full bg-slate-900 border border-white/5 rounded-xl px-4 py-3 text-xs font-bold text-white appearance-none cursor-pointer focus:border-indigo-500/50 outline-none transition-all hover:bg-slate-800\"\n                >\n                    {projects.length === 0 && <option value=\"\">Loading Projects...</option>}\n                    {projects.map(p => (\n                        <option key={p.id} value={p.id}>{p.name}</option>\n                    ))}\n                </select>\n                <div className=\"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 group-hover:text-white transition-colors\">\n                    <Layers className=\"w-3 h-3\" />\n                </div>\n            </div>\n        </div>\n      </div>\n\n      {/* Smart Recommendations Section */}\n      {recommendations.length > 0 && (\n        <div className=\"mb-6 p-4 bg-indigo-600/10 border border-indigo-500/20 rounded-2xl\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <Zap className=\"w-4 h-4 text-indigo-400\" />\n            <span className=\"text-[10px] font-black text-indigo-400 uppercase tracking-widest\">\n              Suggested Next\n            </span>\n          </div>\n          <div className=\"space-y-2\">\n            {recommendations.slice(0, 2).map((rec, i) => (\n              <Link\n                key={i}\n                href={rec.toolPath}\n                className=\"block p-3 bg-slate-900/50 hover:bg-slate-900 rounded-xl border border-white/5 hover:border-indigo-500/30 transition-all group\"\n              >\n                <p className=\"text-xs font-bold text-white mb-1\">{rec.toolName}</p>\n                <p className=\"text-[10px] text-slate-500 leading-relaxed\">{rec.reason}</p>\n              </Link>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Main Navigation */}\n      <nav className=\"flex flex-col gap-8 flex-1\">\n        {navGroups.map((group, gIdx) => (\n          <div key={group.phase} className=\"space-y-4\">\n            <div className=\"flex items-center justify-between px-4\">\n                <h3 className=\"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] flex items-center gap-2\">\n                    {gIdx < 5 && <div className=\"w-1.5 h-1.5 bg-slate-800 rounded-full\" />}\n                    {group.phase}\n                </h3>\n                {gIdx > 0 && gIdx < 5 && (\n                    <span className=\"text-[9px] font-mono text-indigo-500/80 font-bold\">\n                        {(activeInvestigation?.phaseProgress || FALLBACK_PROGRESS)[phaseToKey[gIdx] as keyof typeof FALLBACK_PROGRESS]}%\n                    </span>\n                )}\n            </div>\n            {gIdx > 0 && gIdx < 5 && (\n                <div className=\"px-4 -mt-2\">\n                    <div className=\"h-1 w-full bg-white/5 rounded-full overflow-hidden\">\n                        <motion.div \n                            initial={{ width: 0 }}\n                            animate={{ width: `${(activeInvestigation?.phaseProgress || FALLBACK_PROGRESS)[phaseToKey[gIdx] as keyof typeof FALLBACK_PROGRESS]}%` }}\n                            className={`h-full bg-${gIdx === 1 ? 'indigo' : gIdx === 2 ? 'emerald' : gIdx === 3 ? 'amber' : 'rose'}-500 transition-all duration-1000`}\n                        />\n                    </div>\n                </div>\n            )}\n            <div className=\"flex flex-col gap-1\">\n                {group.items.map((item) => {\n                const isActive = pathname === item.href;\n                const shouldHighlight = RecommendationEngine.shouldHighlightTool(item.href, recentEvents);\n                \n                return (\n                    <Link\n                    key={item.id}\n                    href={item.href}\n                    className={`\n                        group flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm font-bold\n                        ${isActive \n                        ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/30' \n                        : shouldHighlight\n                            ? 'bg-rose-600/20 text-rose-300 border border-rose-500/30 animate-pulse'\n                            : 'text-slate-400 hover:text-white hover:bg-slate-900/50'\n                        }\n                    `}\n                    >\n                    <item.icon className={`w-4 h-4 shrink-0 ${isActive ? 'text-white' : shouldHighlight ? 'text-rose-400' : 'text-slate-500 group-hover:text-white'}`} />\n                    <span className=\"truncate\">{item.label}</span>\n                    {shouldHighlight && (\n                        <div className=\"ml-auto w-2 h-2 bg-rose-500 rounded-full shadow-[0_0_8px_#f43f5e]\" />\n                    )}\n                    </Link>\n                );\n                })}\n            </div>\n          </div>\n        ))}\n      </nav>\n\n      {/* Status Footer */}\n      <div className=\"mt-6 pt-6 border-t border-white/5\">\n        <div className=\"flex items-center gap-3 px-4 py-3 bg-slate-900/50 rounded-xl\">\n          <div className=\"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981] animate-pulse\" />\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-[10px] font-black text-white uppercase tracking-wider\">System Online</p>\n            <p className=\"text-[9px] text-slate-600 font-mono truncate\">v3.8.2-NEXUS</p>\n          </div>\n        </div>\n\n        {activeInvestigation && (\n          <div className=\"mt-3 px-4 py-2 bg-indigo-600/10 border border-indigo-500/20 rounded-lg\">\n            <p className=\"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-1\">\n              Investigation Active\n            </p>\n            <p className=\"text-[10px] text-slate-400 font-bold truncate\">\n              {activeInvestigation.title}\n            </p>\n          </div>\n        )}\n      </div>\n    </aside>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/HolographicBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/OnboardingModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/Providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/components/TelemetrySync.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/analytics/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronLeft' is defined but never used.","line":8,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronLeft"},"fix":{"range":[165,178],"text":""},"desc":"Remove unused variable \"ChevronLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":11,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[305,334],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SkeletonPageHeader' is defined but never used.","line":13,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"SkeletonPageHeader"},"fix":{"range":[410,429],"text":""},"desc":"Remove unused variable \"SkeletonPageHeader\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SkeletonMetricCard' is defined but never used.","line":13,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":48,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"SkeletonMetricCard"},"fix":{"range":[428,448],"text":""},"desc":"Remove unused variable \"SkeletonMetricCard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SkeletonChart' is defined but never used.","line":13,"column":50,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":63,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"SkeletonChart"},"fix":{"range":[448,463],"text":""},"desc":"Remove unused variable \"SkeletonChart\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SkeletonTable' is defined but never used.","line":13,"column":65,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":78,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"SkeletonTable"},"fix":{"range":[401,530],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HolographicBadge' is defined but never used.","line":16,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"HolographicBadge"},"fix":{"range":[533,598],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\n\nimport { \n  TrendingDown, AlertCircle, \n  Download, BarChart3, Zap,\n  Briefcase, Activity, Target, ChevronLeft\n} from 'lucide-react';\nimport { XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, AreaChart, Area } from 'recharts';\nimport Link from 'next/link';\nimport RABComparisonTable from '@/components/RABComparisonTable';\nimport { SkeletonPageHeader, SkeletonMetricCard, SkeletonChart, SkeletonTable } from '@/components/skeletons/SkeletonComponents';\n\n\nimport HolographicBadge from '@/app/components/HolographicBadge';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\n\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200';\n\ninterface ProjectData {\n  project: {\n    name: string;\n    code: string;\n    status: string;\n  };\n  financials: {\n    contract_value: number;\n    total_released: number;\n    total_spent_onsite: number;\n  };\n  leakage: {\n    total_leakage: number;\n    markup_leakage: number;\n  };\n  budget_variance?: Array<{\n    id?: string;\n    rab_unit_price?: number;\n    actual_unit_price?: number;\n    rab_quantity?: number;\n    actual_quantity?: number;\n    item_name?: string;\n    category?: string;\n    unit_price_rab?: number;\n    avg_unit_price_actual?: number;\n    markup_percentage?: number;\n    volume_discrepancy?: number;\n    item?: string;\n    budgeted?: number;\n    actual?: number;\n    variance?: number;\n  }>;\n}\n\ninterface SCurveData {\n  curve_data?: Array<{\n    date: string;\n    pv: number;\n    ac: number;\n  }>;\n}\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\n\nexport default function ProjectAuditPage() {\n  const { activeProjectId } = useProject();\n  const [projectData, setProjectData] = useState<ProjectData | null>(null);\n  const [sCurveData, setSCurveData] = useState<SCurveData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const isMock = !projectData;\n\n  useEffect(() => {\n    if (!activeProjectId) return;\n\n    async function fetchData() {\n        setLoading(true);\n        try {\n            const [dashRes, curveRes] = await Promise.all([\n                fetch(`${API_URL}/api/v1/project/${activeProjectId}/dashboard`),\n                fetch(`${API_URL}/api/v1/project/${activeProjectId}/s-curve`)\n            ]);\n            \n            if (dashRes.ok && curveRes.ok) {\n                setProjectData(await dashRes.json());\n                setSCurveData(await curveRes.json());\n            } else {\n                setProjectData(null);\n                setSCurveData(null);\n            }\n        } catch (e) {\n            console.error(e);\n            setProjectData(null);\n        } finally {\n            setLoading(false);\n        }\n    }\n    fetchData();\n  }, [activeProjectId]);\n\n  const displayProject = projectData || HOLOGRAPHIC_SOURCE.projectDashboard;\n  const displayCurve = sCurveData?.curve_data || HOLOGRAPHIC_SOURCE.sCurve;\n\n  return (\n    <ForensicPageLayout\n        title={displayProject.project.name}\n        subtitle={`Code: ${displayProject.project.code} // Status: ${displayProject.project.status}`}\n        icon={Briefcase}\n        isMockData={isMock}\n        loading={loading}\n        loadingMessage=\"Recalculating Variance Engine...\"\n        headerActions={\n            <div className=\"flex gap-8\">\n                 <div className=\"text-right\">\n                     <div className=\"text-[10px] uppercase text-slate-500 font-black tracking-widest\">Confidence Score</div>\n                     <div className=\"text-2xl font-black text-rose-500\">42%</div>\n                 </div>\n                 <div className=\"w-px h-10 bg-white/10\" />\n                 <div className=\"text-right\">\n                    <div className=\"text-[10px] uppercase text-slate-500 font-black tracking-widest\">Est. Leakage</div>\n                    <div className=\"text-2xl font-black text-rose-500\">Rp {(displayProject.leakage.total_leakage / 1000000000).toFixed(2)} B</div>\n                 </div>\n            </div>\n        }\n    >\n        <div className=\"p-8 space-y-8 overflow-y-auto h-full custom-scrollbar\">\n        \n        {/* Main Stats Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            <StatsCard label=\"Contract Value\" value={`Rp ${(displayProject.financials.contract_value / 1000000000).toFixed(1)} B`} icon={Target} color=\"text-slate-200\" />\n            <StatsCard label=\"Funds Released\" value={`Rp ${(displayProject.financials.total_released / 1000000000).toFixed(1)} B`} icon={Activity} color=\"text-indigo-400\" />\n            <StatsCard label=\"Actual Spent\" value={`Rp ${(displayProject.financials.total_spent_onsite / 1000000000).toFixed(1)} B`} icon={TrendingDown} color=\"text-emerald-400\" />\n            <StatsCard label=\"Unaccounted / Leakage\" value={`Rp ${(displayProject.leakage.total_leakage / 1000000000).toFixed(2)} B`} icon={AlertCircle} color=\"text-rose-500\" highlight />\n        </div>\n\n        {/* S-Curve Visualization */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2 glass-panel p-8 rounded-[2.5rem] min-h-[450px] border border-white/5 shadow-2xl\">\n                 <div className=\"flex justify-between items-center mb-10\">\n                     <h2 className=\"text-lg font-black text-white flex items-center gap-3 uppercase tracking-tight\">\n                         <BarChart3 className=\"w-5 h-5 text-indigo-500\" /> S-Curve Replay Engine\n                     </h2>\n                     <div className=\"flex gap-6 text-[10px] font-black uppercase tracking-widest\">\n                         <span className=\"flex items-center gap-2 text-rose-400\"><div className=\"w-2 h-2 rounded-full bg-rose-500\" /> Actual Cost (AC)</span>\n                         <span className=\"flex items-center gap-2 text-slate-500\"><div className=\"w-2 h-2 rounded-full bg-slate-500\" /> Planned Value (PV)</span>\n                     </div>\n                 </div>\n                 \n                 <div className=\"h-[320px] w-full\">\n                     <ResponsiveContainer width=\"100%\" height=\"100%\">\n                         <AreaChart data={displayCurve}>\n                             <defs>\n                                <linearGradient id=\"colorAc\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                    <stop offset=\"5%\" stopColor=\"#f43f5e\" stopOpacity={0.2}/>\n                                    <stop offset=\"95%\" stopColor=\"#f43f5e\" stopOpacity={0}/>\n                                </linearGradient>\n                                <linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                    <stop offset=\"5%\" stopColor=\"#6366f1\" stopOpacity={0.1}/>\n                                    <stop offset=\"95%\" stopColor=\"#6366f1\" stopOpacity={0}/>\n                                </linearGradient>\n                             </defs>\n                             <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#1e293b\" vertical={false} opacity={0.3} />\n                             <XAxis \n                                dataKey=\"date\" \n                                stroke=\"#334155\"\n                                tick={{fontSize: 9, fill: '#64748b', fontWeight: 'bold'}} \n                                tickFormatter={(t) => new Date(t).toLocaleDateString([], {month: 'short'})} \n                             />\n                             <YAxis \n                                stroke=\"#334155\"\n                                tick={{fontSize: 9, fill: '#64748b', fontWeight: 'bold'}} \n                                tickFormatter={(v) => `Rp ${(v/1000000000).toFixed(0)}B`} \n                             />\n                             <Tooltip \n                                contentStyle={{ backgroundColor: '#020617', borderColor: '#1e293b', borderRadius: '16px', boxShadow: '0 20px 40px rgba(0,0,0,0.4)' }}\n                                itemStyle={{ fontSize: '11px', fontWeight: 'bold', textTransform: 'uppercase' }}\n                                labelStyle={{ color: '#6366f1', fontSize: '9px', fontWeight: '900', marginBottom: '8px', textTransform: 'uppercase', letterSpacing: '0.1em' }}\n                                formatter={(value?: number) => [`Rp ${value?.toLocaleString() || 0}`, 'Value']}\n                             />\n                             <Area type=\"monotone\" dataKey=\"pv\" stroke=\"#475569\" strokeWidth={2} fillOpacity={1} fill=\"url(#colorPv)\" strokeDasharray=\"5 5\" cursor=\"pointer\" activeDot={{ r: 6, strokeWidth: 0 }} />\n                             <Area type=\"monotone\" dataKey=\"ac\" stroke=\"#f43f5e\" strokeWidth={4} fillOpacity={1} fill=\"url(#colorAc)\" cursor=\"pointer\" activeDot={{ r: 8, strokeWidth: 2, stroke: '#fff' }} />\n                         </AreaChart>\n                     </ResponsiveContainer>\n                 </div>\n            </div>\n\n            {/* AI Insight Panel */}\n            <div className=\"glass-panel p-8 rounded-[2.5rem] flex flex-col justify-between border border-white/5 shadow-2xl bg-gradient-to-br from-indigo-950/20 to-slate-900/50\">\n                 <div className=\"space-y-8\">\n                    <h2 className=\"text-lg font-black text-white flex items-center gap-3 uppercase tracking-tight\">\n                        <Zap className=\"w-5 h-5 text-indigo-400\" /> Auditor Insights\n                    </h2>\n                    \n                    <div className=\"space-y-4\">\n                        <div className=\"p-5 bg-rose-500/5 border border-rose-500/20 rounded-2xl relative overflow-hidden group\">\n                            <div className=\"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-100 transition-opacity\">\n                                <AlertCircle className=\"w-12 h-12 text-rose-500\" />\n                            </div>\n                            <h3 className=\"text-[10px] font-black text-rose-400 uppercase tracking-widest mb-2 flex items-center gap-2\">\n                                <div className=\"w-1.5 h-1.5 bg-rose-500 rounded-full animate-pulse\" /> Leakage Signature\n                            </h3>\n                            <p className=\"text-xs text-slate-300 leading-relaxed font-medium\">\n                                Detected <b>Rp {displayProject.leakage.markup_leakage.toLocaleString()}</b> in potential price markups. \n                                Concrete unit prices are <b>52% above</b> RAB baseline.\n                            </p>\n                        </div>\n                        \n                        <div className=\"p-5 bg-indigo-500/5 border border-indigo-500/10 rounded-2xl group\">\n                            <h3 className=\"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-2\">Volume Anomaly</h3>\n                            <p className=\"text-xs text-slate-400 leading-relaxed font-medium transition-colors group-hover:text-slate-200\">\n                                <b>Steel Rebar (D-16)</b> shows a volume discrepancy of 45Âê®. Physical verification required to confirm site existence.\n                            </p>\n                        </div>\n                    </div>\n                 </div>\n                 \n                 <button \n                  onClick={async () => {\n                    console.log(`üöÄ Initiating High-Fidelity Dossier Compilation for Project: ${activeProjectId}`);\n                   const res = await fetch(`${API_URL}/api/v1/forensic/export/court-dossier?project_id=${activeProjectId}`);\n                    if (res.ok) {\n                      const blob = await res.blob();\n                      const url = window.URL.createObjectURL(blob);\n                      const a = document.createElement('a');\n                      a.href = url;\n                      a.download = `Zenith_Court_Dossier_${activeProjectId}_${new Date().toISOString().split('T')[0]}.pdf`;\n                      document.body.appendChild(a);\n                      a.click();\n                      window.URL.revokeObjectURL(url);\n                      console.log(\"‚úÖ Dossier exported successfully.\");\n                    } else {\n                      console.error(\"‚ùå Failed to generate court dossier:\", await res.text());\n                    }\n                  }}\n                  className=\"w-full py-5 bg-indigo-600 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] text-[10px] hover:bg-indigo-500 transition-all shadow-xl shadow-indigo-900/40 active:scale-95 flex items-center justify-center gap-3\"\n                 >\n                     <Download className=\"w-4 h-4\" /> Export High-Fidelity Dossier\n                 </button>\n            </div>\n        </div>\n\n        {/* RAB Comparison Section */}\n        {displayProject?.budget_variance && (\n            <RABComparisonTable items={displayProject.budget_variance as unknown as Array<{id: string; item_name: string; category: string; rab_unit_price: number; actual_unit_price: number; rab_quantity: number; actual_quantity: number; markup: number; total_impact: number}>} />\n        )}\n        </div>\n    </ForensicPageLayout>\n  );\n}\n\ninterface StatsCardProps {\n  label: string;\n  value: string;\n  icon: React.ComponentType<{ className?: string }>;\n  color: string;\n  highlight?: boolean;\n}\n\nfunction StatsCard({ label, value, icon: Icon, color, highlight = false }: StatsCardProps) {\n    return (\n        <div className={`p-6 rounded-2xl border ${highlight ? 'bg-rose-500/10 border-rose-500/20' : 'bg-slate-900/50 border-white/5'} flex flex-col justify-between h-32`}>\n            <div className=\"flex justify-between items-start\">\n               <span className=\"text-xs font-bold text-slate-500 uppercase tracking-widest\">{label}</span>\n               <Icon className={`w-5 h-5 ${color}`} />\n            </div>\n            <div className={`text-2xl font-black font-mono ${color}`}>{value}</div>\n        </div>\n    )\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/analytics/predictive/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/assets/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":4,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[82,99],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":7,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":13,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[162,177],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":10,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":8,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[248,257],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Hash' is defined but never used.","line":10,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Hash"},"fix":{"range":[257,263],"text":""},"desc":"Remove unused variable \"Hash\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":10,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[263,277],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":12,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[311,340],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ASSET_RECOVERY_MOCK' is defined but never used.","line":13,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":29,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ASSET_RECOVERY_MOCK"},"fix":{"range":[341,400],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1383,1386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1383,1386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Truck, ShieldCheck, MapPin, \n  ArrowRight, CheckCircle2, \n  Search, Network, Briefcase, \n  Activity, AlertCircle,\n  Clock, Hash, ChevronRight, FileText\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { ASSET_RECOVERY_MOCK } from '@/utils/recoveryMock';\n\nimport DossierGenerator from '@/components/DossierGenerator';\n\ninterface UBONode {\n  id: string;\n  role: string;\n  level: number;\n  type: 'PERSON' | 'COMPANY';\n  name: string;\n}\n\ninterface Asset {\n  id: string;\n  name: string;\n  type: string;\n  location: string;\n  owner: string;\n  value: number;\n  status: 'ACTIVE' | 'VERIFIED';\n  discovery_path: string;\n}\n\ninterface AssetData {\n  recovery_pot: number;\n  frozen_value: number;\n  readiness: number;\n  ubo_nodes: UBONode[];\n  assets: Asset[];\n}\n\nimport { API_ROUTES } from '@/services/apiRoutes';\nimport { useApi } from '@/hooks/useApi';\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport { useAssetActions } from '@/hooks/useAssetActions';\n\nexport default function AssetRecoveryPage() {\n  const { activeProjectId } = useProject();\n  const [data, setData] = useState<AssetData | null>(null);\n  const { execute: fetchProfile, isLoading: loading } = useApi<any>();\n\n  const { toggleVerification, generateReport } = useAssetActions();\n\n  useEffect(() => {\n    if (!activeProjectId) return;\n\n    fetchProfile(API_ROUTES.FORENSIC.RECOVERY_PROFILE(activeProjectId), {}, {\n        onSuccess: (rawData) => {\n            const mappedData: AssetData = {\n                recovery_pot: rawData.visual_leakage_recovery_pot || 0,\n                frozen_value: rawData.frozen_assets_value || 0,\n                readiness: rawData.readiness_score || 0,\n                assets: (rawData.assets || []).map((a: { id: string; name: string; type: string; location?: string; owner: string; value: number; status: 'ACTIVE' | 'FROZEN'; temporal_nexus: number }) => ({\n                    id: a.id,\n                    name: a.name,\n                    type: a.type,\n                    location: a.location || 'Unknown Site',\n                    owner: a.owner,\n                    value: a.value,\n                    status: a.status === 'FROZEN' ? 'VERIFIED' : 'ACTIVE',\n                    discovery_path: `Suspicion triggered via Temporal Nexus (${(a.temporal_nexus * 100).toFixed(0)}% confidence)`\n                })),\n                ubo_nodes: rawData.ubo_nodes || [\n                // Fallback for demo if UBO resolution fails or is empty\n                { id: '1', role: 'Ultimate Controller', level: 1, type: 'PERSON', name: 'Director X (Fallback)' },\n                { id: '2', role: 'Shell Proxy', level: 2, type: 'COMPANY', name: 'PT Global Supplies' },\n                { id: '3', role: 'Operating Entity', level: 3, type: 'COMPANY', name: 'PT Mega Construction' }\n            ]\n            };\n            setData(mappedData);\n        }\n    });\n  }, [activeProjectId, fetchProfile]);\n\n  const handleGenerateReport = async (asset: Asset) => {\n    if(asset.status !== 'VERIFIED') return;\n    const res = await generateReport(asset.id);\n    if(res) {\n        alert(`Forensic Asset Report Generated: ${res.warrant_id}`);\n    }\n  };\n\n  const verifyAsset = async (id: string, currentStatus: string) => {\n    // API Call\n    const success = await toggleVerification(id, currentStatus as 'ACTIVE' | 'VERIFIED');\n    \n    if (success) {\n        // Optimistic Update\n        const newStatus = currentStatus === 'VERIFIED' ? 'ACTIVE' : 'VERIFIED';\n        setData((prev: AssetData | null) => {\n            if (!prev) return null;\n            const updatedAssets = prev.assets.map((a: Asset) => \n                a.id === id ? { ...a, status: newStatus as 'ACTIVE' | 'VERIFIED' } : a\n            );\n            \n            // Recalculate totals\n            const newFrozenValue = updatedAssets\n                .filter(a => a.status === 'VERIFIED')\n                .reduce((sum, a) => sum + a.value, 0);\n                \n            return {\n                ...prev,\n                frozen_value: newFrozenValue,\n                readiness: (newFrozenValue / prev.recovery_pot) * 100,\n                assets: updatedAssets\n            };\n        });\n    }\n  };\n\n  return (\n    <ForensicPageLayout title=\"Asset Discovery & Correlation\" subtitle=\"Trace asset movements and identify beneficial ownership links.\"\n        loading={loading}\n        loadingMessage=\"Synchronizing Intelligence Vault...\"\n    >\n        <div className=\"space-y-8\">\n            {/* Header Stats */}\n            <div className=\"grid grid-cols-4 gap-4\">\n                <motion.div \n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.1 }}\n                    className=\"col-span-1 glass-panel p-6 rounded-2xl border-l-4 border-emerald-500 relative overflow-hidden\"\n                >\n                    <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n                        <Briefcase className=\"w-16 h-16 text-emerald-500\" />\n                    </div>\n                    <h3 className=\"text-slate-400 text-xs font-bold uppercase tracking-widest mb-2\">Total Identified Assets</h3>\n                    <div className=\"text-3xl font-black text-white mb-1\">\n                        Rp {(data?.recovery_pot ? data.recovery_pot / 1000000000 : 0).toFixed(1)} B\n                    </div>\n                    <div className=\"text-[10px] text-emerald-400 font-mono flex items-center gap-1\">\n                        <Activity className=\"w-3 h-3\" /> POTENTIAL RECOVERY VALUE\n                    </div>\n                </motion.div>\n\n                <motion.div \n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"col-span-1 glass-panel p-6 rounded-2xl border-l-4 border-blue-500 relative overflow-hidden\"\n                >\n                    <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n                        <ShieldCheck className=\"w-16 h-16 text-blue-500\" />\n                    </div>\n                    <h3 className=\"text-slate-400 text-xs font-bold uppercase tracking-widest mb-2\">Verified Linked Assets</h3>\n                    <div className=\"text-3xl font-black text-white mb-1\">\n                        Rp {(data?.frozen_value ? data.frozen_value / 1000000000 : 0).toFixed(1)} B\n                    </div>\n                     <div className=\"text-[10px] text-blue-400 font-mono flex items-center gap-1\">\n                        <CheckCircle2 className=\"w-3 h-3\" /> CONFIRMED ASSET NEXUS\n                    </div>\n                </motion.div>\n\n                 <div className=\"col-span-2 glass-panel p-6 rounded-2xl border border-white/5 bg-gradient-to-br from-slate-900 via-slate-900 to-indigo-900/20\">\n                    <div className=\"flex items-start justify-between\">\n                         <div>\n                            <h3 className=\"text-slate-400 text-xs font-bold uppercase tracking-widest mb-2\">Investigation Progress</h3>\n                            <div className=\"flex items-baseline gap-2\">\n                                <span className=\"text-3xl font-black text-white\">{(data?.readiness || 0).toFixed(1)}%</span>\n                                <span className=\"text-xs text-indigo-400\">Assets Mapped</span>\n                            </div>\n                         </div>\n                         <div className=\"h-12 w-32 bg-slate-800/50 rounded-lg border border-white/5 flex items-center justify-center\">\n                              {/* Sparkline placeholder */}\n                              <Activity className=\"text-indigo-500 w-6 h-6 animate-pulse\" />\n                         </div>\n                    </div>\n                    {/* Progress Bar */}\n                    <div className=\"w-full h-1.5 bg-slate-800 rounded-full mt-4 overflow-hidden\">\n                        <motion.div \n                            initial={{ width: 0 }}\n                            animate={{ width: `${data?.readiness || 0}%` }}\n                            className=\"h-full bg-indigo-500 shadow-[0_0_10px_#6366f1]\"\n                        />\n                    </div>\n                </div>\n            </div>\n\n             {/* Main Content Grid */}\n            <div className=\"grid grid-cols-12 gap-8\">\n                \n                {/* Left Column: UBO Visualization */}\n                <div className=\"col-span-4 space-y-6\">\n                    <div className=\"glass-panel p-6 rounded-3xl border border-white/5 min-h-[500px] relative\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                             <h4 className=\"text-sm font-bold text-white flex items-center gap-2\">\n                                <Network className=\"w-4 h-4 text-indigo-400\" />\n                                BENEFICIAL OWNERSHIP MAP\n                             </h4>\n                             <span className=\"text-[10px] bg-indigo-500/10 text-indigo-400 px-2 py-1 rounded border border-indigo-500/20\">LIVE TRACE</span>\n                        </div>\n\n                        {/* Visualization of UBO Chain */}\n                        <div className=\"relative pl-4 border-l-2 border-slate-800 space-y-12 ml-4 mt-8\">\n                             {data?.ubo_nodes.map((node, i) => (\n                                <motion.div \n                                    key={node.id}\n                                    initial={{ opacity: 0, x: -20 }}\n                                    animate={{ opacity: 1, x: 0 }}\n                                    transition={{ delay: 0.3 + (i * 0.1) }}\n                                    className=\"relative\"\n                                >\n                                    <div className={`absolute -left-[21px] top-4 w-3 h-3 rounded-full border-2 ${\n                                        node.type === 'PERSON' ? 'bg-indigo-500 border-indigo-300' : 'bg-slate-800 border-slate-600'\n                                    } z-10`} />\n                                    \n                                    <div className=\"glass-card p-4 rounded-xl border border-white/5 hover:border-indigo-500/30 transition-colors group\">\n                                        <div className=\"flex justify-between items-start mb-2\">\n                                            <span className=\"text-[10px] font-mono text-slate-500 uppercase\">{node.role}</span>\n                                            {node.level === 1 && <AlertCircle className=\"w-3 h-3 text-rose-500\" />}\n                                        </div>\n                                        <div className=\"font-bold text-white text-sm group-hover:text-indigo-300 transition-colors\">{node.name}</div>\n                                        <div className=\"mt-2 flex gap-2\">\n                                            <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-slate-400 border border-white/5\">{node.type}</span>\n                                            <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-slate-400 border border-white/5\">Risk Score: {(0.9 - (i * 0.1)).toFixed(2)}</span>\n                                        </div>\n                                    </div>\n                                    \n                                    {/* Connection Line */}\n                                    {i < (data?.ubo_nodes.length || 0) - 1 && (\n                                        <div className=\"absolute left-[24px] top-[100%] h-12 border-l border-dashed border-slate-600/30\" />\n                                    )}\n                                </motion.div>\n                             ))}\n                        </div>\n                    </div>\n\n                    <DossierGenerator projectId={activeProjectId || 'PRJ-2024-ALPHA'} />\n                </div>\n\n                {/* Right Column: Asset List */}\n                <div className=\"col-span-8 space-y-4\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"text-sm font-bold text-white flex items-center gap-2\">\n                            <Search className=\"w-4 h-4 text-emerald-400\" />\n                            IDENTIFIED ASSETS\n                        </h4>\n                         <div className=\"flex gap-2\">\n                            <button className=\"text-[10px] px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 border border-white/5 transition-colors\">\n                                Filter by Value\n                            </button>\n                            <button className=\"text-[10px] px-3 py-1.5 rounded-lg bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 transition-colors\">\n                                Export List\n                            </button>\n                         </div>\n                    </div>\n\n                    {data?.assets.map((asset, i) => (\n                         <motion.div \n                            key={asset.id}\n                            initial={{ opacity: 0, y: 10 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ delay: 0.4 + (i * 0.05) }}\n                            className=\"glass-panel p-5 rounded-xl border border-white/5 hover:border-white/10 transition-all group\"\n                        >\n                            <div className=\"flex items-start justify-between\">\n                                <div className=\"flex gap-4\">\n                                     <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${\n                                        asset.status === 'VERIFIED' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-slate-800 text-slate-500'\n                                     }`}>\n                                         {asset.type.includes('Vehicle') ? <Truck className=\"w-6 h-6\" /> : \n                                          asset.type.includes('Estate') ? <MapPin className=\"w-6 h-6\" /> :\n                                          <ShieldCheck className=\"w-6 h-6\" />}\n                                     </div>\n                                     <div>\n                                        <div className=\"flex items-center gap-2 mb-1\">\n                                            <h5 className=\"font-bold text-white\">{asset.name}</h5>\n                                            {asset.status === 'VERIFIED' && (\n                                                <span className=\"flex items-center gap-1 text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded font-bold border border-emerald-500/20\">\n                                                    <CheckCircle2 className=\"w-2.5 h-2.5\" /> VERIFIED LINK\n                                                </span>\n                                            )}\n                                        </div>\n                                        <div className=\"text-xs text-slate-400 mb-2 flex items-center gap-2\">\n                                            <span>{asset.type}</span>\n                                            <span className=\"w-1 h-1 bg-slate-700 rounded-full\" />\n                                            <span>{asset.location}</span>\n                                        </div>\n                                        \n                                        <div className=\"flex items-center gap-2 text-[10px] font-mono text-indigo-400 bg-indigo-500/5 px-2 py-1 rounded border border-indigo-500/10 w-fit\">\n                                            <Network className=\"w-3 h-3\" />\n                                            {asset.discovery_path}\n                                        </div>\n                                     </div>\n                                </div>\n\n                                <div className=\"text-right\">\n                                     <div className=\"mb-3\">\n                                        <div className=\"text-[10px] text-slate-500 uppercase tracking-widest font-bold\">Estimated Value</div>\n                                        <div className=\"text-lg font-bold text-white\">\n                                            Rp {(asset.value / 1000000).toLocaleString()} M\n                                        </div>\n                                     </div>\n                                     <div className=\"flex gap-2 justify-end\">\n                                         <button \n                                            onClick={() => verifyAsset(asset.id, asset.status)}\n                                            className={`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${\n                                                asset.status === 'VERIFIED' \n                                                ? 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700' \n                                                : 'bg-emerald-500/10 border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/20'\n                                            }`}\n                                         >\n                                            {asset.status === 'VERIFIED' ? 'Unverify Link' : 'Verify Link'}\n                                         </button>\n                                          {asset.status === 'VERIFIED' && (\n                                            <button \n                                                onClick={() => handleGenerateReport(asset)}\n                                                title=\"Generate Forensic Report\" \n                                                className=\"p-2 bg-indigo-500/10 border border-indigo-500/20 rounded-lg hover:bg-indigo-500/20 transition-all text-indigo-400\"\n                                            >\n                                                <FileText className=\"w-4 h-4\" />\n                                            </button>\n                                        )}\n                                     </div>\n                                </div>\n                            </div>\n                        </motion.div>\n                    ))}\n                </div>\n            </div>\n\n             {/* Quick Stats Summary */}\n            <div className=\"glass-panel p-8 rounded-[2.5rem] border border-emerald-500/20 bg-emerald-500/5 mt-10\">\n                 <div className=\"flex items-center gap-3 mb-4\">\n                    <AlertCircle className=\"w-5 h-5 text-emerald-500\" />\n                    <h5 className=\"text-[10px] font-black text-white uppercase tracking-widest\">Tracing Completeness</h5>\n                 </div>\n                 <div className=\"h-2 w-full bg-emerald-950/50 rounded-full overflow-hidden mb-4 border border-emerald-500/10\">\n                    <motion.div \n                        initial={{ width: 0 }} \n                        animate={{ width: `${data?.readiness ?? 0}%` }}\n                        className=\"h-full bg-emerald-500 shadow-[0_0_15px_#10b981]\" \n                    />\n                 </div>\n                 <p className=\"text-[10px] text-slate-500 leading-relaxed font-bold italic\">\n                    Current intelligence operations cover <span className=\"text-white\">36.0%</span> of total project leakage discovered through V1-V3.\n                 </p>\n            </div>\n        </div>\n    </ForensicPageLayout>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/components/AnalyticsWorkspace.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PieChart' is defined but never used.","line":5,"column":61,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":69,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"PieChart"},"fix":{"range":[140,150],"text":""},"desc":"Remove unused variable \"PieChart\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activeProject' is assigned a value but never used.","line":9,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":85,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4209,4212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4209,4212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { BarChart3, TrendingUp, AlertTriangle, ShieldCheck, PieChart, Activity } from 'lucide-react';\nimport { useProject } from '@/store/useProject';\n\nexport default function AnalyticsWorkspace() {\n    const { activeProject } = useProject();\n\n    return (\n        <div className=\"flex-1 p-8 overflow-y-auto custom-scrollbar animate-in fade-in duration-500\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n                <MetricCard \n                    label=\"Budget Burn\" \n                    value=\"42.8%\" \n                    icon={Activity} \n                    color=\"text-indigo-400\" \n                    trend=\"+12% vs last month\"\n                />\n                <MetricCard \n                    label=\"Physical Progress\" \n                    value=\"15.2%\" \n                    icon={TrendingUp} \n                    color=\"text-emerald-400\" \n                    trend=\"Behind Schedule\"\n                    warning\n                />\n                <MetricCard \n                    label=\"Risk Index\" \n                    value=\"0.87\" \n                    icon={AlertTriangle} \n                    color=\"text-rose-500\" \n                    trend=\"High Anomaly Density\"\n                />\n                <MetricCard \n                    label=\"Verified Output\" \n                    value=\"Rp 12.4B\" \n                    icon={ShieldCheck} \n                    color=\"text-indigo-400\" \n                    trend=\"Quality Assured\"\n                />\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                <div className=\"bg-slate-900/40 border border-white/5 rounded-[2.5rem] p-10 h-[400px] flex flex-col\">\n                    <div className=\"flex justify-between items-center mb-10\">\n                        <h3 className=\"text-sm font-black text-white uppercase tracking-[0.2em] flex items-center gap-3\">\n                            <BarChart3 className=\"w-4 h-4 text-indigo-400\" /> S-Curve Divergence\n                        </h3>\n                    </div>\n                    <div className=\"flex-1 flex items-end gap-4\">\n                        {[40, 60, 45, 80, 55, 90, 70, 85, 65, 100].map((h, i) => (\n                           <motion.div \n                             key={i} \n                             initial={{ height: 0 }} \n                             animate={{ height: `${h}%` }} \n                             transition={{ delay: i * 0.1 }}\n                             className=\"flex-1 bg-indigo-600/20 rounded-t-xl group relative cursor-help\"\n                           >\n                               <div className=\"absolute inset-0 bg-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                               <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-[10px] font-bold text-white\">\n                                   {h}%\n                               </div>\n                           </motion.div>\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"bg-slate-900/40 border border-white/5 rounded-[2.5rem] p-10 h-[400px] flex flex-col justify-center\">\n                    <div className=\"flex flex-col items-center text-center\">\n                        <div className=\"w-48 h-48 border-8 border-indigo-600/20 rounded-full relative flex items-center justify-center mb-8\">\n                             <div className=\"absolute inset-x-0 top-0 h-2 bg-indigo-500 rounded-full rotate-45\" />\n                             <span className=\"text-4xl font-black text-white\">87%</span>\n                        </div>\n                        <h3 className=\"text-lg font-black text-white uppercase tracking-widest mb-2\">Confidence Level</h3>\n                        <p className=\"text-xs text-slate-500 font-bold uppercase tracking-widest\">Across all forensic streams</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction MetricCard({ label, value, icon: Icon, color, trend, warning = false }: any) {\n    return (\n        <div className={`p-6 rounded-3xl border ${warning ? 'border-rose-500/20 bg-rose-500/5' : 'border-white/5 bg-slate-900/30'} flex flex-col justify-between h-40 group hover:border-indigo-500/30 transition-all`}>\n            <div className=\"flex justify-between items-start\">\n               <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">{label}</span>\n               <Icon className={`w-5 h-5 ${color} group-hover:scale-110 transition-transform`} />\n            </div>\n            <div>\n                <div className={`text-2xl font-black font-mono mb-1 ${color}`}>{value}</div>\n                <div className=\"text-[10px] font-bold text-slate-600 uppercase tracking-widest\">{trend}</div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/components/FlowWorkspace.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Coins' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Coins"},"fix":{"range":[116,122],"text":""},"desc":"Remove unused variable \"Coins\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":5,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Shield"},"fix":{"range":[143,151],"text":""},"desc":"Remove unused variable \"Shield\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTriangle' is defined but never used.","line":5,"column":47,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":60,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertTriangle"},"fix":{"range":[151,166],"text":""},"desc":"Remove unused variable \"AlertTriangle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":20,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":34,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Coins, Landmark, ArrowRight, Shield, AlertTriangle } from 'lucide-react';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\nimport { useProject } from '@/store/useProject';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200';\n\ninterface FlowLink {\n  source: string;\n  target: string;\n  value: number;\n}\n\nexport default function FlowWorkspace() {\n  const { activeProjectId } = useProject();\n  const [links, setLinks] = useState<FlowLink[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!activeProjectId) return;\n    async function fetchData() {\n      setLoading(true);\n      try {\n        const res = await fetch(`${API_URL}/api/v1/forensic/family-tree?project_id=${activeProjectId}`);\n        if (res.ok) {\n           const data = await res.json();\n           setLinks(data && data.length > 0 ? data : HOLOGRAPHIC_SOURCE.familyTree);\n        } else {\n            setLinks(HOLOGRAPHIC_SOURCE.familyTree);\n        }\n      } catch (err) {\n        setLinks(HOLOGRAPHIC_SOURCE.familyTree);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [activeProjectId]);\n\n  return (\n    <div className=\"flex-1 p-8 overflow-y-auto custom-scrollbar animate-in fade-in duration-500\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {links.map((link, i) => (\n          <motion.div \n            key={i}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: i * 0.05 }}\n            className=\"bg-slate-900/40 border border-white/5 p-6 rounded-[2rem] hover:bg-slate-900/60 transition-all group\"\n          >\n             <div className=\"flex items-center justify-between mb-6\">\n                <div className=\"p-3 bg-indigo-600/10 rounded-xl\">\n                   <Landmark className=\"w-5 h-5 text-indigo-400\" />\n                </div>\n                <div className=\"flex items-center gap-2\">\n                   <span className=\"text-[10px] font-black text-rose-500 uppercase tracking-widest\">High Velocity</span>\n                   <div className=\"w-2 h-2 rounded-full bg-rose-500 animate-pulse\" />\n                </div>\n             </div>\n             \n             <div className=\"flex items-center gap-4 mb-6\">\n                <div className=\"flex-1\">\n                   <p className=\"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1\">Source</p>\n                   <p className=\"text-xs font-bold text-white truncate\">{link.source}</p>\n                </div>\n                <ArrowRight className=\"w-4 h-4 text-slate-700 group-hover:text-indigo-500 transition-colors\" />\n                <div className=\"flex-1 text-right\">\n                   <p className=\"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1\">Destination</p>\n                   <p className=\"text-xs font-bold text-white truncate\">{link.target}</p>\n                </div>\n             </div>\n             \n             <div className=\"pt-6 border-t border-white/5 flex justify-between items-center\">\n                <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Quantum Transferred</span>\n                <span className=\"text-lg font-black text-indigo-400\">Rp {(link.value / 1000000).toFixed(1)}M</span>\n             </div>\n          </motion.div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/components/NexusWorkspace.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Network' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Network"},"fix":{"range":[133,141],"text":""},"desc":"Remove unused variable \"Network\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":5,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Zap"},"fix":{"range":[148,153],"text":""},"desc":"Remove unused variable \"Zap\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":5,"column":73,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":79,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Shield"},"fix":{"range":[194,202],"text":""},"desc":"Remove unused variable \"Shield\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":5,"column":81,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":87,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[202,210],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchGraph'. Either include it or remove the dependency array.","line":58,"column":6,"nodeType":"ArrayExpression","endLine":58,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [activeProjectId, fetchGraph]","fix":{"range":[1699,1716],"text":"[activeProjectId, fetchGraph]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Network, Search, Zap, User, Building, Landmark, AlertTriangle, Shield, Filter } from 'lucide-react';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\nimport { useProject } from '@/store/useProject';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200';\n\ntype Node = {\n  id: string;\n  label: string;\n  type: 'person' | 'company' | 'bank' | 'unknown';\n  risk: number;\n  x: number;\n  y: number;\n};\n\ntype Link = {\n  source: string;\n  target: string;\n  value: number;\n  type: string;\n};\n\nexport default function NexusWorkspace() {\n  const { activeProjectId } = useProject();\n  const [nodes, setNodes] = useState<Node[]>([]);\n  const [links, setLinks] = useState<Link[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedNode, setSelectedNode] = useState<Node | null>(null);\n\n  const fetchGraph = async () => {\n    if (!activeProjectId) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/v1/forensic/nexus/${activeProjectId}`);\n      const data = res.ok ? await res.json() : null;\n      if (data && data.nodes && data.nodes.length > 0) {\n        setNodes(data.nodes);\n        setLinks(data.links);\n      } else {\n        setNodes(HOLOGRAPHIC_SOURCE.nexus.nodes);\n        setLinks(HOLOGRAPHIC_SOURCE.nexus.links);\n      }\n    } catch (err) {\n      console.error(\"Nexus fetch error:\", err);\n      setNodes(HOLOGRAPHIC_SOURCE.nexus.nodes);\n      setLinks(HOLOGRAPHIC_SOURCE.nexus.links);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchGraph();\n  }, [activeProjectId]);\n\n  const getNodeIcon = (type: string) => {\n    switch (type) {\n      case 'person': return User;\n      case 'company': return Building;\n      case 'bank': return Landmark;\n      default: return AlertTriangle;\n    }\n  };\n\n  return (\n    <div className=\"flex-1 flex flex-col overflow-hidden p-8 animate-in fade-in duration-500\">\n      <div className=\"relative w-full flex-1 border border-white/5 rounded-[2.5rem] bg-slate-950/50 backdrop-blur-3xl overflow-hidden group shadow-[0_0_50px_rgba(0,0,0,0.5)]\">\n         <div className=\"absolute inset-0 opacity-[0.03] nexus-grid-bg\" />\n         \n         <AnimatePresence>\n            {loading && (\n              <motion.div \n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                  className=\"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 z-50 backdrop-blur-sm\"\n              >\n                  <div className=\"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-6\" />\n                  <span className=\"text-indigo-400 font-mono text-xs uppercase tracking-[0.5em] animate-pulse\">Tracing Capital Flows...</span>\n              </motion.div>\n            )}\n         </AnimatePresence>\n\n         <div className=\"absolute inset-0 p-10 cursor-grab active:cursor-grabbing\">\n            <svg className=\"w-full h-full\"> \n               <defs>\n                  <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"28\" refY=\"3.5\" orient=\"auto\">\n                    <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#334155\" />\n                  </marker>\n               </defs>\n                {(nodes.length > 0 ? links : HOLOGRAPHIC_SOURCE.nexus.links).map((link, i) => {\n                  const source = (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === link.source);\n                  const target = (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === link.target);\n                  if (!source || !target) return null;\n                  \n                  const midX = (source.x + target.x) / 2;\n                  const midY = (source.y + target.y) / 2;\n\n                  return (\n                    <g key={i} className=\"group/link\">\n                      <motion.line \n                         initial={{ pathLength: 0, opacity: 0 }}\n                         animate={{ pathLength: 1, opacity: 0.4 }}\n                         x1={source.x + '%'} y1={source.y + '%'} x2={target.x + '%'} y2={target.y + '%'} \n                         stroke={link.type === 'Funneling' ? '#f43f5e' : '#6366f1'} \n                         strokeWidth={link.type === 'Funneling' ? 4 : 2} \n                         strokeDasharray={link.type === 'Funneling' ? \"8,4\" : \"0\"}\n                         markerEnd=\"url(#arrowhead)\"\n                         className=\"transition-all group-hover/link:opacity-100 group-hover/link:stroke-white cursor-pointer\"\n                      />\n                      <foreignObject x={`${midX}%`} y={`${midY}%`} width=\"80\" height=\"30\" className=\"overflow-visible pointer-events-none opacity-0 group-hover/link:opacity-100 transition-opacity -translate-x-[40px] -translate-y-[15px]\">\n                        <div className=\"bg-slate-900/90 border border-white/20 backdrop-blur-md px-2 py-1 rounded-lg text-[8px] font-black text-white text-center shadow-2xl\">\n                          Rp {(link.value / 1000000).toFixed(1)}M\n                        </div>\n                      </foreignObject>\n                    </g>\n                  );\n                })}\n            </svg>\n            \n            {(nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).map((node) => {\n               const Icon = getNodeIcon(node.type);\n               const isSelected = selectedNode?.id === node.id;\n               return (\n                 <motion.div\n                   key={node.id}\n                   initial={{ scale: 0, opacity: 0 }}\n                   animate={{ scale: 1, opacity: 1 }}\n                   whileHover={{ scale: 1.2, zIndex: 30 }}\n                   className={`absolute w-14 h-14 -ml-7 -mt-7 rounded-2xl border-2 flex flex-col items-center justify-center cursor-pointer transition-all duration-300 ${\n                      isSelected ? 'ring-4 ring-indigo-500/30 border-white bg-indigo-600 scale-110 shadow-indigo-500/50' :\n                      node.risk > 0.8 ? 'bg-rose-500/20 border-rose-500 shadow-[0_0_30px_rgba(244,63,94,0.4)] animate-pulse' : \n                      node.id.startsWith('proj_') ? 'bg-indigo-600 border-indigo-400 shadow-indigo-900/50 w-20 h-20 -ml-10 -mt-10 rounded-[2rem]' :\n                      'bg-slate-900 border-white/10 shadow-black'\n                   }`}\n                   style={{ left: `${node.x}%`, top: `${node.y}%` }}\n                   onClick={() => setSelectedNode(node)}\n                 >\n                    <Icon className={`w-6 h-6 ${node.risk > 0.8 ? 'text-rose-400' : 'text-white'}`} />\n                    <div className={`absolute top-16 whitespace-nowrap bg-slate-900/90 border border-white/5 backdrop-blur-md px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${isSelected ? 'text-indigo-400 border-indigo-500/50' : 'text-slate-400 group-hover:text-white transition-colors'}`}>\n                      {node.label}\n                    </div>\n                    {node.risk > 0.8 && (\n                        <div className=\"absolute -top-2 -right-2 bg-rose-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full animate-bounce\">\n                            RISK\n                        </div>\n                    )}\n                 </motion.div>\n               );\n            })}\n         </div>\n\n         <div className=\"absolute bottom-8 left-8 flex flex-col gap-2 bg-black/40 backdrop-blur-xl p-4 rounded-2xl border border-white/5\">\n            <div className=\"flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">\n                <div className=\"w-3 h-3 bg-indigo-600 rounded-lg\" /> Project Root\n            </div>\n            <div className=\"flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">\n                <div className=\"w-3 h-3 bg-rose-500/50 border border-rose-500 rounded-lg\" /> High Risk Entity\n            </div>\n         </div>\n      </div>\n\n      <AnimatePresence>\n        {selectedNode && (\n          <motion.div \n            initial={{ x: 400, opacity: 0 }} animate={{ x: 0, opacity: 1 }} exit={{ x: 400, opacity: 0 }}\n            className=\"fixed top-32 right-12 w-[380px] bg-slate-900/90 backdrop-blur-3xl p-8 rounded-[2.5rem] border border-white/10 shadow-2xl z-50\"\n          >\n             <div className=\"flex justify-between items-start mb-6\">\n                <div className=\"flex items-center gap-4\">\n                   <div className={`p-4 rounded-2xl ${selectedNode.risk > 0.8 ? 'bg-rose-600' : 'bg-indigo-600'}`}>\n                      {React.createElement(getNodeIcon(selectedNode.type), { className: 'w-6 h-6 text-white' })}\n                   </div>\n                   <div>\n                      <h3 className=\"font-black text-white text-lg uppercase tracking-tighter leading-none\">{selectedNode.label}</h3>\n                      <p className=\"text-[9px] text-slate-500 uppercase tracking-widest mt-1 font-bold\">{selectedNode.type} Intel</p>\n                   </div>\n                </div>\n                <button onClick={() => setSelectedNode(null)} className=\"p-2 hover:bg-white/10 rounded-xl text-slate-500\">‚úï</button>\n             </div>\n             \n             <div className=\"space-y-6\">\n                <div className=\"p-5 bg-white/[0.03] rounded-2xl border border-white/5\">\n                   <div className=\"flex justify-between items-center mb-1\">\n                      <span className=\"text-[9px] font-black uppercase text-slate-500 tracking-widest\">Risk Score</span>\n                      <span className={`text-xl font-black font-mono ${selectedNode.risk > 0.8 ? 'text-rose-500' : 'text-emerald-500'}`}>\n                         {(selectedNode.risk * 100).toFixed(0)}%\n                       </span>\n                   </div>\n                   <div className=\"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden\">\n                      <motion.div initial={{ width: 0 }} animate={{ width: `${selectedNode.risk * 100}%` }} className={`h-full ${selectedNode.risk > 0.8 ? 'bg-rose-500' : 'bg-emerald-500'}`} />\n                   </div>\n                </div>\n                \n                <div className=\"flex gap-4\">\n                    <button className=\"flex-1 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all\">\n                      Deep Trace\n                    </button>\n                    <button className=\"p-4 bg-white/5 hover:bg-white/10 text-white rounded-2xl border border-white/5\" aria-label=\"Search Entity\">\n                        <Search className=\"w-4 h-4 text-slate-400\" />\n                    </button>\n                </div>\n             </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/components/SatelliteWorkspace.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/components/SatelliteWorkspace.tsx:32:13\n  30 |     useEffect(() => {\n  31 |         if (activeProjectId) {\n> 32 |             setTargetId(activeProjectId);\n     |             ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  33 |         }\n  34 |     }, [activeProjectId]);\n  35 |","line":32,"column":13,"nodeType":null,"endLine":32,"endColumn":24},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":109,"column":34,"nodeType":"JSXOpeningElement","endLine":113,"endColumn":36},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":163,"column":109,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[9449,9450],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[9449,9450],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[9449,9450],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[9449,9450],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":163,"column":131,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[9471,9472],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[9471,9472],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[9471,9472],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[9471,9472],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { \n    Globe, MapPin, \n    Loader2, AlertTriangle, \n    Maximize2, ShieldCheck \n} from 'lucide-react';\nimport { useProject } from '@/store/useProject';\nimport { API_URL } from '@/utils/constants';\n\ninterface SatelliteData {\n    satellite_provider: string;\n    last_flyover: string;\n    delta_detected_percent: number;\n    reported_progress_percent: number;\n    verification_status: 'VERIFIED' | 'DISCREPANCY';\n    analysis_notes: string;\n    heatmap_url: string;\n}\n\nexport default function SatelliteWorkspace() {\n    const { activeProjectId } = useProject();\n    const [targetId, setTargetId] = useState('');\n    const [isScanning, setIsScanning] = useState(false);\n    const [data, setData] = useState<SatelliteData | null>(null);\n\n    // Sync targetId with activeProjectId\n    useEffect(() => {\n        if (activeProjectId) {\n            setTargetId(activeProjectId);\n        }\n    }, [activeProjectId]);\n\n    const handleScan = async () => {\n        const id = targetId || activeProjectId;\n        if (!id) return;\n        setIsScanning(true);\n        setData(null);\n        try {\n            const res = await fetch(`${API_URL}/api/v1/forensic-tools/satellite/verify/${id}`);\n            if (res.ok) {\n                const result = await res.json();\n                setTimeout(() => {\n                    setData(result);\n                    setIsScanning(false);\n                }, 1500);\n            } else {\n                setIsScanning(false);\n            }\n        } catch (error) {\n            console.error(error);\n            setIsScanning(false);\n        }\n    };\n\n    return (\n        <div className=\"flex-1 flex overflow-hidden animate-in slide-in-from-right duration-500\">\n            {/* Sidebar Controls */}\n            <div className=\"w-80 border-r border-white/5 bg-slate-950/30 p-8 flex flex-col gap-8 shrink-0\">\n                <div className=\"space-y-4\">\n                    <label className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2\">\n                         <MapPin className=\"w-3 h-3\" /> Target Coordinates\n                    </label>\n                    <input \n                        type=\"text\"\n                        value={targetId}\n                        onChange={(e) => setTargetId(e.target.value)}\n                        className=\"w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-sm font-mono text-white focus:border-indigo-500 transition-colors outline-none\"\n                        placeholder=\"Enter Target ID or Coordinates\"\n                    />\n                    <button\n                        onClick={handleScan}\n                        disabled={isScanning}\n                        className=\"w-full py-4 bg-indigo-600 hover:bg-indigo-500 rounded-2xl text-white font-black text-[10px] uppercase tracking-widest shadow-lg shadow-indigo-900/40 transition-all flex items-center justify-center gap-3\"\n                    >\n                        {isScanning ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Globe className=\"w-4 h-4\" />}\n                        {isScanning ? 'Acquiring Signal...' : 'Initiate Flyover Scan'}\n                    </button>\n                </div>\n\n                <div className=\"p-6 rounded-2xl bg-slate-900/40 border border-white/5 space-y-4\">\n                    <h3 className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Feed Telemetry</h3>\n                    <div className=\"space-y-2\">\n                         <div className=\"flex justify-between text-[10px] font-mono\">\n                             <span className=\"text-slate-500\">Sentinel-2</span>\n                             <span className=\"text-indigo-400\">ESA Optic</span>\n                         </div>\n                         <div className=\"flex justify-between text-[10px] font-mono\">\n                             <span className=\"text-slate-500\">FLYOVER</span>\n                             <span className=\"text-white\">Active</span>\n                         </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Viewport */}\n            <div className=\"flex-1 relative bg-black/20 flex flex-col items-center justify-center overflow-hidden\">\n                <div className=\"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none\" />\n                \n                {data ? (\n                    <div className=\"w-full max-w-4xl p-10 animate-in zoom-in duration-500\">\n                         <div className=\"grid grid-cols-2 gap-10\">\n                             <div className=\"aspect-square bg-slate-900/80 rounded-[2.5rem] border border-white/10 relative overflow-hidden shadow-2xl\">\n                                 <div className=\"absolute top-6 left-6 px-3 py-1 bg-black/60 backdrop-blur rounded font-mono text-[9px] text-indigo-500 border border-indigo-500/30 font-bold\">\n                                     LIVE FEED // {data.last_flyover}\n                                 </div>\n                                 <img \n                                     src=\"https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&q=80&w=800\" \n                                     className=\"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-40\"\n                                     alt=\"Satellite View\"\n                                 />\n                                 <div className=\"absolute inset-0 flex items-center justify-center\">\n                                    <div className=\"w-32 h-32 border border-indigo-500/20 rounded-full animate-ping\" />\n                                 </div>\n                             </div>\n\n                             <div className=\"flex flex-col gap-6 justify-center\">\n                                 <div className={`px-4 py-2 w-fit rounded-xl text-[10px] font-black uppercase tracking-widest border flex items-center gap-2 ${\n                                     data.verification_status === 'VERIFIED' \n                                         ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-500' \n                                         : 'bg-rose-500/10 border-rose-500/20 text-rose-500'\n                                 }`}>\n                                     {data.verification_status === 'VERIFIED' ? <ShieldCheck className=\"w-4 h-4\" /> : <AlertTriangle className=\"w-4 h-4\" />}\n                                     {data.verification_status}\n                                 </div>\n\n                                 <div className=\"space-y-6\">\n                                     <div>\n                                         <div className=\"flex justify-between items-end mb-2\">\n                                             <span className=\"text-[9px] font-black text-slate-500 uppercase tracking-widest\">Reported Progress</span>\n                                             <span className=\"text-xl font-black text-white\">{data.reported_progress_percent}%</span>\n                                         </div>\n                                         <div className=\"h-1.5 bg-slate-800 rounded-full overflow-hidden\">\n                                             <motion.div \n                                                initial={{ width: 0 }}\n                                                animate={{ width: `${data.reported_progress_percent}%` }}\n                                                transition={{ duration: 1, ease: \"easeOut\" }}\n                                                className=\"h-full bg-slate-600 rounded-full\" \n                                             />\n                                         </div>\n                                     </div>\n\n                                     <div>\n                                         <div className=\"flex justify-between items-end mb-2\">\n                                             <span className=\"text-[9px] font-black text-indigo-500 uppercase tracking-widest\">Detected Change</span>\n                                             <span className=\"text-xl font-black text-indigo-400\">{data.delta_detected_percent}%</span>\n                                         </div>\n                                         <div className=\"h-1.5 bg-slate-800 rounded-full overflow-hidden\">\n                                             <motion.div \n                                                initial={{ width: 0 }}\n                                                animate={{ width: `${data.delta_detected_percent}%` }}\n                                                transition={{ duration: 1, ease: \"easeOut\", delay: 0.2 }}\n                                                className=\"h-full bg-indigo-500 rounded-full relative\" \n                                             />\n                                         </div>\n                                     </div>\n                                 </div>\n                                 \n                                 <div className=\"p-6 bg-slate-900/50 border border-white/5 rounded-2xl\">\n                                     <h4 className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2\">Analyst Intelligence</h4>\n                                     <p className=\"text-xs font-bold text-slate-300 leading-relaxed italic\">\"{data.analysis_notes}\"</p>\n                                 </div>\n                             </div>\n                         </div>\n                    </div>\n                ) : (\n                    <div className=\"text-center opacity-30\">\n                        {isScanning ? (\n                            <div className=\"flex flex-col items-center\">\n                                <div className=\"w-24 h-24 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin mb-8\" />\n                                <h3 className=\"text-sm font-black text-white uppercase tracking-widest animate-pulse\">Scanning Surface...</h3>\n                            </div>\n                        ) : (\n                            <>\n                                <Maximize2 className=\"w-16 h-16 text-slate-600 mx-auto mb-6\" />\n                                <h3 className=\"text-xs font-black text-slate-500 uppercase tracking-widest\">No Active Target</h3>\n                            </>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/flow/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HolographicBadge' is defined but never used.","line":6,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"HolographicBadge"},"fix":{"range":[200,265],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Coins, Landmark, ArrowRight, Shield, AlertTriangle, Download } from 'lucide-react';\nimport HolographicBadge from '@/app/components/HolographicBadge';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200';\n\ninterface FlowLink {\n  source: string;\n  target: string;\n  value: number;\n}\n\ninterface CircleMatch {\n  pattern: string;\n  amount: number;\n}\n\nexport default function ForensicFlowPage() {\n  const { activeProjectId } = useProject();\n  const [links, setLinks] = useState<FlowLink[]>([]);\n  const [circles, setCircles] = useState<CircleMatch[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [mounted, setMounted] = useState(false);\n\n  const isMock = links.length === 0 && !loading;\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted || !activeProjectId) return;\n\n    async function fetchData() {\n      setLoading(true);\n      try {\n        const [linksRes, circlesRes] = await Promise.all([\n          fetch(`${API_URL}/api/v1/forensic/family-tree?project_id=${activeProjectId}`),\n          fetch(`${API_URL}/api/v1/forensic/circular-flow?project_id=${activeProjectId}`)\n        ]);\n        \n        if (linksRes.ok) {\n           const lData = await linksRes.json();\n           if (lData && lData.length > 0) setLinks(lData);\n           else setLinks([]);\n        } else {\n            setLinks([]);\n        }\n        if (circlesRes.ok) {\n           const cData = await circlesRes.json();\n           if (cData && cData.length > 0) setCircles(cData);\n           else setCircles([]);\n        } else {\n            setCircles([]);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [mounted, activeProjectId]);\n\n  if (!mounted) return null;\n  \n  return (\n    <ForensicPageLayout\n        title=\"Termin Flow Tracer\"\n        subtitle=\"Contract Capital // Release Milestones // Realization Flow\"\n        icon={Coins}\n        isMockData={isMock}\n        loading={loading}\n        loadingMessage=\"Mapping Financial Intersections...\"\n        headerActions={\n            <div className=\"flex gap-4\">\n                 <button \n                    onClick={() => window.location.href = `${API_URL}/api/v1/forensic/export/excel?project_id=${activeProjectId}`}\n                    className=\"bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-500 border border-emerald-500/20 px-8 py-4 rounded-3xl font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-3 active:scale-95 shadow-lg shadow-emerald-900/10\"\n                 >\n                    <Download className=\"w-5 h-5\" /> Master Audit Export (.xlsx)\n                 </button>\n            </div>\n        }\n    >\n        <div className=\"p-8 space-y-8 overflow-y-auto h-full custom-scrollbar\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Termin Sankey Visualization */}\n                <div className=\"lg:col-span-2 glass-panel rounded-[2.5rem] p-10 flex flex-col min-h-[600px] border border-white/5 relative overflow-hidden bg-slate-900/40\">\n                <div className=\"absolute top-0 right-0 w-64 h-64 bg-indigo-500/5 blur-[100px] -mr-32 -mt-32\" />\n                \n                <h2 className=\"text-lg font-black mb-12 flex items-center gap-3 uppercase tracking-tight text-white\">\n                    <Landmark className=\"w-5 h-5 text-indigo-400\" /> Capital Chain Calibration\n                </h2>\n                \n                <div className=\"flex-1 flex flex-col justify-around relative\">\n                    <div className=\"flex justify-between items-center h-full gap-8 relative z-10\">\n                        {/* Source: Contract */}\n                        <div className=\"flex flex-col items-center gap-6\">\n                            <div className=\"w-28 h-28 rounded-full border border-indigo-500/30 flex flex-col items-center justify-center bg-indigo-500/5 shadow-[0_0_40px_rgba(99,102,241,0.1)] relative\">\n                                <div className=\"absolute inset-0 rounded-full border-t-2 border-indigo-500/50 animate-spin\" style={{ animationDuration: '4s' }} />\n                                <Landmark className=\"w-10 h-10 text-indigo-400\" />\n                            </div>\n                            <div className=\"text-center\">\n                                <span className=\"text-[10px] uppercase font-black text-slate-500 block tracking-widest mb-1\">Contract Root</span>\n                                <span className=\"font-black text-sm uppercase tracking-tighter\">Main Project Contract</span>\n                            </div>\n                        </div>\n                        \n                        {/* Mid: Milestones */}\n                        <div className=\"flex flex-col gap-10 flex-1 items-center pb-12\">\n                            {(links.length > 0 ? links : HOLOGRAPHIC_SOURCE.terminFlow).filter(l => l.source === \"Project Contract\" || l.source.includes(\"Uang Muka\") || l.source.includes(\"Termin\")).slice(0, 5).map((link, i) => (\n                                <div key={i} className=\"flex items-center gap-6 w-full max-w-[280px]\">\n                                    <motion.div \n                                        initial={{ opacity: 0, scale: 0.9 }}\n                                        animate={{ opacity: 1, scale: 1 }}\n                                        className=\"flex-1 p-5 rounded-2xl border border-indigo-500/20 bg-indigo-500/5 backdrop-blur-sm relative group overflow-hidden\"\n                                    >\n                                        <div className=\"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-50\" />\n                                        <span className=\"text-[9px] uppercase font-black text-indigo-400 block tracking-widest mb-1\">Milestone RELEASE</span>\n                                        <span className=\"font-black text-xs text-white uppercase tracking-tight block\">{link.source === \"Project Contract\" ? link.target : link.source}</span>\n                                        <span className=\"text-[10px] font-mono block text-slate-500 mt-2 font-bold tracking-tighter\">Rp {link.value.toLocaleString()}</span>\n                                    </motion.div>\n                                    <ArrowRight className=\"w-4 h-4 text-slate-700 animate-pulse\" />\n                                </div>\n                            ))}\n                        </div>\n\n                        {/* End: Vendors / Realization */}\n                        <div className=\"flex flex-col gap-4\">\n                            {(links.length > 0 ? links : HOLOGRAPHIC_SOURCE.terminFlow).filter(l => !l.source.includes(\"Project\") && !l.source.includes(\"Termin\") && !l.source.includes(\"Uang Muka\")).slice(0, 5).map((link, i) => (\n                                <motion.div \n                                    key={i}\n                                    initial={{ opacity: 0, x: 20 }}\n                                    animate={{ opacity: 1, x: 0 }}\n                                    transition={{ delay: i * 0.1 }}\n                                    className=\"w-56 p-4 rounded-2xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all cursor-pointer group\"\n                                >\n                                    <span className=\"text-[9px] uppercase font-black text-emerald-500 block tracking-widest mb-1 group-hover:text-emerald-400\">Beneficiary Realization</span>\n                                    <span className=\"font-black text-[11px] truncate w-full uppercase tracking-tighter text-slate-200\">{link.target}</span>\n                                    <span className=\"text-[10px] font-mono text-slate-600 font-bold block mt-1\">Rp {link.value.toLocaleString()}</span>\n                                </motion.div>\n                            ))}\n                            {(links.length > 0 ? links : HOLOGRAPHIC_SOURCE.terminFlow).length > 5 && <div className=\"text-center text-[10px] text-slate-600 font-black italic tracking-widest uppercase mt-4\">Exploring hidden intersections...</div>}\n                        </div>\n                    </div>\n                    \n                    <div className=\"mt-16 p-6 rounded-2xl bg-rose-500/5 border border-rose-500/10 text-[10px] text-rose-400 font-black uppercase tracking-widest text-center flex items-center gap-4 justify-center shadow-xl\">\n                        <AlertTriangle className=\"w-5 h-5 animate-bounce\" />\n                        {isMock ? \"SIMULATED ANOMALY: Detected Rp 1.2B diverted from project accounts to CV. Internal Shell.\" : \"Forensic alert: Flow patterns indicate systematic diversion to unverified beneficiaries.\"}\n                    </div>\n                </div>\n                </div>\n\n                {/* Kickback Loop Detector */}\n                <div className=\"glass-panel rounded-[2.5rem] p-10 space-y-8 border border-white/5 bg-gradient-to-br from-slate-900/40 to-slate-950/40 shadow-2xl overflow-y-auto max-h-[750px] custom-scrollbar\">\n                <h2 className=\"text-xl font-black flex items-center gap-3 uppercase tracking-tight text-white border-b border-white/5 pb-6\">\n                    <Shield className=\"w-6 h-6 text-rose-500\" /> Loop Detection HUD\n                </h2>\n                \n                <div className=\"space-y-4\">\n                    {(circles.length > 0 ? circles : (HOLOGRAPHIC_SOURCE.terminFlow as FlowLink[]).filter(l => l.target === \"CV. Internal Shell\").map(l => ({ pattern: `DIVERSION TARGET: ${l.target}`, amount: l.value }))).map((match, i) => (\n                        <motion.div \n                        initial={{ opacity: 0, y: 10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        key={i} \n                        className=\"p-5 rounded-2xl border border-rose-500/20 bg-rose-500/5 flex flex-col gap-3 group hover:border-rose-500/40 transition-all shadow-inner\"\n                        >\n                        <div className=\"flex justify-between items-center\">\n                            <span className=\"text-[9px] font-black text-rose-400 uppercase tracking-widest flex items-center gap-2\">\n                                <div className=\"w-1.5 h-1.5 bg-rose-500 rounded-full animate-pulse\" /> Critical Path Detected\n                            </span>\n                            <AlertTriangle className=\"w-4 h-4 text-rose-500\" />\n                        </div>\n                        <p className=\"text-xs font-black text-white uppercase tracking-tighter leading-normal\">{match.pattern}</p>\n                        <div className=\"flex justify-between items-end mt-2 pt-4 border-t border-rose-500/10\">\n                            <span className=\"text-[9px] uppercase font-black text-slate-500 tracking-widest\">Washing Volume</span>\n                            <span className=\"text-lg font-black font-mono text-rose-500 tracking-tighter\">Rp {match.amount.toLocaleString()}</span>\n                        </div>\n                        </motion.div>\n                    ))}\n                    \n                    {circles.length === 0 && !isMock && (\n                        <div className=\"text-center py-20 text-slate-700 font-black italic uppercase tracking-widest text-xs opacity-50\">No circular flows detected in current batch.</div>\n                    )}\n                </div>\n\n                <div className=\"p-6 rounded-2xl bg-indigo-500/5 border border-indigo-500/10 text-[9px] text-slate-500 leading-relaxed font-bold uppercase tracking-widest\">\n                    <span className=\"text-indigo-400\">Forensic Protocol:</span> Cross-referencing Vendor identifiers against project metadata to reveal hidden affinity circles and beneficial ownership.\n                </div>\n                </div>\n            </div>\n        </div>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/hub/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":7,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Shield"},"fix":{"range":[164,177],"text":""},"desc":"Remove unused variable \"Shield\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":7,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Globe"},"fix":{"range":[187,194],"text":""},"desc":"Remove unused variable \"Globe\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LayoutDashboard' is defined but never used.","line":7,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"LayoutDashboard"},"fix":{"range":[194,211],"text":""},"desc":"Remove unused variable \"LayoutDashboard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Maximize2' is defined but never used.","line":8,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Maximize2"},"fix":{"range":[211,226],"text":""},"desc":"Remove unused variable \"Maximize2\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":8,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Zap"},"fix":{"range":[226,231],"text":""},"desc":"Remove unused variable \"Zap\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Settings' is defined but never used.","line":8,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Settings"},"fix":{"range":[231,241],"text":""},"desc":"Remove unused variable \"Settings\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n    Network, Satellite, Binary, BarChart3, \n    Shield, Activity, Globe, LayoutDashboard,\n    Maximize2, Zap, Settings, Info\n} from 'lucide-react';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport NexusWorkspace from '../components/NexusWorkspace';\nimport SatelliteWorkspace from '../components/SatelliteWorkspace';\nimport FlowWorkspace from '../components/FlowWorkspace';\nimport AnalyticsWorkspace from '../components/AnalyticsWorkspace';\n\nimport { useSearchParams } from 'next/navigation';\n\ntype HubTab = 'nexus' | 'satellite' | 'flow' | 'analytics';\n\nexport default function ForensicHubPage() {\n    const searchParams = useSearchParams();\n    const tabParam = searchParams.get('tab') as HubTab;\n    const [activeTab, setActiveTab] = useState<HubTab>(tabParam || 'nexus');\n\n    const tabs = [\n        { id: 'nexus', label: 'Vendor Nexus', icon: Network, desc: 'Relationship Topology' },\n        { id: 'satellite', label: 'Satellite Intel', icon: Satellite, desc: 'Visual Verification' },\n        { id: 'flow', label: 'Quantum Flow', icon: Binary, desc: 'Capital Velocity' },\n        { id: 'analytics', label: 'Predictive Lab', icon: BarChart3, desc: 'Divergence Analysis' },\n    ];\n\n    return (\n        <ForensicPageLayout\n            title=\"Forensic Command Hub\"\n            subtitle=\"Unified Multiplex Analysis\"\n            icon={Activity}\n            headerActions={\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"flex bg-slate-900 ring-1 ring-white/5 p-1.5 rounded-2xl\">\n                        {tabs.map((tab) => {\n                            const IsActive = activeTab === tab.id;\n                            const Icon = tab.icon;\n                            return (\n                                <button\n                                    key={tab.id}\n                                    onClick={() => setActiveTab(tab.id as HubTab)}\n                                    className={`\n                                        relative px-6 py-2.5 rounded-xl flex items-center gap-3 transition-all\n                                        ${IsActive ? 'text-white' : 'text-slate-500 hover:text-slate-300'}\n                                    `}\n                                >\n                                    {IsActive && (\n                                        <motion.div \n                                            layoutId=\"activeTabHub\"\n                                            className=\"absolute inset-0 bg-indigo-600 rounded-xl shadow-lg shadow-indigo-900/40\"\n                                            transition={{ type: 'spring', bounce: 0.2, duration: 0.6 }}\n                                        />\n                                    )}\n                                    <Icon className={`w-4 h-4 shrink-0 relative z-10 ${IsActive ? 'text-white' : 'text-slate-600'}`} />\n                                    <span className=\"text-[10px] font-black uppercase tracking-widest relative z-10 truncate max-w-[100px] lg:max-w-none\">\n                                        {tab.label}\n                                    </span>\n                                </button>\n                            );\n                        })}\n                    </div>\n                </div>\n            }\n        >\n            <div className=\"flex-1 flex flex-col h-full bg-[#020617]\">\n                {/* Secondary Hub Header */}\n                <div className=\"px-8 py-4 border-b border-white/5 bg-slate-950/30 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"p-2 bg-indigo-600/10 rounded-lg\">\n                            {React.createElement(tabs.find(t => t.id === activeTab)?.icon || Info, { className: 'w-4 h-4 text-indigo-400' })}\n                        </div>\n                        <div>\n                            <h2 className=\"text-sm font-black text-white uppercase tracking-widest\">\n                                {tabs.find(t => t.id === activeTab)?.label}\n                            </h2>\n                            <p className=\"text-[9px] text-slate-500 font-bold uppercase tracking-widest\">\n                                {tabs.find(t => t.id === activeTab)?.desc}\n                            </p>\n                        </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-8\">\n                        <div className=\"flex flex-col items-end\">\n                            <span className=\"text-[9px] font-black text-slate-600 uppercase tracking-widest\">Stream Context</span>\n                            <span className=\"text-[10px] font-bold text-slate-400 uppercase\">ZENITH-STRATOS-09</span>\n                        </div>\n                        <div className=\"flex flex-col items-end\">\n                            <span className=\"text-[9px] font-black text-slate-600 uppercase tracking-widest\">Security Clearance</span>\n                            <span className=\"text-[10px] font-bold text-rose-500 uppercase italic\">Level 4 // Omega</span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Workspace Container */}\n                <div className=\"flex-1 flex flex-col overflow-hidden relative\">\n                    <AnimatePresence mode=\"wait\">\n                        {activeTab === 'nexus' && <NexusWorkspace key=\"nexus\" />}\n                        {activeTab === 'satellite' && <SatelliteWorkspace key=\"satellite\" />}\n                        {activeTab === 'flow' && <FlowWorkspace key=\"flow\" />}\n                        {activeTab === 'analytics' && <AnalyticsWorkspace key=\"analytics\" />}\n                    </AnimatePresence>\n                </div>\n                \n                {/* Hub Status Bar */}\n                <div className=\"h-10 px-8 border-t border-white/5 flex items-center justify-between bg-black/40 text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]\">\n                    <div className=\"flex items-center gap-6\">\n                        <span className=\"flex items-center gap-2\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\" />\n                            CPU: 42%\n                        </span>\n                        <span className=\"flex items-center gap-2\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\" />\n                            LATENCY: 12ms\n                        </span>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                        <span>KERN: v4.8.2-HYDRA</span>\n                        <div className=\"h-4 w-px bg-white/5\" />\n                        <span className=\"text-indigo-400 uppercase\">Secure WebSocket Active</span>\n                    </div>\n                </div>\n            </div>\n        </ForensicPageLayout>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/lab/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/map/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/nexus/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":5,"column":73,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":79,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[194,202],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HolographicBadge' is defined but never used.","line":7,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"HolographicBadge"},"fix":{"range":[227,292],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchGraph'. Either include it or remove the dependency array.","line":69,"column":6,"nodeType":"ArrayExpression","endLine":69,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [activeProjectId, fetchGraph]","fix":{"range":[1961,1978],"text":"[activeProjectId, fetchGraph]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Network, Search, Zap, User, Building, Landmark, AlertTriangle, Filter } from 'lucide-react';\n\nimport HolographicBadge from '@/app/components/HolographicBadge';\nimport { HOLOGRAPHIC_SOURCE } from '@/utils/holographicData';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200';\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\n\ntype Node = {\n  id: string;\n  label: string;\n  type: 'person' | 'company' | 'bank' | 'unknown';\n  risk: number;\n  x: number;\n  y: number;\n};\n\ntype Link = {\n  source: string;\n  target: string;\n  value: number;\n  type: string;\n};\n\nimport Link from 'next/link';\nimport { Shield } from 'lucide-react';\n\nexport default function NexusGraphPage() {\n  const { activeProjectId } = useProject();\n  const [nodes, setNodes] = useState<Node[]>([]);\n  const [links, setLinks] = useState<Link[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedNode, setSelectedNode] = useState<Node | null>(null);\n\n  const isMock = nodes.length === 0 && !loading;\n\n  const fetchGraph = async () => {\n    if (!activeProjectId) return;\n\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_URL}/api/v1/forensic/nexus/${activeProjectId}`);\n      const data = res.ok ? await res.json() : null;\n\n      if (data && data.nodes && data.nodes.length > 0) {\n        setNodes(data.nodes);\n        setLinks(data.links);\n      } else {\n        setNodes(HOLOGRAPHIC_SOURCE.nexus.nodes);\n        setLinks(HOLOGRAPHIC_SOURCE.nexus.links);\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch nexus graph:\", err);\n      setNodes(HOLOGRAPHIC_SOURCE.nexus.nodes);\n      setLinks(HOLOGRAPHIC_SOURCE.nexus.links);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchGraph();\n  }, [activeProjectId]);\n\n  const getNodeIcon = (type: string) => {\n    switch (type) {\n      case 'person': return User;\n      case 'company': return Building;\n      case 'bank': return Landmark;\n      default: return AlertTriangle;\n    }\n  };\n\n  const [isSweeping, setIsSweeping] = useState(false);\n  const [sweepProgress, setSweepProgress] = useState(0);\n\n  const runSanctionSweep = () => {\n    setIsSweeping(true);\n    setSweepProgress(0);\n    const interval = setInterval(() => {\n        setSweepProgress(prev => {\n            if (prev >= 100) {\n                clearInterval(interval);\n                setTimeout(() => setIsSweeping(false), 1000);\n                return 100;\n            }\n            return prev + 10;\n        });\n    }, 300);\n    \n    window.dispatchEvent(new CustomEvent('telemetry-sync', {\n        detail: { \n            source: 'NexusExplorer', \n            type: 'SANCTION_SWEEP', \n            status: 'pending',\n            label: 'CROSS-CHECKING GLOBAL ENTITIES'\n        }\n    }));\n  };\n\n  return (\n    <ForensicPageLayout\n        title=\"Vendor Nexus\"\n        subtitle=\"Project Alpha Relationship Topology & Leakage Propagation\"\n        icon={Network}\n        isMockData={isMock}\n        headerActions={\n            <div className=\"flex gap-4\">\n                 <button \n                    onClick={runSanctionSweep}\n                    disabled={isSweeping}\n                    className={`relative overflow-hidden transition-all border rounded-2xl px-6 py-3 flex items-center gap-3 shadow-xl ${isSweeping ? 'bg-indigo-600/20 border-indigo-500/50 cursor-wait' : 'bg-slate-900 border-white/10 hover:bg-white/5'}`}\n                 >\n                    {isSweeping ? (\n                        <>\n                            <div className=\"absolute inset-0 bg-indigo-600/10\" style={{ width: `${sweepProgress}%` }} />\n                            <div className=\"w-4 h-4 border-2 border-indigo-400 border-t-transparent rounded-full animate-spin z-10\" />\n                            <span className=\"text-xs font-black uppercase tracking-widest text-indigo-400 z-10\">Cross-Checking ({sweepProgress}%)</span>\n                        </>\n                    ) : (\n                        <>\n                            <Shield className=\"w-4 h-4 text-emerald-500\" />\n                            <span className=\"text-xs font-black uppercase tracking-widest text-emerald-400\">Global Sanction Sweep</span>\n                        </>\n                    )}\n                 </button>\n                 <button \n                    onClick={fetchGraph}\n                    className=\"bg-slate-900 border border-white/10 rounded-2xl px-6 py-3 flex items-center gap-3 hover:bg-white/5 transition-all shadow-xl\"\n                 >\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-indigo-500 animate-on-ping\" />\n                    <span className=\"text-xs font-black uppercase tracking-widest text-indigo-400\">Update Network Logic</span>\n                 </button>\n            </div>\n        }\n    >\n      {/* Graph Area */}\n      <div className=\"relative w-full h-[650px] border border-white/5 rounded-[2.5rem] bg-slate-950/50 backdrop-blur-3xl overflow-hidden group mb-8 shadow-[0_0_50px_rgba(0,0,0,0.5)] m-8 max-w-[calc(100%-4rem)]\">\n         {/* Grid Background */}\n          <div className=\"absolute inset-0 opacity-[0.03] nexus-grid-bg\" />\n         \n         <AnimatePresence>\n            {loading ? (\n            <motion.div \n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 z-50 backdrop-blur-sm\"\n            >\n                <div className=\"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-6\" />\n                <span className=\"text-indigo-400 font-mono text-xs uppercase tracking-[0.5em] animate-pulse\">Analyzing Network Propagation...</span>\n            </motion.div>\n            ) : null}\n         </AnimatePresence>\n\n         <div className=\"absolute inset-0 p-10 cursor-grab active:cursor-grabbing\">\n            <svg className=\"w-full h-full\"> \n               <defs>\n                  <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"28\" refY=\"3.5\" orient=\"auto\">\n                    <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#334155\" />\n                  </marker>\n               </defs>\n                {(nodes.length > 0 ? links : HOLOGRAPHIC_SOURCE.nexus.links).map((link, i) => {\n                  const source = (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === link.source);\n                  const target = (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === link.target);\n                  if (!source || !target) return null;\n                  \n                  const x1 = source.x;\n                  const y1 = source.y;\n                  const x2 = target.x;\n                  const y2 = target.y;\n\n                  const midX = (x1 + x2) / 2;\n                  const midY = (y1 + y2) / 2;\n\n                  return (\n                    <g key={i} className=\"group/link\">\n                      <motion.line \n                         initial={{ pathLength: 0, opacity: 0 }}\n                         animate={{ pathLength: 1, opacity: 0.4 }}\n                         x1={x1 + '%'} y1={y1 + '%'} x2={x2 + '%'} y2={y2 + '%'} \n                         stroke={link.type === 'Funneling' ? '#f43f5e' : '#6366f1'} \n                         strokeWidth={link.type === 'Funneling' ? 4 : 2} \n                         strokeDasharray={link.type === 'Funneling' ? \"8,4\" : \"0\"}\n                         markerEnd=\"url(#arrowhead)\"\n                         className=\"transition-all group-hover/link:opacity-100 group-hover/link:stroke-white cursor-pointer\"\n                      />\n                      {/* Interactive Edge Label */}\n                      <foreignObject \n                        x={`${midX}%`} \n                        y={`${midY}%`} \n                        width=\"80\" \n                        height=\"30\" \n                        className=\"overflow-visible pointer-events-none opacity-0 group-hover/link:opacity-100 transition-opacity\"\n                        style={{ transform: 'translate(-40px, -15px)' }}\n                      >\n                        <div className=\"bg-slate-900/90 border border-white/20 backdrop-blur-md px-2 py-1 rounded-lg text-[8px] font-black text-white text-center shadow-2xl\">\n                          Rp {(link.value / 1000000).toFixed(1)}M\n                        </div>\n                      </foreignObject>\n                    </g>\n                  );\n                })}\n            </svg>\n            \n            {/* Nodes Layer */}\n            {(nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).map((node) => {\n               const Icon = getNodeIcon(node.type);\n               const isSelected = selectedNode?.id === node.id;\n               return (\n                 <motion.div\n                   key={node.id}\n                   initial={{ scale: 0, opacity: 0 }}\n                   animate={{ scale: 1, opacity: 1 }}\n                   whileHover={{ scale: 1.2, zIndex: 30 }}\n                   className={`absolute w-14 h-14 -ml-7 -mt-7 rounded-2xl border-2 flex flex-col items-center justify-center cursor-pointer transition-all duration-300 ${\n                      isSelected ? 'ring-4 ring-indigo-500/30 border-white bg-indigo-600 scale-110 shadow-indigo-500/50' :\n                      node.risk > 0.8 ? 'bg-rose-500/20 border-rose-500 shadow-[0_0_30px_rgba(244,63,94,0.4)] animate-pulse' : \n                      node.id.startsWith('proj_') ? 'bg-indigo-600 border-indigo-400 shadow-indigo-900/50 w-20 h-20 -ml-10 -mt-10 rounded-[2rem]' :\n                      'bg-slate-900 border-white/10 shadow-black'\n                   }`}\n                   style={{ left: `${node.x}%`, top: `${node.y}%` }}\n                   onClick={() => setSelectedNode(node)}\n                 >\n                    <Icon className={`w-6 h-6 ${node.risk > 0.8 ? 'text-rose-400' : 'text-white'}`} />\n                    \n                    {/* Node Label */}\n                    <div className={`absolute top-16 whitespace-nowrap bg-slate-900/90 border border-white/5 backdrop-blur-md px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${isSelected ? 'text-indigo-400 border-indigo-500/50' : 'text-slate-400 group-hover:text-white transition-colors'}`}>\n                      {node.label}\n                    </div>\n\n                    {node.risk > 0.8 && (\n                        <div className=\"absolute -top-2 -right-2 bg-rose-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full animate-bounce\">\n                            RISK\n                        </div>\n                    )}\n                 </motion.div>\n               );\n            })}\n         </div>\n\n         {/* Legend */}\n         <div className=\"absolute bottom-8 left-8 flex flex-col gap-2 bg-black/40 backdrop-blur-xl p-4 rounded-2xl border border-white/5\">\n            <div className=\"flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">\n                <div className=\"w-3 h-3 bg-indigo-600 rounded-lg\" /> Project Root\n            </div>\n            <div className=\"flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">\n                <div className=\"w-3 h-3 bg-rose-500/50 border border-rose-500 rounded-lg\" /> High Risk Entity\n            </div>\n            <div className=\"flex items-center gap-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">\n                <div className=\"w-3 h-1 bg-rose-500 rounded-full\" /> Kickback Funnel\n            </div>\n         </div>\n      </div>\n\n      {/* Details Panel */}\n      <AnimatePresence>\n        {selectedNode && (\n          <motion.div \n            initial={{ x: 400, opacity: 0 }}\n            animate={{ x: 0, opacity: 1 }}\n            exit={{ x: 400, opacity: 0 }}\n            className=\"fixed top-32 right-8 w-[400px] glass-panel p-8 rounded-[2rem] border border-white/10 shadow-[0_20px_60px_rgba(0,0,0,0.8)] z-50 backdrop-blur-3xl\"\n          >\n             <div className=\"flex justify-between items-start mb-8\">\n                <div className=\"flex items-center gap-4\">\n                   <div className={`p-4 rounded-2xl ${selectedNode.risk > 0.8 ? 'bg-rose-600 shadow-rose-900/40' : 'bg-indigo-600 shadow-indigo-900/40'}`}>\n                      {React.createElement(getNodeIcon(selectedNode.type), { className: 'w-6 h-6 text-white' })}\n                   </div>\n                   <div>\n                      <h3 className=\"font-black text-white text-xl uppercase tracking-tighter leading-none\">{selectedNode.label}</h3>\n                      <p className=\"text-[10px] text-slate-500 uppercase tracking-[0.2em] mt-1 font-bold\">{selectedNode.type} Intelligence Data</p>\n                   </div>\n                </div>\n                <button \n                  onClick={() => setSelectedNode(null)} \n                  title=\"Close Intelligence Panel\"\n                  aria-label=\"Close Intelligence Panel\"\n                  className=\"p-2 hover:bg-white/10 rounded-xl text-slate-500 transition-colors\"\n                >\n                  ‚úï\n                </button>\n             </div>\n             \n             <div className=\"space-y-6\">\n                <div className=\"p-5 bg-white/[0.03] rounded-[1.5rem] border border-white/5\">\n                   <div className=\"flex justify-between items-center mb-1\">\n                      <span className=\"text-[10px] font-black uppercase text-slate-500 tracking-widest\">Forensic Risk Score</span>\n                      <span className={`text-2xl font-black font-mono ${selectedNode.risk > 0.8 ? 'text-rose-500' : 'text-emerald-500'}`}>\n                         {(selectedNode.risk * 100).toFixed(0)}%\n                      </span>\n                   </div>\n                   <div className=\"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden\">\n                      <motion.div \n                        initial={{ width: 0 }}\n                        animate={{ width: `${selectedNode.risk * 100}%` }}\n                        className={`h-full ${selectedNode.risk > 0.8 ? 'bg-rose-500' : 'bg-emerald-500'}`}\n                      />\n                   </div>\n                </div>\n                \n                <div>\n                   <h4 className=\"text-[10px] uppercase font-black text-slate-500 mb-4 tracking-widest px-2\">Flow Intersections</h4>\n                   <div className=\"space-y-2 max-h-[250px] overflow-y-auto pr-2 custom-scrollbar\">\n                      {(nodes.length > 0 ? links : HOLOGRAPHIC_SOURCE.nexus.links).filter(l => l.source === selectedNode.id || l.target === selectedNode.id).map((l, i) => (\n                        <div key={i} className=\"flex justify-between items-center p-4 rounded-2xl bg-white/[0.02] border border-white/5 hover:bg-white/5 transition-colors group\">\n                           <div className=\"flex flex-col\">\n                              <span className=\"text-[10px] font-black text-indigo-400 uppercase tracking-tighter\">\n                                {l.source === selectedNode.id ? 'Outbound Flow' : 'Inbound Flow'}\n                              </span>\n                              <span className=\"text-xs font-bold text-slate-200 mt-0.5\">\n                                {l.source === selectedNode.id ? (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === l.target)?.label : (nodes.length > 0 ? nodes : HOLOGRAPHIC_SOURCE.nexus.nodes).find(n => n.id === l.source)?.label}\n                              </span>\n                           </div>\n                           <div className=\"text-right\">\n                              <div className=\"text-sm font-black text-white\">Rp {(l.value / 1000000).toFixed(1)}M</div>\n                              <div className=\"text-[9px] uppercase font-bold text-slate-600\">{l.type}</div>\n                           </div>\n                        </div>\n                      ))}\n                      {links.filter(l => l.source === selectedNode.id || l.target === selectedNode.id).length === 0 && (\n                          <div className=\"text-center py-6 text-slate-600 italic text-xs uppercase tracking-widest font-bold\">No mapped flows found</div>\n                      )}\n                   </div>\n                </div>\n\n                <div className=\"flex gap-4\">\n                    <button className=\"flex-1 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-900/40 flex items-center justify-center gap-3\">\n                    <Zap className=\"w-4 h-4\" /> Trace Beneficial Ownership\n                    </button>\n                    <button \n                      className=\"p-4 bg-white/5 hover:bg-white/10 text-white rounded-2xl border border-white/5 transition-all\"\n                      title=\"Search Asset Registry\"\n                      aria-label=\"Search Asset Registry\"\n                    >\n                        <Search className=\"w-4 h-4 text-slate-400\" />\n                    </button>\n                </div>\n             </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/recovery/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[39,50],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":135,"column":64,"nodeType":"Identifier","messageId":"unusedVar","endLine":135,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { \n    Radar, Share2, DollarSign, \n    ArrowRight, Lock, Loader2, \n    Database, Globe, Target\n} from 'lucide-react';\nimport { API_URL } from '@/utils/constants';\n\ninterface TraceNode {\n    id: string;\n    label: string;\n    type: 'FIAT' | 'ENTITY' | 'CRYPTO' | 'OFFSHORE' | 'ASSET';\n    risk: number;\n}\n\ninterface TraceLink {\n    source: string;\n    target: string;\n    value: number;\n    currency: string;\n}\n\ninterface RecoverResult {\n    trace_id: string;\n    confidence: number;\n    recoverable_amount_estimate: number;\n    graph: {\n        nodes: TraceNode[];\n        links: TraceLink[];\n    };\n}\n\nexport default function AssetRecoveryPage() {\n    const [projectId, setProjectId] = useState('ZENITH-001');\n    const [isTracing, setIsTracing] = useState(false);\n    const [result, setResult] = useState<RecoverResult | null>(null);\n\n    const handleTrace = async () => {\n        setIsTracing(true);\n        setResult(null);\n        try {\n            const res = await fetch(`${API_URL}/api/v1/forensic-tools/recovery/trace/${projectId}`);\n            if (res.ok) {\n                const data = await res.json();\n                setTimeout(() => {\n                    setResult(data);\n                    setIsTracing(false);\n                }, 2000);\n            } else {\n                setIsTracing(false);\n            }\n        } catch (e) {\n            console.error(e);\n            setIsTracing(false);\n        }\n    };\n\n    // Helper to format currency\n    const fmt = (n: number) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(n);\n\n    return (\n        <div className=\"h-screen bg-[#020617] text-slate-300 font-sans flex flex-col overflow-hidden\">\n             {/* Header */}\n             <header className=\"h-20 border-b border-white/5 bg-slate-900/40 backdrop-blur-xl flex items-center justify-between px-10 shrink-0 z-50\">\n                <div className=\"flex items-center gap-6\">\n                    <div className=\"w-12 h-12 bg-cyan-600 rounded-2xl flex items-center justify-center shadow-2xl shadow-cyan-900/20 ring-1 ring-white/10\">\n                        <Radar className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                        <h1 className=\"text-xl font-bold text-white tracking-tight\">Flux Capital Tracer</h1>\n                        <div className=\"flex items-center gap-3 mt-1\">\n                            <span className=\"text-[10px] bg-cyan-500/10 text-cyan-400 px-2 py-0.5 rounded border border-cyan-500/20 font-bold uppercase tracking-wider\">Multi-Ledger Recovery</span>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            <main className=\"flex-1 flex overflow-hidden\">\n                {/* Control Panel */}\n                <div className=\"w-96 border-r border-white/5 bg-slate-950/50 p-8 flex flex-col gap-8 shrink-0\">\n                    <div className=\"space-y-4\">\n                        <label htmlFor=\"project-id\" className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2\">\n                             <Target className=\"w-3 h-3\" /> Target Project\n                        </label>\n                        <input \n                            id=\"project-id\"\n                            type=\"text\"\n                            value={projectId}\n                            onChange={(e) => setProjectId(e.target.value)}\n                            className=\"w-full bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-sm font-mono text-white focus:border-cyan-500 transition-colors outline-none\"\n                        />\n                        <button\n                            onClick={handleTrace}\n                            disabled={isTracing}\n                            className=\"w-full py-4 bg-cyan-600 hover:bg-cyan-500 rounded-2xl text-white font-black text-xs uppercase tracking-[0.2em] shadow-lg shadow-cyan-900/40 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 group\"\n                        >\n                            {isTracing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Share2 className=\"w-4 h-4 group-hover:rotate-180 transition-transform\" />}\n                            {isTracing ? 'Tracing Ledgers...' : 'Initiate Asset Trace'}\n                        </button>\n                    </div>\n\n                    <div className=\"p-6 rounded-2xl bg-cyan-900/10 border border-cyan-500/10\">\n                        <h3 className=\"text-[10px] font-black text-cyan-400 uppercase tracking-widest mb-4\">Coverage Map</h3>\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            {['SWIFT / SEPA', 'Ethereum (ERC20)', 'Tron (TRC20)', 'Bitcoin Omni', 'Offshore Leaks', 'Property Registries'].map(item => (\n                                <div key={item} className=\"flex items-center gap-2 text-[9px] font-bold text-slate-400\">\n                                    <div className=\"w-1 h-1 rounded-full bg-cyan-500\" /> {item}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Graph View */}\n                <div className=\"flex-1 relative bg-black flex items-center justify-center overflow-auto p-10\">\n                    <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(6,182,212,0.1),transparent_70%)] pointer-events-none\" />\n                    \n                    {result ? (\n                        <div className=\"w-full max-w-5xl animate-in zoom-in duration-500\">\n                            <div className=\"flex justify-between items-end mb-10 pb-6 border-b border-white/5\">\n                                <div>\n                                    <p className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1\">Trace Identification</p>\n                                    <h2 className=\"text-3xl font-black text-white font-mono\">{result.trace_id}</h2>\n                                </div>\n                                <div className=\"text-right\">\n                                    <p className=\"text-[10px] font-bold text-cyan-500 uppercase tracking-widest mb-1\">Estimated Recoverable Value</p>\n                                    <h2 className=\"text-3xl font-black text-cyan-400 text-shadow-glow\">{fmt(result.recoverable_amount_estimate)}</h2>\n                                </div>\n                            </div>\n\n                            {/* Node Visualization (Simplified Flow) */}\n                            <div className=\"relative space-y-4\">\n                                {result.graph.nodes.map((node, i) => {\n                                    // Identify links from this node\n                                    const outgoing = result.graph.links.filter(l => l.source === node.id);\n                                    \n                                    return (\n                                        <div key={node.id} className=\"relative flex items-center gap-10 group\">\n                                            {/* Node */}\n                                            <div className=\"w-64 p-4 rounded-xl bg-slate-900 border border-white/10 relative z-10 flex items-center gap-4 group-hover:border-cyan-500/50 transition-colors\">\n                                                <div className={`w-10 h-10 rounded-lg flex items-center justify-center text-white ${\n                                                    node.type === 'CRYPTO' ? 'bg-indigo-600' :\n                                                    node.type === 'OFFSHORE' ? 'bg-rose-600' :\n                                                    node.type === 'ASSET' ? 'bg-emerald-600' :\n                                                    'bg-slate-700'\n                                                }`}>\n                                                    {node.type === 'CRYPTO' ? <Database className=\"w-5 h-5\" /> :\n                                                     node.type === 'OFFSHORE' ? <Globe className=\"w-5 h-5\" /> :\n                                                     node.type === 'ASSET' ? <Lock className=\"w-5 h-5\" /> :\n                                                     <DollarSign className=\"w-5 h-5\" />}\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{node.type}</p>\n                                                    <p className=\"text-sm font-bold text-white truncate\">{node.label}</p>\n                                                </div>\n                                            </div>\n\n                                            {/* Links */}\n                                            {outgoing.length > 0 && (\n                                                <div className=\"flex flex-col gap-2\">\n                                                    {outgoing.map((link, idx) => (\n                                                        <div key={idx} className=\"flex items-center gap-2\">\n                                                            <div className=\"w-16 h-px bg-cyan-500/30\" />\n                                                            <div className=\"px-3 py-1 rounded bg-cyan-950 border border-cyan-500/20 text-[10px] font-mono text-cyan-400 whitespace-nowrap\">\n                                                                {link.currency} {link.value.toLocaleString()} \n                                                                <ArrowRight className=\"w-3 h-3 inline ml-2\" /> \n                                                                {/* Target Label would be nice here but we only have ID in link */}\n                                                                <span className=\"text-white ml-2\">{result.graph.nodes.find(n => n.id === link.target)?.label}</span>\n                                                            </div>\n                                                        </div>\n                                                    ))}\n                                                </div>\n                                            )}\n                                        </div>\n                                    );\n                                })}\n                            </div>\n\n                        </div>\n                    ) : (\n                        <div className=\"text-center opacity-30\">\n                            {isTracing ? (\n                                <div className=\"flex flex-col items-center\">\n                                    <div className=\"relative\">\n                                        <div className=\"w-24 h-24 border-4 border-cyan-500/20 rounded-full animate-ping absolute\" />\n                                        <div className=\"w-24 h-24 border-4 border-cyan-500 rounded-full animate-spin\" />\n                                    </div>\n                                    <h3 className=\"text-xl font-black text-white uppercase tracking-widest mt-8 animate-pulse\">Following the Money...</h3>\n                                </div>\n                            ) : (\n                                <>\n                                    <Share2 className=\"w-24 h-24 text-slate-600 mx-auto mb-6\" />\n                                    <h3 className=\"text-lg font-black text-slate-500 uppercase tracking-widest\">Ready to Trace</h3>\n                                </>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </main>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/forensic/satellite/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Satellite' is defined but never used.","line":5,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Satellite"},"fix":{"range":[70,80],"text":""},"desc":"Remove unused variable \"Satellite\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":6,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[107,115],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle' is defined but never used.","line":7,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":31,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CheckCircle"},"fix":{"range":[144,157],"text":""},"desc":"Remove unused variable \"CheckCircle\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":127,"column":38,"nodeType":"JSXOpeningElement","endLine":131,"endColumn":40},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":175,"column":113,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11621,11622],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11621,11622],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11621,11622],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11621,11622],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":175,"column":135,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11643,11644],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11643,11644],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11643,11644],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11643,11644],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { \n    Satellite, Globe, MapPin, \n    Layers, Search, Loader2, \n    AlertTriangle, CheckCircle, \n    Maximize2, ShieldCheck \n} from 'lucide-react';\nimport { API_URL } from '@/utils/constants';\n\ninterface SatelliteData {\n    satellite_provider: string;\n    last_flyover: string;\n    delta_detected_percent: number;\n    reported_progress_percent: number;\n    verification_status: 'VERIFIED' | 'DISCREPANCY';\n    analysis_notes: string;\n    heatmap_url: string;\n}\n\nexport default function SatelliteVerificationPage() {\n    const [projectId, setProjectId] = useState('ZENITH-001');\n    const [isScanning, setIsScanning] = useState(false);\n    const [data, setData] = useState<SatelliteData | null>(null);\n\n    const handleScan = async () => {\n        setIsScanning(true);\n        setData(null);\n        try {\n            const res = await fetch(`${API_URL}/api/v1/forensic-tools/satellite/verify/${projectId}`);\n            if (res.ok) {\n                const result = await res.json();\n                setTimeout(() => {\n                    setData(result);\n                    setIsScanning(false);\n                }, 1500); // Processing construction delta\n            } else {\n                setIsScanning(false);\n            }\n        } catch (error) {\n            console.error(error);\n            setIsScanning(false);\n        }\n    };\n\n    return (\n        <div className=\"h-screen bg-[#020617] text-slate-300 font-sans flex flex-col overflow-hidden\">\n            {/* Header */}\n            <header className=\"h-20 border-b border-white/5 bg-slate-900/40 backdrop-blur-xl flex items-center justify-between px-10 shrink-0 z-50\">\n                <div className=\"flex items-center gap-6\">\n                    <div className=\"w-12 h-12 bg-indigo-600/10 border border-indigo-500/20 rounded-2xl flex items-center justify-center\">\n                        <Globe className=\"w-6 h-6 text-indigo-400\" />\n                    </div>\n                    <div>\n                        <h1 className=\"text-xl font-bold text-white tracking-tight uppercase\">Visual Progress Audit</h1>\n                        <div className=\"flex items-center gap-3 mt-1\">\n                            <span className=\"text-[10px] bg-indigo-500/10 text-indigo-400 px-2 py-0.5 rounded border border-indigo-500/20 font-bold uppercase tracking-wider\">Independent Visual Verification Layer</span>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            <main className=\"flex-1 flex overflow-hidden\">\n                {/* Sidebar Controls */}\n                <div className=\"w-96 border-r border-white/5 bg-slate-950/50 p-8 flex flex-col gap-8 shrink-0\">\n                    <div className=\"space-y-4\">\n                        <label htmlFor=\"target-coords\" className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-2\">\n                             <MapPin className=\"w-3 h-3\" /> Audit Target / Project ID\n                        </label>\n                        <div className=\"flex gap-2\">\n                            <input \n                                id=\"target-coords\"\n                                type=\"text\"\n                                value={projectId}\n                                onChange={(e) => setProjectId(e.target.value)}\n                                placeholder=\"Enter Target ID...\"\n                                className=\"flex-1 bg-slate-900 border border-white/10 rounded-xl px-4 py-3 text-sm font-mono text-white focus:border-indigo-500 transition-colors outline-none\"\n                            />\n                        </div>\n                        <button\n                            onClick={handleScan}\n                            disabled={isScanning}\n                            className=\"w-full py-4 bg-indigo-600 hover:bg-indigo-500 rounded-2xl text-white font-black text-xs uppercase tracking-[0.2em] shadow-lg shadow-indigo-900/40 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 group\"\n                        >\n                            {isScanning ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <ShieldCheck className=\"w-4 h-4 group-hover:animate-pulse\" />}\n                            {isScanning ? 'Processing Delta...' : 'Analyze Construction Delta'}\n                        </button>\n                    </div>\n\n                    <div className=\"p-6 rounded-2xl bg-slate-900/60 border border-white/5 space-y-4\">\n                        <h3 className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Audit Parameters</h3>\n                        <div className=\"space-y-2\">\n                             <div className=\"flex justify-between text-xs font-mono\">\n                                 <span className=\"text-slate-500\">Source Type</span>\n                                 <span className=\"text-indigo-400\">Pleiades Neo (30cm)</span>\n                             </div>\n                             <div className=\"flex justify-between text-xs font-mono\">\n                                 <span className=\"text-slate-500\">Spectral Analysis</span>\n                                 <span className=\"text-white\">Material Detection Active</span>\n                             </div>\n                             <div className=\"flex justify-between text-xs font-mono\">\n                                 <span className=\"text-slate-500\">Accuracy Thresh.</span>\n                                 <span className=\"text-white\">¬± 0.2m Vertical</span>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Main Viewport */}\n                <div className=\"flex-1 relative bg-black flex flex-col items-center justify-center overflow-hidden\">\n                    <div className=\"absolute inset-0 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg')] bg-cover opacity-5 pointer-events-none\" />\n                    \n                    {data ? (\n                        <div className=\"w-full max-w-4xl p-10 animate-in zoom-in duration-500\">\n                             <div className=\"grid grid-cols-2 gap-10\">\n                                 {/* Visual Placeholder */}\n                                 <div className=\"aspect-square bg-slate-900/80 rounded-[2.5rem] border border-white/10 relative overflow-hidden group shadow-2xl\">\n                                     <div className=\"absolute inset-0 bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,rgba(16,185,129,0.05)_10px,rgba(16,185,129,0.05)_20px)]\" />\n                                     <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-emerald-500/30 rounded-full animate-ping\" />\n                                     <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 border border-dashed border-emerald-500/20 rounded-full animate-[spin_10s_linear_infinite]\" />\n                                     \n                                     <div className=\"absolute top-6 left-6 px-3 py-1 bg-black/60 backdrop-blur rounded font-mono text-[10px] text-indigo-400 border border-indigo-500/30\">\n                                         CHRONO DATA // {data.last_flyover}\n                                     </div>\n\n                                     <img \n                                         src=\"https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&q=80&w=800\" \n                                         className=\"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-30\"\n                                         alt=\"Visual Evidence\"\n                                     />\n                                 </div>\n\n                                 {/* Analysis Data */}\n                                 <div className=\"flex flex-col gap-6 justify-center\">\n                                     <div className=\"flex items-center gap-4 mb-4\">\n                                         <div className={`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest border flex items-center gap-2 ${\n                                             data.verification_status === 'VERIFIED' \n                                                 ? 'bg-indigo-500/10 border-indigo-500/20 text-indigo-400' \n                                                 : 'bg-rose-500/10 border-rose-500/20 text-rose-500'\n                                         }`}>\n                                             {data.verification_status === 'VERIFIED' ? <ShieldCheck className=\"w-4 h-4\" /> : <AlertTriangle className=\"w-4 h-4\" />}\n                                             {data.verification_status === 'VERIFIED' ? 'PHYSICAL MATCH' : 'CONSTRUCTION DISCREPANCY'}\n                                         </div>\n                                     </div>\n\n                                     <div className=\"space-y-6\">\n                                         <div>\n                                             <div className=\"flex justify-between items-end mb-2\">\n                                                 <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Invoiced Progress</span>\n                                                 <span className=\"text-2xl font-black text-white\">{data.reported_progress_percent}%</span>\n                                             </div>\n                                             <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden\">\n                                                 <div className=\"h-full bg-slate-600 rounded-full\" style={{ width: `${data.reported_progress_percent}%` }} />\n                                             </div>\n                                         </div>\n\n                                         <div>\n                                             <div className=\"flex justify-between items-end mb-2\">\n                                                 <span className=\"text-[10px] font-black text-indigo-500 uppercase tracking-widest flex items-center gap-2\">\n                                                     <Layers className=\"w-3 h-3\" /> Construction Delta (Physical)\n                                                 </span>\n                                                 <span className=\"text-2xl font-black text-indigo-400\">{data.delta_detected_percent}%</span>\n                                             </div>\n                                             <div className=\"h-2 bg-slate-800 rounded-full overflow-hidden\">\n                                                 <div className=\"h-full bg-indigo-500 rounded-full relative\" style={{ width: `${data.delta_detected_percent}%` }}>\n                                                     <div className=\"absolute inset-0 bg-white/10 animate-pulse\" />\n                                                 </div>\n                                             </div>\n                                         </div>\n                                     </div>\n                                     \n                                     <div className=\"p-6 bg-slate-900/50 border border-white/5 rounded-2xl mt-4\">\n                                         <h4 className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2\">Forensic Verification Notes</h4>\n                                         <p className=\"text-sm font-bold text-slate-300 leading-relaxed italic\">\"{data.analysis_notes}\"</p>\n                                     </div>\n                                 </div>\n                             </div>\n                        </div>\n                    ) : (\n                        <div className=\"text-center opacity-30\">\n                            {isScanning ? (\n                                <div className=\"flex flex-col items-center\">\n                                    <div className=\"w-32 h-32 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin mb-8\" />\n                                    <h3 className=\"text-xl font-black text-white uppercase tracking-widest animate-pulse\">Running Delta Analysis...</h3>\n                                </div>\n                            ) : (\n                                <>\n                                    <Maximize2 className=\"w-24 h-24 text-slate-600 mx-auto mb-6\" />\n                                    <h3 className=\"text-lg font-black text-slate-500 uppercase tracking-widest\">No Active Audit Target</h3>\n                                </>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </main>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/StepToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/components/AcquireStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileEntry' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FileEntry"},"fix":{"range":[174,184],"text":""},"desc":"Remove unused variable \"FileEntry\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":148,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":148,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9675,9678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9675,9678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { motion } from 'framer-motion';\nimport { Upload, Info, Table, MapPin, Landmark, Box, DatabaseZap, Download } from 'lucide-react';\nimport { FileEntry, IngestionHistoryItem } from '../types';\n\ninterface AcquireStepProps {\n    tab: 'NEW' | 'HISTORY';\n    setTab: (tab: 'NEW' | 'HISTORY') => void;\n    isDragging: boolean;\n    setIsDragging: (v: boolean) => void;\n    handleFiles: (files: FileList | null) => void;\n    history: IngestionHistoryItem[];\n    exportAuditExcel: () => void;\n    fetchHistory: () => void;\n}\n\nexport function AcquireStep({\n    tab, setTab, isDragging, setIsDragging, handleFiles, history, exportAuditExcel, fetchHistory\n}: AcquireStepProps) {\n    return (\n        <motion.div \n            initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }}\n            className=\"flex-1 p-10 flex flex-col gap-10 overflow-hidden\"\n        >\n            <div className=\"flex justify-center\">\n                <div className=\"bg-slate-900/50 p-1.5 rounded-2xl border border-white/5 flex gap-2\">\n                    <button \n                        onClick={() => setTab('NEW')}\n                        className={`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${tab === 'NEW' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/40' : 'text-slate-500 hover:text-slate-300'}`}\n                    >\n                        New Payload\n                    </button>\n                    <button \n                        onClick={() => { setTab('HISTORY'); fetchHistory(); }}\n                        className={`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${tab === 'HISTORY' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/40' : 'text-slate-500 hover:text-slate-300'}`}\n                    >\n                        History Archive\n                    </button>\n                </div>\n            </div>\n\n            {tab === 'NEW' ? (\n                <div \n                    onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}\n                    onDragLeave={() => setIsDragging(false)}\n                    onDrop={(e) => { e.preventDefault(); handleFiles(e.dataTransfer.files); }}\n                    className={`flex-1 border-2 border-dashed rounded-[3.5rem] flex flex-col items-center justify-center relative transition-all duration-700 ${\n                        isDragging ? 'border-indigo-500 bg-indigo-500/5 shadow-[inset_0_0_100px_rgba(79,70,229,0.05)] scale-[0.99]' : 'border-white/5 bg-slate-900/10 hover:border-white/10'\n                    }`}\n                >\n                    <input \n                        type=\"file\" \n                        multiple \n                        className=\"absolute inset-0 opacity-0 cursor-pointer z-10\" \n                        onChange={(e) => handleFiles(e.target.files)} \n                        aria-label=\"Upload forensic data files\"\n                        title=\"Upload forensic data files\"\n                    />\n                    \n                    <div className=\"relative group\">\n                        <div className=\"absolute inset-0 bg-indigo-600 blur-[60px] opacity-20 group-hover:opacity-40 transition-opacity rounded-full animate-pulse\" />\n                        <div className=\"w-36 h-36 bg-indigo-600 rounded-[3rem] flex items-center justify-center relative z-10 shadow-indigo-900/40 shadow-[0_30px_60px_-10px_rgba(0,0,0,0.5)] transform transition-all group-hover:scale-110 group-hover:-rotate-3\">\n                            <Upload className=\"w-14 h-14 text-white\" />\n                        </div>\n                    </div>\n                    <h2 className=\"text-4xl font-black text-white mt-12 mb-4 tracking-tighter italic\">Acquisition Tunnel</h2>\n                    <p className=\"text-slate-500 text-sm max-w-sm text-center leading-relaxed font-medium uppercase tracking-tight\">\n                        Stream site ledgers, bank telemetry, or spatial archives for forensic reconstruction.\n                    </p>\n                    \n                    <div className=\"mt-8 flex items-center gap-4 px-6 py-3 rounded-2xl bg-indigo-500/5 border border-indigo-500/20 text-[10px] font-bold text-indigo-300 uppercase tracking-widest backdrop-blur-sm\">\n                        <Info className=\"w-4 h-4 text-indigo-400\" />\n                        <span>Supported: CSV, Excel (.xlsx), PDF bank statements</span>\n                    </div>\n\n                    <div className=\"flex gap-12 mt-20 opacity-20 grayscale hover:grayscale-0 transition-all duration-700 hover:opacity-100\">\n                        <EntityIcon icon={Table} label=\"CSV / SYMBOLIC\" />\n                        <EntityIcon icon={MapPin} label=\"SPATIAL DATA\" />\n                        <EntityIcon icon={Landmark} label=\"BANK_LEDGER\" />\n                        <EntityIcon icon={Box} label=\"IMAGE_PACKS\" />\n                    </div>\n                </div>\n            ) : (\n                <div className=\"flex-1 bg-slate-900/20 border border-white/5 rounded-[3.5rem] overflow-hidden flex flex-col p-10\">\n                    <div className=\"flex justify-between items-center mb-8\">\n                        <h2 className=\"text-2xl font-black text-white italic uppercase tracking-tighter\">Forensic Ingress Logs</h2>\n                        <button \n                            onClick={exportAuditExcel}\n                            className=\"px-6 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-emerald-900/20 flex items-center gap-3 border border-emerald-500/20 active:scale-95\"\n                        >\n                            <Download className=\"w-4 h-4\" /> Export Audit Trail (.xlsx)\n                        </button>\n                    </div>\n                    <div className=\"flex-1 overflow-auto custom-scrollbar pr-2\">\n                        <table className=\"w-full text-left border-separate border-spacing-y-3\">\n                            <thead>\n                                <tr className=\"text-[10px] font-black text-slate-600 uppercase tracking-[0.2em] italic\">\n                                    <th className=\"px-6 pb-2\">Batch ID</th>\n                                    <th className=\"px-6 pb-2\">Asset Name</th>\n                                    <th className=\"px-6 pb-2\">Timestamp</th>\n                                    <th className=\"px-6 pb-2 text-right\">Records</th>\n                                    <th className=\"px-6 pb-2 text-center\">Status</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {history.map((h) => (\n                                    <tr key={h.id} className=\"group hover:bg-white/[0.02] transition-colors\">\n                                        <td className=\"px-6 py-4 bg-slate-900/50 rounded-l-2xl border-y border-l border-white/5 font-mono text-[10px] text-indigo-400\">\n                                            {h.id.slice(0, 12)}...\n                                        </td>\n                                        <td className=\"px-6 py-4 bg-slate-900/50 border-y border-white/5 font-black text-xs text-white uppercase tracking-tight\">\n                                            {h.fileName}\n                                        </td>\n                                        <td className=\"px-6 py-4 bg-slate-900/50 border-y border-white/5 text-[10px] text-slate-500 font-bold\">\n                                            {new Date(h.timestamp).toLocaleString()}\n                                        </td>\n                                        <td className=\"px-6 py-4 bg-slate-900/50 border-y border-white/5 text-right font-mono text-xs text-slate-400\">\n                                            {h.recordsProcessed.toLocaleString()}\n                                        </td>\n                                        <td className=\"px-6 py-4 bg-slate-900/50 rounded-r-2xl border-y border-r border-white/5 text-center\">\n                                            <span className={`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${\n                                                h.status === 'completed' ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20' : 'bg-amber-500/10 text-amber-400 border border-amber-500/20'\n                                            }`}>\n                                                {h.status}\n                                            </span>\n                                        </td>\n                                    </tr>\n                                ))}\n                                {history.length === 0 && (\n                                    <tr>\n                                        <td colSpan={5} className=\"py-32 text-center\">\n                                            <div className=\"flex flex-col items-center gap-6 opacity-20\">\n                                                <DatabaseZap className=\"w-16 h-16\" />\n                                                <p className=\"text-[10px] font-black uppercase tracking-[0.4em]\">Vault Registry Empty</p>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            )}\n        </motion.div>\n    );\n}\n\nfunction EntityIcon({ icon: Icon, label }: { icon: any, label: string }) {\n    return (\n        <div className=\"flex flex-col items-center gap-5 group cursor-default\">\n            <div className=\"p-6 bg-slate-900/60 border border-white/5 rounded-3xl text-slate-700 group-hover:text-white group-hover:border-indigo-500/50 group-hover:bg-slate-900 transition-all shadow-inner transform group-hover:-translate-y-2\">\n                <Icon className=\"w-8 h-8\" />\n            </div>\n            <span className=\"text-[10px] font-black text-slate-700 uppercase tracking-[0.3em] italic group-hover:text-slate-400 transition-colors\">{label}</span>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/components/AlignmentUnit.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'index' is defined but never used.","line":21,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\nimport { \n    ChevronUp, ChevronDown, Edit2, Trash2, Save, Database, ListFilter \n} from 'lucide-react';\nimport { MappingItem } from '../types';\nimport { CORE_SCHEMA } from '../constants';\n\ninterface AlignmentUnitProps {\n    mapping: MappingItem;\n    columns: string[];\n    index: number;\n    isFirst: boolean;\n    isLast: boolean;\n    onUpdate: (v: string) => void;\n    onDelete: () => void;\n    onMove: (d: 'up' | 'down') => void;\n    onEditLabel: (l: string) => void;\n}\n\nexport function AlignmentUnit({ \n    mapping, columns, index, isFirst, isLast, \n    onUpdate, onDelete, onMove, onEditLabel \n}: AlignmentUnitProps) {\n    const Icon = (CORE_SCHEMA.find(s => s.field === mapping.systemField)?.icon) || Database;\n    const [isEditing, setIsEditing] = useState(false);\n    const [tempLabel, setTempLabel] = useState(mapping.label);\n\n    const handleSave = () => {\n        onEditLabel(tempLabel);\n        setIsEditing(false);\n    };\n\n    return (\n        <div className=\"space-y-4 p-8 rounded-[2.5rem] bg-slate-900/60 border border-white/5 hover:border-indigo-500/40 transition-all group shadow-inner relative overflow-hidden\">\n            <div className=\"absolute inset-0 bg-indigo-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\" />\n            \n            <div className=\"flex justify-between items-center relative z-10 mb-2\">\n                <div className=\"flex items-center gap-2\">\n                    <button \n                         onClick={() => onMove('up')} \n                         disabled={isFirst}\n                         className=\"p-1.5 hover:bg-white/10 rounded-lg text-slate-500 hover:text-white transition-colors disabled:opacity-20 disabled:cursor-not-allowed\"\n                         title=\"Move Up\"\n                    >\n                        <ChevronUp className=\"w-4 h-4\" />\n                    </button>\n                    <button \n                         onClick={() => onMove('down')} \n                         disabled={isLast}\n                         className=\"p-1.5 hover:bg-white/10 rounded-lg text-slate-500 hover:text-white transition-colors disabled:opacity-20 disabled:cursor-not-allowed\"\n                         title=\"Move Down\"\n                    >\n                        <ChevronDown className=\"w-4 h-4\" />\n                    </button>\n                </div>\n                \n                <div className=\"flex items-center gap-2\">\n                    <button onClick={() => setIsEditing(!isEditing)} title=\"Edit Label\" className=\"p-2 hover:bg-indigo-500/10 hover:text-indigo-400 text-slate-600 transition-all rounded-xl\">\n                        <Edit2 className=\"w-3.5 h-3.5\" />\n                    </button>\n                    <button onClick={onDelete} title=\"Delete Field\" className=\"p-2 hover:bg-rose-500/10 hover:text-rose-500 text-slate-700 transition-all rounded-xl group/del\">\n                        <Trash2 className=\"w-3.5 h-3.5 group-hover/del:fill-current\" />\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"flex justify-between items-center relative z-10\">\n                <div className=\"flex items-center gap-4 flex-1\">\n                    <div className=\"w-10 h-10 bg-slate-950 rounded-xl flex items-center justify-center text-indigo-400 group-hover:text-white transition-colors border border-white/5 group-hover:bg-indigo-600 group-hover:shadow-lg group-hover:border-transparent shrink-0\">\n                        <Icon className=\"w-5 h-5\" />\n                    </div>\n                    \n                    {isEditing ? (\n                        <div className=\"flex items-center gap-2 flex-1 mr-4\">\n                            <input \n                                value={tempLabel}\n                                onChange={(e) => setTempLabel(e.target.value)}\n                                title=\"Edit Schematic Label\"\n                                placeholder=\"Enter label...\"\n                                className=\"bg-slate-950/50 border border-indigo-500/30 rounded-lg px-3 py-1 text-[11px] font-black uppercase tracking-wider text-white w-full focus:outline-none focus:border-indigo-500\"\n                                autoFocus\n                                onKeyDown={(e) => { if (e.key === 'Enter') handleSave(); }}\n                            />\n                            <button onClick={handleSave} title=\"Save Label\" className=\"p-1.5 bg-emerald-500/20 text-emerald-400 rounded-lg hover:bg-emerald-500 hover:text-white transition-all\">\n                                <Save className=\"w-3.5 h-3.5\" />\n                            </button>\n                        </div>\n                    ) : (\n                        <label className=\"text-[11px] font-black text-slate-400 group-hover:text-white transition-colors uppercase tracking-[0.3em] italic pr-2 truncate\">\n                            {mapping.label}{mapping.required && <span className=\"text-rose-500 ml-1.5 font-bold italic\">*</span>}\n                        </label>\n                    )}\n                </div>\n            </div>\n            <div className=\"relative z-10\">\n                <select \n                    value={mapping.fileColumn}\n                    onChange={(e) => onUpdate(e.target.value)}\n                    title={`Align ${mapping.label}`}\n                    className={`w-full bg-slate-950/80 border rounded-[1.5rem] px-6 py-4.5 text-xs font-black italic outline-none transition-all appearance-none cursor-pointer tracking-wider ${\n                        mapping.fileColumn ? 'border-indigo-500/50 text-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.05)]' : 'border-white/10 text-slate-600 hover:border-white/20'\n                    }`}\n                >\n                    <option value=\"\">-- UNMATCHED_REF --</option>\n                    {columns.map(col => (\n                        <option key={col} value={col}>{col.toUpperCase()}</option>\n                    ))}\n                </select>\n                <div className=\"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-slate-700 group-hover:text-indigo-500 transition-colors\">\n                    <ListFilter className=\"w-4 h-4\" />\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/components/InspectStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MappingItem' is defined but never used.","line":7,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MappingItem"},"fix":{"range":[243,256],"text":""},"desc":"Remove unused variable \"MappingItem\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":191,"column":144,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents &apos;Black Box' math errors."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents &lsquo;Black Box' math errors."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents &#39;Black Box' math errors."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents &rsquo;Black Box' math errors."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":191,"column":154,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents 'Black Box&apos; math errors."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents 'Black Box&lsquo; math errors."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents 'Black Box&#39; math errors."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13965,14011],"text":"Manual entry prevents 'Black Box&rsquo; math errors."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { motion } from 'framer-motion';\nimport { \n    Box, FileText, Loader2, CheckCircle, Microscope, Plus, \n    Columns, Fingerprint, RefreshCw, Landmark, Activity, Search \n} from 'lucide-react';\nimport { FileEntry, MappingItem } from '../types';\nimport { SkeletonUploadProcessing } from '@/components/skeletons/SkeletonComponents';\nimport { AlignmentUnit } from './AlignmentUnit';\n\ninterface InspectStepProps {\n    files: FileEntry[];\n    selectedFileId: string | null;\n    setSelectedFileId: (id: string | null) => void;\n    isConsolidating: boolean;\n    handleConsolidation: () => void;\n    selectedFile: FileEntry | undefined;\n    addCustomMapping: (id: string) => void;\n    updateMapping: (fileId: string, field: string, col: string) => void;\n    removeMapping: (fileId: string, field: string) => void;\n    moveMapping: (fileId: string, idx: number, dir: 'up' | 'down') => void;\n    updateSchemaLabel: (fileId: string, field: string, lbl: string) => void;\n    resetSchema: (fileId: string) => void;\n    verifyIntegrity: (hash: string, fileName: string) => void;\n    beginningBalance: string;\n    setBeginningBalance: (v: string) => void;\n    endingBalance: string;\n    setEndingBalance: (v: string) => void;\n}\n\nexport function InspectStep({\n    files, selectedFileId, setSelectedFileId, isConsolidating, handleConsolidation,\n    selectedFile, addCustomMapping, updateMapping, removeMapping, moveMapping,\n    updateSchemaLabel, resetSchema, verifyIntegrity, beginningBalance, setBeginningBalance,\n    endingBalance, setEndingBalance\n}: InspectStepProps) {\n    return (\n        <motion.div \n            initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\n            className=\"flex-1 flex overflow-hidden\"\n        >\n            <aside className=\"w-80 border-r border-white/5 flex flex-col bg-slate-950/40 overflow-hidden shrink-0\">\n                <div className=\"p-8 border-b border-white/5 flex items-center justify-between bg-slate-900/20\">\n                    <h3 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest flex items-center gap-3\">\n                        <Box className=\"w-3.5 h-3.5\" /> Payload Archive\n                    </h3>\n                </div>\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-3\">\n                    {files.map(f => (\n                        <button \n                            key={f.id}\n                            onClick={() => setSelectedFileId(f.id)}\n                            className={`w-full p-5 rounded-[2rem] flex items-center gap-5 transition-all group border ${\n                                selectedFileId === f.id ? 'bg-indigo-600 border-indigo-500 shadow-2xl shadow-indigo-900/40 text-white scale-[1.02]' : 'hover:bg-white/5 text-slate-400 border-transparent hover:border-white/5'\n                            }`}\n                        >\n                            <div className={`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-lg ${\n                                selectedFileId === f.id ? 'bg-white/20' : 'bg-slate-900/80 shadow-black/20'\n                            }`}>\n                                <FileText className=\"w-6 h-6\" />\n                            </div>\n                            <div className=\"min-w-0 flex-1 text-left\">\n                                <p className=\"text-xs font-black truncate uppercase tracking-tight leading-none mb-1.5\">{f.file.name}</p>\n                                <div className=\"flex items-center gap-2\">\n                                    {f.status === 'review' ? (\n                                        <div className=\"flex items-center gap-1.5\">\n                                            <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981]\" />\n                                            <span className=\"text-[9px] font-black uppercase tracking-widest text-emerald-400/80\">Aligned</span>\n                                        </div>\n                                    ) : (\n                                        <div className=\"flex items-center gap-1.5\">\n                                            <Loader2 className=\"w-3 h-3 animate-spin text-indigo-400\" />\n                                            <span className=\"text-[9px] font-black uppercase tracking-widest opacity-50\">Syncing</span>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </button>\n                    ))}\n                </div>\n                <div className=\"p-8 border-t border-white/5 bg-slate-900/40 backdrop-blur-md\">\n                    <button \n                        onClick={handleConsolidation}\n                        disabled={isConsolidating}\n                        className=\"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-black text-xs uppercase tracking-widest py-6 rounded-[2rem] shadow-2xl shadow-emerald-900/20 transition-all flex items-center justify-center gap-4 active:scale-95 border border-emerald-500/20 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                        {isConsolidating ? (\n                             <><Loader2 className=\"w-5 h-5 animate-spin\" /> Sealing Vault...</>\n                        ) : (\n                             <>Vault Consensus <CheckCircle className=\"w-5 h-5\" /></>\n                        )}\n                    </button>\n                </div>\n            </aside>\n\n            <div className=\"flex-1 flex flex-col overflow-hidden relative\">\n                {selectedFile ? (\n                    selectedFile.status === 'analyzing' ? (\n                        <SkeletonUploadProcessing />\n                    ) : (\n                        <div className=\"flex-1 flex flex-col overflow-hidden\">\n                        <div className=\"h-24 px-10 border-b border-white/5 flex items-center justify-between shrink-0 bg-slate-900/30 backdrop-blur-xl z-20\">\n                            <div className=\"flex items-center gap-6\">\n                                <div className=\"w-12 h-12 bg-indigo-600/10 border border-indigo-500/20 rounded-2xl flex items-center justify-center\">\n                                    <Microscope className=\"w-6 h-6 text-indigo-400\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-xl font-black text-white tracking-tighter uppercase italic flex items-center gap-4\">\n                                        Forensic Lens: {selectedFile.file.name}\n                                        <div className=\"flex items-center gap-2\">\n                                            <span className=\"text-[10px] bg-slate-800/80 text-slate-500 px-3 py-1 rounded-xl border border-white/10 font-mono font-bold\">{selectedFile.hash?.slice(0, 15)}...</span>\n                                            <button \n                                                onClick={() => selectedFile.hash && verifyIntegrity(selectedFile.hash, selectedFile.file.name)}\n                                                className=\"px-3 py-1 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 rounded-xl border border-emerald-500/20 text-[9px] font-black uppercase tracking-widest transition-all\"\n                                            >\n                                                Verify Integrity\n                                            </button>\n                                        </div>\n                                    </h3>\n                                </div>\n                            </div>\n                            <div className=\"flex items-center gap-4\">\n                                <button \n                                    onClick={() => addCustomMapping(selectedFile.id)}\n                                    className=\"px-6 py-3 bg-slate-800/50 hover:bg-slate-700 rounded-[1.2rem] border border-white/10 text-[10px] font-black uppercase tracking-[0.1em] transition-all flex items-center gap-3 active:scale-95\"\n                                >\n                                    <Plus className=\"w-4 h-4 text-emerald-500\" /> Add Forensic Field\n                                </button>\n                                <div className=\"w-px h-8 bg-white/5 mx-2\" />\n                                <div className=\"flex -space-x-3\">\n                                    {[1,2,3].map(i => (\n                                        <div key={i} className=\"w-10 h-10 rounded-xl bg-slate-800 border-2 border-slate-950 flex items-center justify-center text-[10px] font-bold text-slate-500 uppercase\">{i}</div>\n                                    ))}\n                                    <div className=\"w-10 h-10 rounded-xl bg-indigo-600 border-2 border-slate-950 flex items-center justify-center text-[10px] font-bold text-white shadow-xl shadow-indigo-900/40\">+4</div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"flex-1 flex overflow-hidden\">\n                            <div className=\"w-[450px] border-r border-white/5 flex flex-col bg-black/20 overflow-hidden relative shadow-2xl\">\n                                <div className=\"p-8 bg-slate-950/40 border-b border-white/5 flex items-center justify-between\">\n                                    <h4 className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-3\">\n                                        <Columns className=\"w-4 h-4 text-indigo-500\" /> Schema Blueprint\n                                    </h4>\n                                    <div className=\"flex items-center gap-2\">\n                                        <span className=\"text-[9px] font-black text-emerald-500 uppercase tracking-widest px-2 py-0.5 bg-emerald-500/10 rounded border border-emerald-500/20\">Auto-Matched</span>\n                                    </div>\n                                </div>\n                                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-8 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]\">\n                                    {selectedFile.mappings.map((m, idx) => (\n                                        <AlignmentUnit \n                                            key={m.systemField} \n                                            mapping={m} \n                                            index={idx}\n                                            isFirst={idx === 0}\n                                            isLast={idx === selectedFile.mappings.length - 1}\n                                            columns={selectedFile.metadata.allColumns}\n                                            onUpdate={(val) => updateMapping(selectedFile.id, m.systemField, val)}\n                                            onDelete={() => removeMapping(selectedFile.id, m.systemField)}\n                                            onMove={(dir) => moveMapping(selectedFile.id, idx, dir)}\n                                            onEditLabel={(lbl) => updateSchemaLabel(selectedFile.id, m.systemField, lbl)}\n                                        />\n                                    ))}\n                                </div>\n                                <div className=\"p-8 bg-slate-900/40 border-t border-white/5 backdrop-blur-xl flex justify-between items-center\">\n                                    <div className=\"flex items-start gap-4 p-5 bg-indigo-500/[0.03] border-l-4 border-indigo-600 rounded-[1.5rem] shadow-inner flex-1 mr-4\">\n                                        <Fingerprint className=\"w-6 h-6 text-indigo-400 shrink-0\" />\n                                        <div className=\"space-y-1\">\n                                            <p className=\"text-[11px] font-black text-white uppercase tracking-tighter italic leading-none\">Integrity Calibration</p>\n                                            <p className=\"text-[10px] text-slate-500 leading-relaxed font-bold mt-1.5 underline decoration-slate-800 decoration-2\">No structural parity warnings in header stream.</p>\n                                        </div>\n                                    </div>\n                                    <button \n                                        onClick={() => resetSchema(selectedFile.id)}\n                                        title=\"Reset to Default Schema\"\n                                        className=\"p-3 bg-slate-800/50 hover:bg-slate-700 text-slate-400 hover:text-white rounded-xl border border-white/10 transition-all active:scale-95\"\n                                    >\n                                        <RefreshCw className=\"w-4 h-4\" />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 p-10 overflow-hidden flex flex-col gap-8 bg-[#020617]\">\n                                <div className=\"bg-amber-500/5 border border-amber-500/10 p-8 rounded-[2rem] flex items-center justify-between gap-10\">\n                                    <div className=\"flex items-center gap-6\">\n                                        <div className=\"w-12 h-12 bg-amber-500/10 rounded-2xl flex items-center justify-center border border-amber-500/20\">\n                                            <Landmark className=\"w-6 h-6 text-amber-500\" />\n                                        </div>\n                                        <div className=\"space-y-1\">\n                                            <h4 className=\"text-xs font-black text-amber-500 uppercase tracking-widest\">Balance Integrity Guard</h4>\n                                            <p className=\"text-[10px] text-slate-500 font-bold uppercase tracking-tight\">Manual entry prevents 'Black Box' math errors.</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex gap-4\">\n                                        <div className=\"space-y-1.5\">\n                                            <label className=\"text-[8px] font-black text-slate-600 uppercase tracking-widest block ml-2\">Statement Start</label>\n                                            <input \n                                                type=\"text\" \n                                                placeholder=\"0.00\" \n                                                value={beginningBalance}\n                                                onChange={(e) => setBeginningBalance(e.target.value)}\n                                                className=\"bg-slate-900 border border-white/5 rounded-xl px-4 py-2 text-xs font-mono text-white w-32 focus:border-amber-500/50 outline-none transition-all\" \n                                            />\n                                        </div>\n                                        <div className=\"space-y-1.5\">\n                                            <label className=\"text-[8px] font-black text-slate-600 uppercase tracking-widest block ml-2\">Statement End</label>\n                                            <input \n                                                type=\"text\" \n                                                placeholder=\"0.00\" \n                                                value={endingBalance}\n                                                onChange={(e) => setEndingBalance(e.target.value)}\n                                                className=\"bg-slate-900 border border-white/5 rounded-xl px-4 py-2 text-xs font-mono text-white w-32 focus:border-amber-500/50 outline-none transition-all\" \n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"flex items-center justify-between bg-slate-900/20 p-6 rounded-[2rem] border border-white/5 shadow-inner\">\n                                    <div className=\"flex items-center gap-5\">\n                                        <div className=\"p-3 bg-emerald-500/10 rounded-xl relative\">\n                                            <div className=\"absolute inset-0 bg-emerald-500 animate-ping opacity-20 rounded-xl\" />\n                                            <Activity className=\"w-6 h-6 text-emerald-500\" />\n                                        </div>\n                                        <div>\n                                            <h4 className=\"text-sm font-black text-white italic tracking-[0.2em] uppercase leading-none mb-2\">RAW_STREAM_INGRESS</h4>\n                                            <p className=\"text-[10px] font-black text-slate-600 uppercase tracking-widest flex items-center gap-2 italic\">\n                                                <Search className=\"w-3 h-3\" /> Sampling Top 50 Nodes from Packet\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex gap-10\">\n                                        <FlowMetric label=\"Total Nodes\" val=\"144,201\" />\n                                        <div className=\"w-px h-10 bg-white/5\" />\n                                        <FlowMetric label=\"Purity\" val=\"99.2%\" success />\n                                        <div className=\"w-px h-10 bg-white/5\" />\n                                        <FlowMetric label=\"Consensus\" val=\"STABLE\" />\n                                    </div>\n                                </div>\n\n                                <div className=\"flex-1 border border-white/5 rounded-[3rem] bg-black/40 overflow-hidden shadow-2xl relative group\">\n                                     <div className=\"absolute inset-0 overflow-auto custom-scrollbar no-scrollbar scroll-smooth\">\n                                        <table className=\"w-full text-left border-collapse border-separate border-spacing-0 min-w-max\">\n                                            <thead className=\"sticky top-0 z-30\">\n                                                <tr className=\"bg-slate-900/90 backdrop-blur-md\">\n                                                    <th className=\"px-8 py-6 text-[10px] font-black text-indigo-500 uppercase tracking-[0.3em] border-b border-r border-white/10 sticky left-0 bg-slate-950/80 z-40 italic\">RID_ID</th>\n                                                    <th className=\"px-8 py-6 text-[10px] font-black text-emerald-500 uppercase tracking-[0.3em] border-b border-r border-white/10 italic\">COPILOT_INSIGHT</th>\n                                                    {selectedFile.metadata.allColumns.map(col => (\n                                                        <th key={col} className=\"px-10 py-6 text-[10px] font-black text-white uppercase border-b border-r border-white/10 last:border-r-0 italic underline decoration-transparent group-hover:decoration-indigo-500/30 transition-all tracking-widest shadow-inner\">\n                                                            {col.replace(/_/g, ' ')}\n                                                        </th>\n                                                    ))}\n                                                </tr>\n                                            </thead>\n                                            <tbody className=\"divide-y divide-white/[0.03]\">\n                                                {selectedFile.previewData?.map((row, i) => (\n                                                    <tr key={i} className=\"hover:bg-indigo-600/5 transition-all group/row cursor-crosshair\">\n                                                        <td className=\"px-8 py-5 text-[10px] font-mono text-slate-700 border-r border-white/[0.02] bg-[#020617] group-hover/row:bg-slate-900 group-hover/row:text-emerald-500 transition-colors sticky left-0 z-20 font-black shadow-xl\">{i + 1}</td>\n                                                        <td className=\"px-8 py-5 text-[10px] font-bold text-slate-500 border-r border-white/[0.05] italic group-hover/row:text-emerald-400 max-w-[200px] truncate\">\n                                                            {selectedFile.validationInsights?.[i]?.primary || \"Awaiting Analysis...\"}\n                                                        </td>\n                                                        {selectedFile.metadata.allColumns.map(col => (\n                                                            <td key={col} className=\"px-10 py-5 text-[11px] font-bold text-slate-500 group-hover/row:text-slate-100 border-r border-white/[0.02] last:border-0 transition-colors uppercase tracking-tight\">\n                                                                {String(row[col] || \"‚Äî\")}\n                                                            </td>\n                                                        ))}\n                                                    </tr>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                     </div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n                    )\n                ) : (\n                    <div className=\"flex-1 flex flex-col items-center justify-center p-20 text-center relative overflow-hidden\">\n                        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(79,70,229,0.05)_0%,transparent_70%)]\" />\n                        <div className=\"w-64 h-64 border border-indigo-600/10 rounded-[4rem] flex items-center justify-center opacity-40 mb-12 relative\">\n                             <div className=\"absolute inset-4 border border-dashed border-indigo-600/20 rounded-[3rem] animate-pulse\" />\n                             <Search className=\"w-16 h-16 text-slate-700\" />\n                        </div>\n                        <h3 className=\"text-3xl font-black text-white italic uppercase tracking-tighter mb-4 relative z-10\">Entity Neutralized</h3>\n                        <p className=\"text-slate-600 text-[11px] max-w-xs mx-auto uppercase font-black tracking-[0.4em] leading-loose relative z-10 italic\">Select a staked forensic block from the archive to begin reconstruction protocols.</p>\n                    </div>\n                )}\n            </div>\n        </motion.div>\n    );\n}\n\nfunction FlowMetric({ label, val, success }: { label: string, val: string, success?: boolean }) {\n    return (\n        <div className=\"flex flex-col items-center gap-2\">\n            <span className=\"text-[9px] font-black text-slate-600 uppercase tracking-widest leading-none\">{label}</span>\n            <span className={`text-xs font-black italic tracking-tighter leading-none ${success ? 'text-emerald-500 shadow-[0_0_10px_#10b981]' : 'text-white'}`}>{val}</span>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/components/IntegrateStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[392,395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[392,395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { motion } from 'framer-motion';\nimport { \n    CheckCircle, ShieldCheck, AlertTriangle, DatabaseZap, \n    Terminal, Activity, Calculator, Landmark, Plus, ChevronRight \n} from 'lucide-react';\nimport Link from 'next/link';\nimport { FileEntry, DiagnosticMetrics } from '../types';\n\ninterface IntegrateStepProps {\n    files: FileEntry[];\n    balanceCheckResult: any;\n    consolidationResults: Record<string, DiagnosticMetrics>;\n    handleNotarize: (id: string) => void;\n    isNotarizing: boolean;\n    notarizedBatches: Record<string, { tx: string, time: string }>;\n    resetAll: () => void;\n}\n\nexport function IntegrateStep({\n    files, balanceCheckResult, consolidationResults, handleNotarize,\n    isNotarizing, notarizedBatches, resetAll\n}: IntegrateStepProps) {\n    return (\n        <motion.div \n            key=\"step-integrate\" \n            initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0, scale: 1.05 }}\n            className=\"flex-1 flex flex-col items-center justify-center p-20 relative overflow-hidden overflow-y-auto custom-scrollbar\"\n        >\n            <div className=\"absolute inset-0 bg-[#020617]\" />\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-emerald-600/10 blur-[150px] rounded-full\" />\n            \n            <div className=\"relative mb-12\">\n                <motion.div \n                    initial={{ scale: 0, rotate: -90 }} animate={{ scale: 1, rotate: 0 }} transition={{ type: 'spring', damping: 10, stiffness: 100 }}\n                    className=\"bg-emerald-600 w-32 h-32 rounded-[3rem] flex items-center justify-center shadow-[0_20px_60px_rgba(16,185,129,0.4)] border-2 border-white/20 relative z-20\"\n                >\n                    <CheckCircle className=\"w-16 h-16 text-white\" />\n                </motion.div>\n                <div className=\"absolute -inset-4 border border-emerald-500/20 rounded-[4rem] animate-ping opacity-30 pointer-events-none\" />\n            </div>\n            \n            <h2 className=\"text-6xl font-black text-white italic tracking-tighter uppercase mb-2 leading-none tracking-[0.4em] relative z-10\">Consensus Sealed</h2>\n\n            {balanceCheckResult && (\n                <div className={`mb-10 px-8 py-4 rounded-2xl border flex items-center gap-6 relative z-10 animate-in slide-in-from-top-4 ${balanceCheckResult.matched ? 'bg-emerald-500/5 border-emerald-500/20 text-emerald-400' : 'bg-rose-500/5 border-rose-500/20 text-rose-400'}`}>\n                    {balanceCheckResult.matched ? <ShieldCheck className=\"w-6 h-6\" /> : <AlertTriangle className=\"w-6 h-6 animate-bounce\" />}\n                    <div className=\"space-y-0.5\">\n                        <p className=\"text-[10px] font-black uppercase tracking-widest leading-none mb-1\">Balance Integrity: {balanceCheckResult.matched ? 'Verified' : 'Failed'}</p>\n                        <p className=\"text-xs font-bold leading-none\">{balanceCheckResult.message}</p>\n                    </div>\n                </div>\n            )}\n\n            <p className=\"text-slate-500 font-bold uppercase tracking-[0.5em] mb-16 max-w-2xl text-center leading-relaxed relative z-10 text-[10px]\">\n                {Object.keys(consolidationResults).length} forensic packets verified, normalized, and integrated into the system data lake.\n            </p>\n            \n            <div className=\"grid grid-cols-1 gap-12 mb-20 relative z-10 w-full max-w-4xl\">\n                {Object.entries(consolidationResults).map(([fileId, metrics]) => (\n                    <div key={fileId} className=\"bg-slate-900/40 border border-white/5 rounded-[2.5rem] p-10 flex flex-col gap-10 backdrop-blur-xl\">\n                        <div className=\"flex items-center justify-between border-b border-white/5 pb-8\">\n                            <div className=\"flex items-center gap-5\">\n                                <div className=\"p-3 bg-indigo-500/10 rounded-2xl border border-indigo-500/20\">\n                                    <DatabaseZap className=\"w-6 h-6 text-indigo-400\" />\n                                </div>\n                                <div>\n                                    <h4 className=\"text-sm font-black text-white uppercase tracking-tight\">{files.find(f => f.id === fileId)?.file.name}</h4>\n                                    <div className=\"flex items-center gap-4 mt-1\">\n                                        <span className=\"text-[9px] font-bold text-slate-500 uppercase tracking-widest\">{metrics.ingestion_type} Stream</span>\n                                        {metrics.ingestionId && (\n                                            <button \n                                                onClick={() => handleNotarize(metrics.ingestionId!)}\n                                                disabled={isNotarizing || !!notarizedBatches[metrics.ingestionId!]}\n                                                className={`px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all border ${\n                                                    notarizedBatches[metrics.ingestionId!] \n                                                        ? 'bg-emerald-500/10 border-emerald-500/30 text-emerald-400' \n                                                        : 'bg-indigo-600/20 border-indigo-500/40 text-indigo-400 hover:bg-indigo-600 hover:text-white'\n                                                }`}\n                                            >\n                                                {isNotarizing ? 'Anchoring...' : notarizedBatches[metrics.ingestionId!] ? 'Anchored' : 'Notarize Asset'}\n                                            </button>\n                                        )}\n                                    </div>\n                                    {notarizedBatches[metrics.ingestionId!] && (\n                                        <div className=\"mt-2 text-[8px] font-mono text-emerald-500/60 uppercase tracking-tighter truncate max-w-[200px]\">\n                                            Tx: {notarizedBatches[metrics.ingestionId!].tx}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"flex gap-4\">\n                                <div className=\"text-right\">\n                                    <div className=\"text-[8px] font-black text-slate-600 uppercase tracking-widest mb-1\">Processed</div>\n                                    <div className=\"text-lg font-black text-emerald-500 font-mono leading-none\">{metrics.state_dashboard?.processed || 0}</div>\n                                </div>\n                                <div className=\"w-px h-8 bg-white/5 mx-2\" />\n                                <div className=\"text-right\">\n                                    <div className=\"text-[8px] font-black text-slate-600 uppercase tracking-widest mb-1\">Pending</div>\n                                    <div className=\"text-lg font-black text-amber-500 font-mono leading-none\">{metrics.state_dashboard?.pending || 0}</div>\n                                </div>\n                                <div className=\"w-px h-8 bg-white/5 mx-2\" />\n                                <div className=\"text-right\">\n                                    <div className=\"text-[8px] font-black text-slate-600 uppercase tracking-widest mb-1\">Ignored</div>\n                                    <div className=\"text-lg font-black text-slate-500 font-mono leading-none\">{metrics.state_dashboard?.ignored || 0}</div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-10\">\n                            <div className=\"space-y-6\">\n                                <h5 className=\"text-[10px] font-black text-indigo-400 uppercase tracking-[0.3em] flex items-center gap-3 italic\">\n                                    <Terminal className=\"w-4 h-4\" /> Copilot Inner Monologue\n                                </h5>\n                                <div className=\"p-8 bg-black/40 rounded-[2rem] border border-white/5 space-y-6 shadow-inner\">\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"w-8 h-8 rounded-full bg-indigo-600/20 border border-indigo-500/20 flex items-center justify-center text-[10px] font-black text-indigo-400 shrink-0\">P</div>\n                                        <div>\n                                            <p className=\"text-[10px] font-black text-white uppercase tracking-tight mb-1\">Primary Theory</p>\n                                            <p className=\"text-[11px] text-slate-400 leading-relaxed italic line-clamp-2\">&quot;Verified inflow signatures against established Project Funding tranches using temporal amount parity.&quot;</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex items-start gap-4\">\n                                        <div className=\"w-8 h-8 rounded-full bg-amber-600/20 border border-amber-500/20 flex items-center justify-center text-[10px] font-black text-amber-400 shrink-0\">A</div>\n                                        <div>\n                                            <p className=\"text-[10px] font-black text-white uppercase tracking-tight mb-1\">Alternative Theory</p>\n                                            <p className=\"text-[11px] text-slate-500 leading-relaxed italic line-clamp-2\">&quot;Partial Reconciliation: 12% of outliers flagged for manual oversight due to metadata variance.&quot;</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div className=\"space-y-6 flex flex-col\">\n                                <h5 className=\"text-[10px] font-black text-emerald-400 uppercase tracking-[0.3em] flex items-center gap-3 italic\">\n                                    <Activity className=\"w-4 h-4\" /> Reconciliation Rigor\n                                </h5>\n                                <div className=\"grid grid-cols-2 gap-4 flex-1\">\n                                     <div className=\"bg-emerald-500/5 border border-emerald-500/20 rounded-3xl p-6 flex flex-col justify-between shadow-lg\">\n                                          <ShieldCheck className=\"w-6 h-6 text-emerald-500\" />\n                                          <div>\n                                            <div className=\"text-3xl font-black text-white italic tracking-tighter mb-1\">94%</div>\n                                            <p className=\"text-[8px] text-emerald-500/70 font-black uppercase tracking-widest\">Automation Trust</p>\n                                          </div>\n                                     </div>\n                                     <div className=\"bg-rose-500/5 border border-rose-500/20 rounded-3xl p-6 flex flex-col justify-between shadow-lg\">\n                                          <AlertTriangle className=\"w-6 h-6 text-rose-500\" />\n                                          <div>\n                                            <div className=\"text-3xl font-black text-white italic tracking-tighter mb-1\">{Object.values(metrics.anomalies || {}).reduce((a, b) => a + b, 0)}</div>\n                                            <p className=\"text-[8px] text-rose-500/70 font-black uppercase tracking-widest\">Anomalies Isolated</p>\n                                          </div>\n                                     </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            \n            <div className=\"flex flex-col items-center gap-8 relative z-10 w-full max-w-4xl\">\n                <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] mb-4 flex items-center gap-3 italic\">\n                    <div className=\"w-12 h-px bg-slate-800\" /> Protocol Escalation <div className=\"w-12 h-px bg-slate-800\" />\n                </h4>\n                \n                <div className=\"grid grid-cols-3 gap-6 w-full\">\n                    <Link href=\"/reconciliation\" className=\"flex-1\">\n                        <button className=\"w-full p-8 rounded-[2.5rem] bg-indigo-600/10 border border-indigo-500/30 hover:bg-indigo-600 hover:text-white transition-all group flex flex-col items-center text-center gap-4 shadow-xl shadow-indigo-900/10 active:scale-95\">\n                            <div className=\"w-14 h-14 bg-slate-950 rounded-2xl flex items-center justify-center group-hover:bg-white/20 transition-colors\">\n                                <Activity className=\"w-7 h-7 text-indigo-400 group-hover:text-white\" />\n                            </div>\n                            <div>\n                                <span className=\"text-[11px] font-black uppercase tracking-widest block mb-1 leading-none\">Circuit Matcher</span>\n                                <span className=\"text-[9px] text-slate-500 group-hover:text-indigo-100 font-bold uppercase tracking-tight\">Handshake Internal Ledger</span>\n                            </div>\n                        </button>\n                    </Link>\n                    \n                    <Link href=\"/forensic/analytics\" className=\"flex-1\">\n                        <button className=\"w-full p-8 rounded-[2.5rem] bg-emerald-600/5 border border-emerald-500/20 hover:bg-emerald-600 hover:text-white transition-all group flex flex-col items-center text-center gap-4 shadow-xl shadow-emerald-900/10 active:scale-95\">\n                            <div className=\"w-14 h-14 bg-slate-950 rounded-2xl flex items-center justify-center group-hover:bg-white/20 transition-colors\">\n                                <Calculator className=\"w-7 h-7 text-emerald-400 group-hover:text-white\" />\n                            </div>\n                            <div>\n                                <span className=\"text-[11px] font-black uppercase tracking-widest block mb-1 leading-none\">RAB Divergence</span>\n                                <span className=\"text-[9px] text-slate-500 group-hover:text-emerald-100 font-bold uppercase tracking-tight\">Trace Budget Leakage</span>\n                            </div>\n                        </button>\n                    </Link>\n\n                    <Link href=\"/forensic/nexus\" className=\"flex-1\">\n                        <button className=\"w-full p-8 rounded-[2.5rem] bg-amber-600/5 border border-amber-500/20 hover:bg-amber-600 hover:text-white transition-all group flex flex-col items-center text-center gap-4 shadow-xl shadow-amber-900/10 active:scale-95\">\n                            <div className=\"w-14 h-14 bg-slate-950 rounded-2xl flex items-center justify-center group-hover:bg-white/20 transition-colors\">\n                                <Landmark className=\"w-7 h-7 text-amber-400 group-hover:text-white\" />\n                            </div>\n                            <div>\n                                <span className=\"text-[11px] font-black uppercase tracking-widest block mb-1 leading-none\">Nexus Linkage</span>\n                                <span className=\"text-[9px] text-slate-500 group-hover:text-amber-100 font-bold uppercase tracking-tight\">Map Suspect Nodes</span>\n                            </div>\n                        </button>\n                    </Link>\n                </div>\n            </div>\n            \n            <div className=\"flex gap-8 mt-16 relative z-10\">\n                <button \n                    onClick={resetAll}\n                    className=\"px-12 py-6 bg-slate-900/50 hover:bg-slate-800 text-white font-black text-[10px] uppercase tracking-[0.2em] rounded-[1.8rem] transition-all border border-white/10 shadow-xl backdrop-blur-xl flex items-center gap-3 active:scale-95\"\n                >\n                    <Plus className=\"w-4 h-4\" /> Ingest New Dataset\n                </button>\n                <Link href=\"/\" className=\"px-12 py-6 bg-slate-950 hover:bg-indigo-600 text-white font-black text-[10px] uppercase tracking-[0.2em] rounded-[1.8rem] transition-all shadow-2xl shadow-indigo-900/40 active:scale-95 border border-indigo-400/20 flex items-center justify-center gap-3 group\">\n                    <span className=\"group-hover:translate-x-[-2px] transition-transform\">Forensic Command</span> <ChevronRight className=\"w-4 h-4 group-hover:translate-x-2 transition-transform\" />\n                </Link>\n            </div>\n        </motion.div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RefreshCw' is defined but never used.","line":5,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":53,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RefreshCw"},"fix":{"range":[187,198],"text":""},"desc":"Remove unused variable \"RefreshCw\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setBalanceCheckResult' is assigned a value but never used.","line":31,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":51},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6988,6991],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6988,6991],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":327,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":327,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14581,14584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14581,14584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { AnimatePresence } from 'framer-motion';\nimport { DatabaseZap, Settings2, Terminal, RefreshCw, X, ArrowRight, Layers } from 'lucide-react';\nimport Papa from 'papaparse';\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport StepToggle from './StepToggle';\nimport { API_URL } from '@/utils/constants';\n\nimport { FileEntry, IngestionHistoryItem, Step, DiagnosticMetrics } from './types';\nimport { CORE_SCHEMA } from './constants';\nimport { AcquireStep } from './components/AcquireStep';\nimport { InspectStep } from './components/InspectStep';\nimport { IntegrateStep } from './components/IntegrateStep';\nimport { IngestionService } from '@/services/IngestionService';\n\nexport default function IngestionPage() {\n  const { activeProjectId } = useProject();\n  const [files, setFiles] = useState<FileEntry[]>([]);\n  const [selectedFileId, setSelectedFileId] = useState<string | null>(null);\n  const [activeStep, setActiveStep] = useState<Step>('ACQUIRE');\n  const [isDragging, setIsDragging] = useState(false);\n  const [tab, setTab] = useState<'NEW' | 'HISTORY'>('NEW');\n  const [logs, setLogs] = useState<{msg: string, time: string, type: 'info'|'success'|'warn'}[]>([]);\n  \n  const [beginningBalance, setBeginningBalance] = useState<string>('');\n  const [endingBalance, setEndingBalance] = useState<string>('');\n  const [balanceCheckResult, setBalanceCheckResult] = useState<{ matched: boolean; message: string; [key: string]: unknown } | null>(null);\n\n  const [notarizedBatches, setNotarizedBatches] = useState<Record<string, { tx: string, time: string }>>({});\n  const [isNotarizing, setIsNotarizing] = useState(false);\n  const [consolidationResults, setConsolidationResults] = useState<Record<string, DiagnosticMetrics>>({});\n  const [isConsolidating, setIsConsolidating] = useState(false);\n  \n  const abortControllerRef = useRef<AbortController | null>(null);\n  const [history, setHistory] = useState<IngestionHistoryItem[]>([]);\n\n  const addLog = useCallback((msg: string, type: 'info'|'success'|'warn' = 'info') => {\n    setLogs(prev => [{ msg, time: new Date().toLocaleTimeString(), type }, ...prev].slice(0, 50));\n  }, []);\n\n  const fetchHistory = useCallback(async () => {\n    if (!activeProjectId) return;\n    try {\n        const data = await IngestionService.fetchHistory(activeProjectId);\n        setHistory(data);\n    } catch (err) {\n        console.error(\"Failed to fetch history:\", err);\n    }\n  }, [activeProjectId]);\n\n  useEffect(() => {\n    fetchHistory();\n  }, [fetchHistory]);\n\n  const handleNotarize = async (ingestionId: string) => {\n    setIsNotarizing(true);\n    addLog(`Initiating Blockchain Anchor for Batch ${ingestionId}...`, 'info');\n    try {\n        const data = await IngestionService.notarizeBatch(ingestionId);\n        setNotarizedBatches(prev => ({ \n            ...prev, \n            [ingestionId]: { tx: data.tx_hash, time: new Date().toLocaleTimeString() } \n        }));\n        addLog(`Asset Anchored: ${data.tx_hash.slice(0, 10)}...`, 'success');\n    } catch (e) {\n        console.error(\"Notarization failed\", e);\n        addLog(\"Blockchain handshake failed.\", 'warn');\n    } finally {\n        setIsNotarizing(false);\n    }\n  };\n\n  const handleConsolidation = async () => {\n    setIsConsolidating(true);\n    addLog(\"Initiating Vault Consensus Protocol...\", 'info');\n    \n    try {\n        const results: Record<string, DiagnosticMetrics> = {};\n        \n        for (const file of files) {\n            if (file.status !== 'review') continue;\n            \n            addLog(`Consolidating ${file.file.name}...`, 'info');\n            \n            const payload = {\n                projectId: activeProjectId,\n                fileName: file.file.name,\n                fileType: file.type,\n                fileHash: file.hash || `SHA256:${Math.random().toString(36).substr(2, 64).toUpperCase()}`,\n                mappings: file.mappings,\n                previewData: file.previewData || [],\n                totalRows: file.previewData?.length || 0,\n                beginningBalance: beginningBalance ? parseFloat(beginningBalance.replace(/,/g, '')) : undefined,\n                endingBalance: endingBalance ? parseFloat(endingBalance.replace(/,/g, '')) : undefined\n            };\n\n            const initialRes = await IngestionService.consolidate(payload);\n            const ingestionId = initialRes.ingestionId;\n            \n            if (!ingestionId) throw new Error(\"No Ingestion ID returned from server.\");\n\n            addLog(`Task Queued (ID: ${ingestionId.slice(0,8)}). Polling for completion...`, 'info');\n\n            // Polling Logic\n            await new Promise<void>((resolve, reject) => {\n                let attempts = 0;\n                const maxAttempts = 60; // 2 minutes max\n                \n                const interval = setInterval(async () => {\n                    attempts++;\n                    try {\n                        const statusRes = await fetch(`${API_URL}/api/v1/ingestion/status/${ingestionId}`);\n                        if (!statusRes.ok) throw new Error(\"Status check failed\");\n                        \n                        const statusData = await statusRes.json();\n                        \n                        if (statusData.status === 'completed' || statusData.status === 'warning') {\n                            clearInterval(interval);\n                            \n                            // Transform to DiagnosticMetrics\n                            results[file.id] = {\n                                ingestionId: statusData.id,\n                                status: statusData.status,\n                                recordsProcessed: statusData.recordsProcessed,\n                                anomalyCount: statusData.diagnostics?.anomaly_count || 0,\n                                warnings: statusData.diagnostics?.warnings || []\n                            };\n                            \n                            addLog(`Sealed ${file.file.name}: ${statusData.recordsProcessed} records.`, statusData.status === 'warning' ? 'warn' : 'success');\n                            resolve();\n                        } else if (statusData.status === 'failed') {\n                            clearInterval(interval);\n                            reject(new Error(\"Ingestion marked as failed by server.\"));\n                        } else if (attempts >= maxAttempts) {\n                            clearInterval(interval);\n                            reject(new Error(\"Ingestion timed out.\"));\n                        }\n                    } catch (e) {\n                        clearInterval(interval);\n                        reject(e);\n                    }\n                }, 2000);\n            });\n        }\n        \n        setConsolidationResults(results);\n        setActiveStep('INTEGRATE');\n    } catch (error: any) {\n        console.error(error);\n        addLog(`Consolidation interrupted: ${error.message}`, 'warn');\n    } finally {\n        setIsConsolidating(false);\n    }\n  };\n\n  const calculateHash = async (file: File): Promise<string> => {\n    const arrayBuffer = await file.arrayBuffer();\n    const hashBuffer = await crypto.subtle.digest('SHA-256', arrayBuffer);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('').toUpperCase();\n    return `SHA256:${hashHex}`;\n  };\n\n  const handleFiles = async (incomingFiles: FileList | null) => {\n    if (!incomingFiles) return;\n    \n    const MAX_SIZE = 10 * 1024 * 1024; // 10MB\n    const ALLOWED_TYPES = [\n        'text/csv', \n        'application/pdf', \n        'image/jpeg', \n        'image/png', \n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n    ];\n    \n    const validFiles: File[] = [];\n    Array.from(incomingFiles).forEach(file => {\n        if (file.size > 50 * 1024 * 1024) {\n            addLog(`Rejected ${file.name}: Exceeds 50MB limit.`, 'warn');\n            return;\n        }\n        if (file.size > MAX_SIZE) {\n            addLog(`Large file detected: ${file.name} (${(file.size/1024/1024).toFixed(1)}MB). Acquisition may take longer.`, 'warn');\n        }\n        const isCsv = file.name.toLowerCase().endsWith('.csv');\n        if (!ALLOWED_TYPES.includes(file.type) && !isCsv) { \n             addLog(`Rejected ${file.name}: Unsupported file format.`, 'warn');\n             return;\n        }\n        validFiles.push(file);\n    });\n\n    if (validFiles.length === 0) return;\n    \n    const newEntries: FileEntry[] = await Promise.all(validFiles.map(async file => {\n        const name = file.name.toLowerCase();\n        let type: FileEntry['type'] = 'other';\n        if (name.includes('bank') || name.includes('statement')) type = 'bank_statement';\n        else if (name.includes('expense') || name.includes('invoice')) type = 'expense';\n        else if (file.type.includes('image')) type = 'photo';\n\n        let detectedColumns = ['Raw_Content']; \n        let previewRows: Record<string, unknown>[] = [];\n        \n        if (file.type === 'text/csv' || name.endsWith('.csv')) {\n             await new Promise<void>((resolve) => {\n                Papa.parse(file, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        if (results.meta.fields) detectedColumns = results.meta.fields;\n                        previewRows = results.data as Record<string, unknown>[];\n                        resolve();\n                    }\n                });\n             });\n        } else {\n             detectedColumns = ['Date', 'Description', 'Amount', 'Balance', 'Account', 'Location', 'Reference'];\n        }\n\n        const hash = await calculateHash(file);\n\n        return {\n            id: Math.random().toString(36).substr(2, 9),\n            file,\n            status: 'idle',\n            progress: 0,\n            type,\n            hash,\n            metadata: {\n                size: (file.size / 1024 / 1024).toFixed(2) + ' MB',\n                lastModified: new Date(file.lastModified).toLocaleDateString(),\n                allColumns: detectedColumns\n            },\n            mappings: CORE_SCHEMA.map(s => ({ systemField: s.field, label: s.label, fileColumn: '', required: s.required })),\n            previewData: previewRows.length > 0 ? previewRows : undefined\n        };\n    }));\n\n    setFiles(prev => [...newEntries, ...prev]);\n    setIsDragging(false);\n    addLog(`Staged ${newEntries.length} valid items. Ready for forensic alignment.`, 'success');\n  };\n\n  const startAnalysis = async () => {\n    setActiveStep('INSPECT');\n    if (files.length > 0 && !selectedFileId) setSelectedFileId(files[0].id);\n    addLog(\"Analyzing file structures and auto-mapping headers...\", 'info');\n    \n    abortControllerRef.current = new AbortController();\n    setFiles(prev => prev.map(f => f.status === 'idle' ? { ...f, status: 'analyzing', progress: 50 } : f));\n    \n    try {\n        await new Promise((resolve, reject) => {\n            const timeout = setTimeout(resolve, 2000); \n            abortControllerRef.current?.signal.addEventListener('abort', () => {\n                clearTimeout(timeout);\n                reject(new DOMException('Aborted', 'AbortError'));\n            });\n        });\n\n        if (abortControllerRef.current?.signal.aborted) return;\n\n        setFiles(prev => prev.map(entry => {\n            if (entry.status !== 'analyzing') return entry;\n            \n            const updatedMappings = entry.mappings.map(m => {\n                const col = entry.metadata.allColumns.find(c => {\n                    const lowC = c.toLowerCase();\n                    const lowF = m.systemField.toLowerCase();\n                    if (lowC.includes(lowF)) return true;\n                    if (m.systemField === 'amount' && (lowC.includes('debit') || lowC.includes('value') || lowC.includes('cost'))) return true;\n                    if (m.systemField === 'description' && (lowC.includes('desc') || lowC.includes('memo') || lowC.includes('particulars'))) return true;\n                    if (m.systemField === 'date' && (lowC.includes('time') || lowC.includes('period'))) return true;\n                    if (m.systemField === 'geolocation' && (lowC.includes('loc') || lowC.includes('coord') || lowC.includes('lat') || lowC.includes('long'))) return true;\n                    if (m.systemField === 'account_number' && (lowC.includes('acc') || lowC.includes('iban') || lowC.includes('uid'))) return true;\n                    if (m.systemField === 'balance' && (lowC.includes('bal') || lowC.includes('remain'))) return true;\n                    return false;\n                });\n                return { ...m, fileColumn: col || '' };\n            });\n\n            let finalPreview = entry.previewData;\n            if (!finalPreview || finalPreview.length === 0) {\n                 finalPreview = Array.from({ length: 5 }).map((_, i) => ({\n                     'Date': `2024-01-${i+1}`,\n                     'Description': `Forensic Placeholder Log #${i}`,\n                     'Amount': (Math.random() * 1000000).toFixed(0),\n                     'Location': `LAT: ${Math.random().toFixed(4)}, LONG: ${Math.random().toFixed(4)}`\n                 }));\n            }\n\n            return { \n                ...entry, \n                status: 'review', \n                progress: 100, \n                mappings: updatedMappings,\n                previewData: finalPreview,\n            };\n        }));\n\n        addLog(\"Alignment complete. High confidence in schema matches.\", 'success');\n\n        const currentFiles = files;\n        for (const entry of currentFiles) {\n            try {\n                const data = await IngestionService.validate({\n                    projectId: activeProjectId,\n                    fileName: entry.file.name,\n                    fileType: entry.type,\n                    fileHash: entry.hash,\n                    mappings: entry.mappings,\n                    previewData: entry.previewData || [],\n                    totalRows: 100\n                });\n                if (data.insights) {\n                    setFiles(prev => prev.map(f => f.id === entry.id ? { ...f, validationInsights: data.insights as { primary: string; [key: string]: unknown }[] } : f));\n                }\n            } catch (err) {\n                 console.error(\"Insight fetch failed\", err);\n            }\n        }\n    } catch (e: any) {\n        if (e.name === 'AbortError') {\n             addLog(\"Acquisition process cancelled by user.\", 'warn');\n        } else {\n             console.error(e);\n             addLog(\"Analysis failed due to system error.\", 'warn');\n        }\n    }\n  };\n\n  const cancelAnalysis = () => {\n    if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n        setFiles(prev => prev.map(f => f.status === 'analyzing' ? { ...f, status: 'idle', progress: 0 } : f));\n    }\n  };\n\n  const updateMapping = (fileId: string, systemField: string, column: string) => {\n    setFiles(prev => prev.map(f => {\n        if (f.id !== fileId) return f;\n        return {\n            ...f,\n            mappings: f.mappings.map(m => m.systemField === systemField ? { ...m, fileColumn: column } : m)\n        };\n    }));\n  };\n\n  const addCustomMapping = (fileId: string) => {\n    const fieldName = prompt(\"Enter Forensic Field Label (e.g., 'Vendor Tax ID'):\");\n    if (!fieldName) return;\n    setFiles(prev => prev.map(f => {\n        if (f.id !== fileId) return f;\n        const systemField = fieldName.toLowerCase().replace(/\\s+/g, '_');\n        return {\n            ...f,\n            mappings: [...f.mappings, { systemField, label: fieldName, fileColumn: '', required: false, isCustom: true }]\n        };\n    }));\n  };\n\n  const removeMapping = (fileId: string, systemField: string) => {\n    setFiles(prev => prev.map(f => {\n        if (f.id !== fileId) return f;\n        return {\n            ...f,\n            mappings: f.mappings.filter(m => m.systemField !== systemField)\n        };\n    }));\n  };\n  \n  const moveMapping = (fileId: string, index: number, direction: 'up' | 'down') => {\n    setFiles(prev => prev.map(f => {\n        if (f.id !== fileId) return f;\n        const newMappings = [...f.mappings];\n        if (direction === 'up' && index > 0) {\n            [newMappings[index], newMappings[index - 1]] = [newMappings[index - 1], newMappings[index]];\n        } else if (direction === 'down' && index < newMappings.length - 1) {\n            [newMappings[index], newMappings[index + 1]] = [newMappings[index + 1], newMappings[index]];\n        }\n        return { ...f, mappings: newMappings };\n    }));\n  };\n\n  const updateSchemaLabel = (fileId: string, systemField: string, newLabel: string) => {\n      setFiles(prev => prev.map(f => {\n          if (f.id !== fileId) return f;\n          return {\n              ...f,\n              mappings: f.mappings.map(m => m.systemField === systemField ? { ...m, label: newLabel } : m)\n          };\n      }));\n  };\n\n  const resetSchema = (fileId: string) => {\n      setFiles(prev => prev.map(f => {\n          if (f.id !== fileId) return f;\n          return {\n             ...f,\n             mappings: CORE_SCHEMA.map(s => ({ systemField: s.field, label: s.label, fileColumn: '', required: s.required }))\n          };\n      }));\n  };\n\n  const verifyIntegrity = async (hash: string, fileName: string) => {\n    try {\n        const data = await IngestionService.verifyIntegrity(hash);\n        if (data.verified) {\n            addLog(`Integrity Verified: ${fileName} matches forensic manifest.`, 'success');\n        } else {\n            addLog(`Integrity Unknown: Target not found in immutable vault.`, 'info');\n        }\n    } catch {\n        addLog(\"Integrity check failed.\", 'warn');\n    }\n  };\n\n  const selectedFile = useMemo(() => files.find(f => f.id === selectedFileId), [files, selectedFileId]);\n\n  return (\n    <ForensicPageLayout\n        title=\"ZENITH Ingestion Lab\"\n        subtitle=\"Secure Tunnel Active\"\n        icon={DatabaseZap}\n        loading={isConsolidating}\n        loadingMessage=\"Consolidating Evidence Batches...\"\n        headerActions={\n            <div className=\"flex items-center gap-8\">\n                <nav className=\"flex items-center bg-slate-950/50 p-1.5 rounded-2xl border border-white/5 shadow-inner\">\n                    <StepToggle num={1} label=\"Acquisition\" active={activeStep === 'ACQUIRE'} complete={activeStep !== 'ACQUIRE'} onClick={() => setActiveStep('ACQUIRE')} />\n                    <StepToggle num={2} label=\"Alignment\" active={activeStep === 'INSPECT'} complete={activeStep === 'INTEGRATE'} onClick={files.length > 0 ? () => setActiveStep('INSPECT') : undefined} />\n                    <StepToggle num={3} label=\"Vault Merge\" active={activeStep === 'INTEGRATE'} complete={false} onClick={files.every(f => f.status === 'review') ? () => setActiveStep('INTEGRATE') : undefined} />\n                </nav>\n\n                <div className=\"flex flex-col items-end\">\n                    <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest\">Compute Load</span>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                        <div className=\"h-1 w-20 bg-slate-800 rounded-full overflow-hidden\">\n                            <div className=\"h-full bg-emerald-500 w-1/4 shadow-[0_0_8px_#10b981]\" />\n                        </div>\n                    </div>\n                </div>\n                <button \n                    title=\"Lab Settings\"\n                    aria-label=\"Lab Settings\"\n                    className=\"h-10 w-10 bg-slate-800/50 rounded-xl border border-white/5 flex items-center justify-center text-slate-400 hover:text-white transition-all hover:bg-slate-800 active:scale-95 shadow-lg\"\n                >\n                    <Settings2 className=\"w-5 h-5\" />\n                </button>\n            </div>\n        }\n    >\n      <main className=\"flex-1 flex overflow-hidden\">\n        <AnimatePresence mode=\"wait\">\n            {activeStep === 'ACQUIRE' && (\n                <div className=\"flex-1 flex flex-col overflow-hidden\">\n                    <AcquireStep \n                        tab={tab} setTab={setTab} \n                        isDragging={isDragging} setIsDragging={setIsDragging} \n                        handleFiles={handleFiles} history={history} \n                        exportAuditExcel={IngestionService.exportAuditExcel} fetchHistory={fetchHistory} \n                    />\n                    {files.length > 0 && tab === 'NEW' && (\n                        <div className=\"p-10 pt-0\">\n                            <div className=\"bg-slate-900/40 border border-white/5 rounded-[3rem] p-10 flex justify-between items-center shadow-2xl backdrop-blur-3xl\">\n                                <div className=\"flex items-center gap-8\">\n                                    <div className=\"w-16 h-16 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center shadow-lg shadow-indigo-900/20\">\n                                        <Layers className=\"w-8 h-8 text-white\" />\n                                    </div>\n                                    <div>\n                                        <h4 className=\"text-2xl font-black text-white italic tracking-tighter uppercase\">{files.length} Forensic Items Logged</h4>\n                                        <p className=\"text-sm text-slate-500 font-bold uppercase tracking-tight mt-1\">Ready for automated schema alignment protocols.</p>\n                                    </div>\n                                </div>\n                                <div className=\"flex gap-4\">\n                                    {files.some(f => f.status === 'analyzing') && (\n                                        <button onClick={cancelAnalysis} className=\"bg-rose-500/10 hover:bg-rose-500/20 text-rose-500 px-8 py-6 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] transition-all border border-rose-500/20 flex items-center gap-4 active:scale-95 group\">Cancel <X className=\"w-5 h-5\" /></button>\n                                    )}\n                                    <button onClick={startAnalysis} disabled={files.some(f => f.status === 'analyzing')} className=\"bg-indigo-600 hover:bg-indigo-500 text-white px-12 py-6 rounded-[2rem] font-black text-xs uppercase tracking-[0.2em] transition-all shadow-2xl shadow-indigo-900/40 flex items-center gap-4 active:scale-95 group disabled:opacity-50 disabled:cursor-not-allowed\">\n                                        {files.some(f => f.status === 'analyzing') ? 'Analyzing...' : 'Commencing Analysis'} <ArrowRight className=\"w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {activeStep === 'INSPECT' && (\n                <InspectStep \n                    files={files} selectedFileId={selectedFileId} setSelectedFileId={setSelectedFileId}\n                    isConsolidating={isConsolidating} handleConsolidation={handleConsolidation}\n                    selectedFile={selectedFile} addCustomMapping={addCustomMapping}\n                    updateMapping={updateMapping} removeMapping={removeMapping} moveMapping={moveMapping}\n                    updateSchemaLabel={updateSchemaLabel} resetSchema={resetSchema}\n                    verifyIntegrity={verifyIntegrity} beginningBalance={beginningBalance}\n                    setBeginningBalance={setBeginningBalance} endingBalance={endingBalance}\n                    setEndingBalance={setEndingBalance}\n                />\n            )}\n\n            {activeStep === 'INTEGRATE' && (\n                <IntegrateStep \n                    files={files} balanceCheckResult={balanceCheckResult}\n                    consolidationResults={consolidationResults} handleNotarize={handleNotarize}\n                    isNotarizing={isNotarizing} notarizedBatches={notarizedBatches}\n                    resetAll={() => { setFiles([]); setActiveStep('ACQUIRE'); }}\n                />\n            )}\n        </AnimatePresence>\n      </main>\n\n      <footer className=\"h-20 border-t border-white/5 bg-slate-950/80 backdrop-blur-3xl flex items-center shrink-0 px-10 gap-12 overflow-hidden z-50\">\n        <div className=\"flex items-center gap-4 shrink-0 bg-slate-900/50 px-5 py-2.5 rounded-2xl border border-white/5\">\n            <Terminal className=\"w-5 h-5 text-indigo-500 animate-pulse\" />\n            <span className=\"text-[10px] font-black text-white uppercase tracking-[0.3em] font-mono italic\">SYS_CON: ANALYTICS_CORE</span>\n        </div>\n        <div className=\"flex-1 overflow-x-auto whitespace-nowrap scroll-hide flex items-center gap-10 no-scrollbar pr-10 font-mono\" role=\"log\" aria-live=\"polite\">\n            {logs.map((log, i) => (\n                <div key={i} className=\"flex items-center gap-4 shrink-0 opacity-100 animate-in fade-in duration-500\">\n                    <span className=\"text-[10px] font-bold text-slate-700\">[{log.time}]</span>\n                    <span className={`text-[10px] font-black uppercase tracking-tight italic ${\n                        log.type === 'success' ? 'text-emerald-500' : log.type === 'warn' ? 'text-rose-500' : 'text-slate-500'\n                    }`}>{log.msg}</span>\n                    <div className=\"w-1.5 h-1.5 bg-white/5 rounded-full\" />\n                </div>\n            ))}\n            {logs.length === 0 && <span className=\"text-[10px] text-slate-800 italic uppercase font-black tracking-widest\">Awaiting system telemetry stream ingress...</span>}\n        </div>\n      </footer>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/ingestion/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/investigate/components/AdjudicationBench.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"motion"},"fix":{"range":[76,83],"text":""},"desc":"Remove unused variable \"motion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":4,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":33,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AnimatePresence"},"fix":{"range":[67,123],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Gavel' is defined but never used.","line":6,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Gavel"},"fix":{"range":[144,151],"text":""},"desc":"Remove unused variable \"Gavel\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lock' is defined but never used.","line":7,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Lock"},"fix":{"range":[173,184],"text":""},"desc":"Remove unused variable \"Lock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":7,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[184,197],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Activity' is defined but never used.","line":7,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":40,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Activity"},"fix":{"range":[205,215],"text":""},"desc":"Remove unused variable \"Activity\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingUp' is defined but never used.","line":8,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"TrendingUp"},"fix":{"range":[215,231],"text":""},"desc":"Remove unused variable \"TrendingUp\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":8,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FileText"},"fix":{"range":[231,241],"text":""},"desc":"Remove unused variable \"FileText\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":8,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Zap"},"fix":{"range":[241,246],"text":""},"desc":"Remove unused variable \"Zap\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Investigation' is defined but never used.","line":11,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":41,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Investigation"},"fix":{"range":[348,363],"text":""},"desc":"Remove unused variable \"Investigation\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'updateRiskScore' is assigned a value but never used.","line":31,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":55},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedIds' is assigned a value but never used.","line":35,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedIds' is assigned a value but never used.","line":35,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":36,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n    Search, Gavel, CheckCircle, XCircle, \n    Lock, AlertCircle, Filter, Activity,\n    TrendingUp, FileText, Zap, Shield\n} from 'lucide-react';\nimport { API_URL } from '@/utils/constants';\nimport { useInvestigation, Investigation } from '@/store/useInvestigation';\n\ninterface Transaction {\n  tx: {\n    id: number;\n    receiver: string;\n    description: string;\n    category_code: string;\n    actual_amount: number;\n    verification_status: 'VERIFIED' | 'EXCLUDED' | 'PENDING';\n    audit_comment?: string;\n  };\n  risk: number;\n}\n\ninterface AdjudicationBenchProps {\n    investigationId: string;\n}\n\nexport default function AdjudicationBench({ investigationId }: AdjudicationBenchProps) {\n  const { getInvestigation, addAction, updateRiskScore } = useInvestigation();\n  const investigation = getInvestigation(investigationId);\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [filter, setFilter] = useState('');\n  const [selectedIds, setSelectedIds] = useState<Set<number>>(new Set());\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const res = await fetch(`${API_URL}/api/v1/forensic/profit-loss`);\n        const data = await res.json();\n        setTransactions(data?.audit_trail || []);\n      } catch (err) {\n        console.error('Failed to fetch profit-loss data:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [investigationId]);\n\n  const handleVerify = async (id: number, status: 'VERIFIED' | 'EXCLUDED' | 'PENDING') => {\n    setTransactions(prev => prev.map(item => \n      item.tx.id === id ? { ...item, tx: { ...item.tx, verification_status: status } } : item\n    ));\n    \n    addAction({\n        tool: 'AdjudicationBench',\n        action: `VERDICT_${status}`,\n        result: { evidenceId: id.toString(), context: `Manual audit sign-off for ${id}` }\n    });\n\n    try {\n        await fetch(`${API_URL}/api/v1/forensic/transaction/${id}?status=${status}`, { method: 'PATCH' });\n    } catch (e) {\n        console.error(e);\n    }\n  };\n\n  if (!investigation) return (\n      <div className=\"flex-1 flex items-center justify-center text-slate-600 font-black uppercase tracking-widest text-xs animate-pulse\">\n          Selecting Target Case...\n      </div>\n  );\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full bg-[#020617] p-8 overflow-y-auto custom-scrollbar\">\n        {/* Case Header */}\n        <div className=\"flex justify-between items-end mb-10\">\n            <div>\n                <div className=\"flex items-center gap-3 mb-2\">\n                    <div className=\"px-2 py-0.5 bg-indigo-600/20 text-indigo-400 border border-indigo-500/30 rounded text-[9px] font-black uppercase tracking-widest\">\n                        Adjudicatory Phase\n                    </div>\n                    <span className=\"text-[10px] font-mono text-slate-600\">{investigation.id}</span>\n                </div>\n                <h1 className=\"text-3xl font-black text-white uppercase tracking-tighter\">{investigation.title}</h1>\n            </div>\n\n            <div className=\"flex items-center gap-6\">\n                 <div className=\"text-right\">\n                     <p className=\"text-[9px] font-black text-slate-600 uppercase tracking-widest mb-1\">Risk Profile</p>\n                     <p className={`text-2xl font-black ${investigation.riskScore && investigation.riskScore > 70 ? 'text-rose-500' : 'text-indigo-400'}`}>\n                         {investigation.riskScore || 0}%\n                     </p>\n                 </div>\n                 <div className=\"h-10 w-px bg-white/5\" />\n                 <div className=\"text-right\">\n                     <p className=\"text-[9px] font-black text-slate-600 uppercase tracking-widest mb-1\">Evidence Items</p>\n                     <p className=\"text-2xl font-black text-white\">{transactions.length}</p>\n                 </div>\n            </div>\n        </div>\n\n        {/* Audit Bench Table */}\n        <div className=\"glass-panel overflow-hidden rounded-[2rem] border border-white/5 shadow-2xl bg-slate-900/20\">\n            <div className=\"p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]\">\n                <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-500\" />\n                    <input \n                        type=\"text\" \n                        placeholder=\"Search evidence...\" \n                        className=\"bg-slate-950/50 border border-white/10 rounded-xl pl-9 pr-4 py-2 text-[10px] w-64 text-white uppercase font-black tracking-widest focus:border-indigo-500 outline-none\"\n                        value={filter}\n                        onChange={e => setFilter(e.target.value)}\n                    />\n                </div>\n                <div className=\"flex gap-4\">\n                    <button className=\"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest flex items-center gap-2\">\n                         <Shield className=\"w-3 h-3\" /> Secure Export\n                    </button>\n                    <button className=\"p-2.5 bg-slate-900 border border-white/10 rounded-xl text-slate-500\">\n                         <Filter className=\"w-4 h-4\" />\n                    </button>\n                </div>\n            </div>\n\n            <table className=\"w-full text-left\">\n                <thead className=\"bg-white/[0.01] text-[9px] uppercase text-slate-500 font-black tracking-[0.2em] border-b border-white/5\">\n                    <tr>\n                        <th className=\"p-6\">Subject / Vendor</th>\n                        <th className=\"p-6 text-right\">Invoiced Amount</th>\n                        <th className=\"p-6\">Risk Index</th>\n                        <th className=\"p-6\">Reasoning</th>\n                        <th className=\"p-6\">Status</th>\n                        <th className=\"p-6 text-center\">Action</th>\n                    </tr>\n                </thead>\n                <tbody className=\"divide-y divide-white/5\">\n                    {transactions.filter(t => t.tx.receiver.toLowerCase().includes(filter.toLowerCase())).map(item => (\n                        <tr key={item.tx.id} className=\"hover:bg-white/[0.02] transition-colors group\">\n                             <td className=\"p-6\">\n                                <p className=\"font-bold text-slate-200 text-sm\">{item.tx.receiver}</p>\n                                <p className=\"text-[9px] text-slate-600 font-mono mt-0.5\">{item.tx.description}</p>\n                             </td>\n                             <td className=\"p-6 text-right font-mono font-black text-white text-xs\">\n                                Rp {item.tx.actual_amount?.toLocaleString()}\n                             </td>\n                             <td className=\"p-6\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"w-24 h-1 bg-slate-800 rounded-full overflow-hidden\">\n                                        <div className={`h-full ${item.risk > 0.7 ? 'bg-rose-500' : 'bg-indigo-500'}`} style={{ width: `${item.risk * 100}%` }} />\n                                    </div>\n                                    <span className=\"text-[10px] font-bold text-slate-500\">{(item.risk * 100).toFixed(0)}%</span>\n                                </div>\n                             </td>\n                             <td className=\"p-6\">\n                                <div className=\"flex flex-col gap-1\">\n                                    {item.risk > 0.7 && <span className=\"text-[8px] font-black text-rose-500 uppercase tracking-widest\">‚óè Sanction Shadow Detected</span>}\n                                    {item.risk > 0.4 && <span className=\"text-[8px] font-black text-amber-500 uppercase tracking-widest\">‚óè RAB Deviation High</span>}\n                                    {item.risk <= 0.4 && <span className=\"text-[8px] font-black text-emerald-500 uppercase tracking-widest\">‚óè Routine Pattern</span>}\n                                </div>\n                             </td>\n                             <td className=\"p-6\">\n                                <span className={`text-[9px] font-black tracking-widest uppercase px-3 py-1 rounded-full border ${\n                                    item.tx.verification_status === 'VERIFIED' ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20' : \n                                    item.tx.verification_status === 'EXCLUDED' ? 'bg-rose-500/10 text-rose-400 border-rose-500/20' : \n                                    'bg-slate-800 text-slate-500 border-white/5'\n                                }`}>\n                                    {item.tx.verification_status || 'PENDING'}\n                                </span>\n                             </td>\n                             <td className=\"p-6\">\n                                <div className=\"flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                    <button onClick={() => handleVerify(item.tx.id, 'VERIFIED')} className=\"p-2 h-8 w-8 flex items-center justify-center hover:bg-emerald-500/20 text-emerald-500 rounded-lg transition-all\">\n                                       <CheckCircle className=\"w-4 h-4\" />\n                                    </button>\n                                    <button onClick={() => handleVerify(item.tx.id, 'EXCLUDED')} className=\"p-2 h-8 w-8 flex items-center justify-center hover:bg-rose-500/20 text-rose-500 rounded-lg transition-all\">\n                                       <XCircle className=\"w-4 h-4\" />\n                                    </button>\n                                </div>\n                             </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/investigate/components/InvestigationList.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"motion"},"fix":{"range":[118,157],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":7,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[172,178],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":8,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[214,222],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":8,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[222,230],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Archive' is defined but never used.","line":8,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Archive"},"fix":{"range":[230,239],"text":""},"desc":"Remove unused variable \"Archive\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { useInvestigation, Investigation } from '@/store/useInvestigation';\nimport { motion } from 'framer-motion';\nimport { \n    Clock, Play, Pause, CheckCircle, \n    Plus, Search, Filter, Archive\n} from 'lucide-react';\n\ninterface InvestigationListProps {\n  onSelect: (id: string) => void;\n  selectedId?: string;\n}\n\nexport default function InvestigationList({ onSelect, selectedId }: InvestigationListProps) {\n    const { investigations, startInvestigation } = useInvestigation();\n    \n    const active = investigations.filter(i => i.status === 'active');\n    const paused = investigations.filter(i => i.status === 'paused');\n    const completed = investigations.filter(i => i.status === 'completed');\n\n    const handleNew = () => {\n        const title = prompt('Investigation Title:');\n        if (title) startInvestigation(title);\n    };\n\n    return (\n        <div className=\"w-80 border-r border-white/5 bg-slate-950/20 flex flex-col h-full shrink-0\">\n            <div className=\"p-6 border-b border-white/5\">\n                <button \n                    onClick={handleNew}\n                    className=\"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all shadow-lg shadow-indigo-900/20\"\n                >\n                    <Plus className=\"w-4 h-4\" /> New Case\n                </button>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-8\">\n                <section>\n                    <h3 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 px-2\">Active Sessions</h3>\n                    <div className=\"space-y-2\">\n                        {active.map(inv => (\n                            <InvItem \n                                key={inv.id} \n                                inv={inv} \n                                isActive={selectedId === inv.id} \n                                onClick={() => onSelect(inv.id)} \n                            />\n                        ))}\n                        {active.length === 0 && <p className=\"text-[10px] text-slate-700 italic px-2\">No active sessions</p>}\n                    </div>\n                </section>\n\n                <section>\n                    <h3 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 px-2\">On Ice</h3>\n                    <div className=\"space-y-2\">\n                        {paused.map(inv => (\n                            <InvItem \n                                key={inv.id} \n                                inv={inv} \n                                isActive={selectedId === inv.id} \n                                onClick={() => onSelect(inv.id)} \n                            />\n                        ))}\n                    </div>\n                </section>\n\n                <section>\n                    <h3 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 px-2\">Archive</h3>\n                    <div className=\"space-y-2\">\n                        {completed.map(inv => (\n                            <InvItem \n                                key={inv.id} \n                                inv={inv} \n                                isActive={selectedId === inv.id} \n                                onClick={() => onSelect(inv.id)} \n                            />\n                        ))}\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n\nfunction InvItem({ inv, isActive, onClick }: { inv: Investigation; isActive: boolean; onClick: () => void }) {\n    const statusIcon = {\n        active: <Play className=\"w-3 h-3 text-emerald-500\" />,\n        paused: <Pause className=\"w-3 h-3 text-amber-500\" />,\n        completed: <CheckCircle className=\"w-3 h-3 text-indigo-500\" />\n    };\n\n    return (\n        <button\n            onClick={onClick}\n            className={`w-full p-4 rounded-xl text-left transition-all border ${\n                isActive \n                ? 'bg-indigo-600/10 border-indigo-500/50 ring-1 ring-indigo-500/20' \n                : 'bg-slate-900/40 border-white/5 hover:border-white/10'\n            }`}\n        >\n            <div className=\"flex justify-between items-start mb-2\">\n                <span className=\"text-xs font-bold text-white truncate pr-2\">{inv.title}</span>\n                {statusIcon[inv.status]}\n            </div>\n            <div className=\"flex justify-between items-center text-[9px] font-black uppercase tracking-widest text-slate-500\">\n                <span>{inv.timeline.length} Acts</span>\n                <span className=\"text-indigo-400\">{(inv.riskScore || 0)}% Risk</span>\n            </div>\n        </button>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/investigate/page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/app/investigate/page.tsx:16:13\n  14 |     useEffect(() => {\n  15 |         if (activeInvestigation && !selectedId) {\n> 16 |             setSelectedId(activeInvestigation.id);\n     |             ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  17 |         }\n  18 |     }, [activeInvestigation]);\n  19 |","line":16,"column":13,"nodeType":null,"endLine":16,"endColumn":26},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'selectedId'. Either include it or remove the dependency array.","line":18,"column":8,"nodeType":"ArrayExpression","endLine":18,"endColumn":29,"suggestions":[{"desc":"Update the dependencies array to be: [activeInvestigation, selectedId]","fix":{"range":[709,730],"text":"[activeInvestigation, selectedId]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Gavel, Activity } from 'lucide-react';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport InvestigationList from './components/InvestigationList';\nimport AdjudicationBench from './components/AdjudicationBench';\n\nexport default function WorkbenchPage() {\n    const { activeInvestigation } = useInvestigation();\n    const [selectedId, setSelectedId] = useState<string | undefined>(activeInvestigation?.id);\n\n    useEffect(() => {\n        if (activeInvestigation && !selectedId) {\n            setSelectedId(activeInvestigation.id);\n        }\n    }, [activeInvestigation]);\n\n    return (\n        <ForensicPageLayout\n            title=\"Evidence Workbench\"\n            subtitle=\"Adjudicatory Verdict Engine\"\n            icon={Gavel}\n        >\n            <div className=\"flex-1 flex overflow-hidden h-full\">\n                {/* Left Sidebar: Case Selection */}\n                <InvestigationList \n                    onSelect={setSelectedId} \n                    selectedId={selectedId} \n                />\n\n                {/* Right Area: Adjudication Bench */}\n                {selectedId ? (\n                    <AdjudicationBench investigationId={selectedId} />\n                ) : (\n                    <div className=\"flex-1 flex flex-col items-center justify-center bg-slate-950/20 backdrop-blur-3xl p-20 text-center\">\n                        <div className=\"w-24 h-24 bg-indigo-600/10 rounded-[2.5rem] flex items-center justify-center mb-8 border border-indigo-500/20 shadow-2xl\">\n                             <Activity className=\"w-10 h-10 text-indigo-500 animate-pulse\" />\n                        </div>\n                        <h2 className=\"text-2xl font-black text-white uppercase tracking-tighter mb-4\">Awaiting Signal...</h2>\n                        <p className=\"text-slate-500 max-w-sm font-bold text-xs uppercase tracking-widest leading-relaxed\">\n                            Select an active case from the sidebar to begin evidence adjudication and forensic sign-off.\n                        </p>\n                    </div>\n                )}\n            </div>\n        </ForensicPageLayout>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/investigations/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Target' is defined but never used.","line":7,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Target"},"fix":{"range":[157,164],"text":""},"desc":"Remove unused variable \"Target\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":8,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Users"},"fix":{"range":[211,218],"text":""},"desc":"Remove unused variable \"Users\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingUp' is defined but never used.","line":8,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"TrendingUp"},"fix":{"range":[218,230],"text":""},"desc":"Remove unused variable \"TrendingUp\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":8,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":52,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[236,250],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":9,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[263,276],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":11,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[300,329],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activeInvestigation' is assigned a value but never used.","line":18,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'resumeInvestigation' is assigned a value but never used.","line":20,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is assigned a value but never used.","line":27,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":172,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8362,8365],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8362,8365],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport { motion } from 'framer-motion';\nimport { \n    Target, Clock, Play, Pause, CheckCircle, \n    FileText, Users, TrendingUp, Plus, ChevronRight,\n    Archive, AlertCircle\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\nexport default function InvestigationDashboardPage() {\n    const router = useRouter();\n    const { \n        investigations, \n        activeInvestigation,\n        startInvestigation,\n        resumeInvestigation,\n        clearAllInvestigations\n    } = useInvestigation();\n\n    const handleNewInvestigation = () => {\n        const title = prompt('Enter investigation title:');\n        if (title) {\n            const id = startInvestigation(title);\n            router.push('/');\n        }\n    };\n\n    const activeInvestigations = investigations.filter(inv => inv.status === 'active');\n    const pausedInvestigations = investigations.filter(inv => inv.status === 'paused');\n    const completedInvestigations = investigations.filter(inv => inv.status === 'completed');\n\n    return (\n        <div className=\"min-h-screen bg-[#020617] text-slate-200 p-8 font-sans\">\n            {/* Header */}\n            <div className=\"mb-10\">\n                <div className=\"flex items-center justify-between mb-6\">\n                    <div>\n                        <h1 className=\"text-4xl font-black text-white uppercase tracking-tighter mb-2\">\n                            Investigation Command Center\n                        </h1>\n                        <p className=\"text-slate-500 font-bold text-sm uppercase tracking-widest\">\n                            Manage all forensic investigations ‚Ä¢ {investigations.length} Total Cases\n                        </p>\n                    </div>\n                    <button\n                        onClick={handleNewInvestigation}\n                        className=\"px-6 py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-black uppercase tracking-widest rounded-xl flex items-center gap-3 transition-colors shadow-lg shadow-indigo-900/20\"\n                    >\n                        <Plus className=\"w-5 h-5\" />\n                        New Investigation\n                    </button>\n                </div>\n\n                {/* Quick Stats */}\n                <div className=\"grid grid-cols-4 gap-6\">\n                    <div className=\"bg-slate-900/50 border border-white/5 rounded-2xl p-6\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                            <Play className=\"w-5 h-5 text-emerald-500\" />\n                            <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Active</span>\n                        </div>\n                        <p className=\"text-3xl font-black text-white\">{activeInvestigations.length}</p>\n                    </div>\n                    <div className=\"bg-slate-900/50 border border-white/5 rounded-2xl p-6\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                            <Pause className=\"w-5 h-5 text-amber-500\" />\n                            <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Paused</span>\n                        </div>\n                        <p className=\"text-3xl font-black text-white\">{pausedInvestigations.length}</p>\n                    </div>\n                    <div className=\"bg-slate-900/50 border border-white/5 rounded-2xl p-6\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                            <CheckCircle className=\"w-5 h-5 text-indigo-500\" />\n                            <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Completed</span>\n                        </div>\n                        <p className=\"text-3xl font-black text-white\">{completedInvestigations.length}</p>\n                    </div>\n                    <div className=\"bg-slate-900/50 border border-white/5 rounded-2xl p-6\">\n                        <div className=\"flex items-center gap-3 mb-2\">\n                            <FileText className=\"w-5 h-5 text-rose-500\" />\n                            <span className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Total Actions</span>\n                        </div>\n                        <p className=\"text-3xl font-black text-white\">\n                            {investigations.reduce((sum, inv) => sum + inv.timeline.length, 0)}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Active Investigations */}\n            {activeInvestigations.length > 0 && (\n                <section className=\"mb-10\">\n                    <h2 className=\"text-xl font-black text-white uppercase tracking-tight mb-6 flex items-center gap-3\">\n                        <Play className=\"w-5 h-5 text-emerald-500\" />\n                        Active Investigations\n                    </h2>\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        {activeInvestigations.map(inv => (\n                            <InvestigationCard key={inv.id} investigation={inv} />\n                        ))}\n                    </div>\n                </section>\n            )}\n\n            {/* Paused Investigations */}\n            {pausedInvestigations.length > 0 && (\n                <section className=\"mb-10\">\n                    <h2 className=\"text-xl font-black text-white uppercase tracking-tight mb-6 flex items-center gap-3\">\n                        <Pause className=\"w-5 h-5 text-amber-500\" />\n                        Paused Investigations\n                    </h2>\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        {pausedInvestigations.map(inv => (\n                            <InvestigationCard key={inv.id} investigation={inv} />\n                        ))}\n                    </div>\n                </section>\n            )}\n\n            {/* Completed Investigations */}\n            {completedInvestigations.length > 0 && (\n                <section className=\"mb-10\">\n                    <h2 className=\"text-xl font-black text-white uppercase tracking-tight mb-6 flex items-center gap-3\">\n                        <CheckCircle className=\"w-5 h-5 text-indigo-500\" />\n                        Completed Investigations\n                    </h2>\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                        {completedInvestigations.map(inv => (\n                            <InvestigationCard key={inv.id} investigation={inv} compact />\n                        ))}\n                    </div>\n                </section>\n            )}\n\n            {investigations.length === 0 && (\n                <div className=\"flex flex-col items-center justify-center py-20\">\n                    <Archive className=\"w-16 h-16 text-slate-700 mb-6\" />\n                    <h3 className=\"text-xl font-bold text-slate-600 mb-3\">No Investigations Yet</h3>\n                    <p className=\"text-sm text-slate-700 mb-6\">Start your first investigation to track forensic workflows</p>\n                    <button\n                        onClick={handleNewInvestigation}\n                        className=\"px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold uppercase tracking-widest rounded-lg transition-colors\"\n                    >\n                        Create Investigation\n                    </button>\n                </div>\n            )}\n\n            {investigations.length > 0 && (\n                <button\n                    onClick={() => {\n                        if (confirm('Clear all investigations? This cannot be undone.')) {\n                            clearAllInvestigations();\n                        }\n                    }}\n                    className=\"mt-10 px-4 py-2 bg-rose-600/10 hover:bg-rose-600/20 text-rose-400 border border-rose-500/20 rounded-lg text-xs font-bold uppercase tracking-widest transition-colors\"\n                >\n                    Clear All Investigations\n                </button>\n            )}\n        </div>\n    );\n}\n\nfunction InvestigationCard({ \n    investigation, \n    compact = false \n}: { \n    investigation: any; \n    compact?: boolean;\n}) {\n    const { resumeInvestigation } = useInvestigation();\n    const router = useRouter();\n\n    const timeElapsed = Math.floor(\n        (new Date(investigation.updatedAt).getTime() - new Date(investigation.startedAt).getTime()) / 1000 / 60\n    );\n\n    const statusConfig = {\n        active: { bg: 'bg-emerald-500/10', border: 'border-emerald-500/30', text: 'text-emerald-400' },\n        paused: { bg: 'bg-amber-500/10', border: 'border-amber-500/30', text: 'text-amber-400' },\n        completed: { bg: 'bg-indigo-500/10', border: 'border-indigo-500/30', text: 'text-indigo-400' }\n    };\n\n    const config = statusConfig[investigation.status as keyof typeof statusConfig];\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className={`bg-slate-900/50 border border-white/5 rounded-2xl p-6 hover:border-white/10 transition-all ${\n                compact ? '' : ''\n            }`}\n        >\n            <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-black text-white mb-2\">{investigation.title}</h3>\n                    <p className=\"text-[10px] font-mono text-slate-600 uppercase tracking-wider\">\n                        {investigation.id}\n                    </p>\n                </div>\n                <span className={`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${config.bg} ${config.border} ${config.text} border`}>\n                    {investigation.status}\n                </span>\n            </div>\n\n            {!compact && (\n                <>\n                    <div className=\"grid grid-cols-3 gap-4 mb-6\">\n                        <div>\n                            <p className=\"text-[10px] text-slate-600 uppercase tracking-wider mb-1\">Actions</p>\n                            <p className=\"text-xl font-bold text-white\">{investigation.timeline.length}</p>\n                        </div>\n                        <div>\n                            <p className=\"text-[10px] text-slate-600 uppercase tracking-wider mb-1\">Suspects</p>\n                            <p className=\"text-xl font-bold text-white\">{investigation.context.suspects.length}</p>\n                        </div>\n                        <div>\n                            <p className=\"text-[10px] text-slate-600 uppercase tracking-wider mb-1\">Tools Used</p>\n                            <p className=\"text-xl font-bold text-white\">{investigation.context.toolsUsed.length}</p>\n                        </div>\n                    </div>\n\n                    {investigation.riskScore && (\n                        <div className=\"mb-4 p-3 bg-rose-500/10 border border-rose-500/20 rounded-lg\">\n                            <div className=\"flex items-center justify-between\">\n                                <span className=\"text-[10px] font-black text-rose-400 uppercase tracking-widest\">Risk Score</span>\n                                <span className=\"text-lg font-black text-rose-400\">{investigation.riskScore}%</span>\n                            </div>\n                        </div>\n                    )}\n                </>\n            )}\n\n            <div className=\"flex items-center justify-between text-[10px] text-slate-600 mb-4\">\n                <span className=\"flex items-center gap-2\">\n                    <Clock className=\"w-3 h-3\" />\n                    {timeElapsed}m elapsed\n                </span>\n                <span>{new Date(investigation.updatedAt).toLocaleDateString()}</span>\n            </div>\n\n            {investigation.status === 'paused' && (\n                <button\n                    onClick={() => {\n                        resumeInvestigation(investigation.id);\n                        router.push('/');\n                    }}\n                    className=\"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold text-xs uppercase tracking-widest transition-colors flex items-center justify-center gap-2\"\n                >\n                    <Play className=\"w-3 h-3\" />\n                    Resume Investigation\n                </button>\n            )}\n\n            {investigation.status === 'completed' && (\n                <button\n                    className=\"w-full py-2 bg-indigo-600/20 hover:bg-indigo-600/30 text-indigo-400 border border-indigo-500/20 rounded-lg font-bold text-xs uppercase tracking-widest transition-colors flex items-center justify-center gap-2\"\n                >\n                    <FileText className=\"w-3 h-3\" />\n                    View Dossier\n                </button>\n            )}\n        </motion.div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/legal/aml/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Gavel' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Gavel"},"fix":{"range":[65,71],"text":""},"desc":"Remove unused variable \"Gavel\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { Gavel, Scale, ShieldAlert, BookOpen, ExternalLink, Loader2, Zap, Activity } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\n\nexport default function LegalDossierPage() {\n  const { activeProjectId } = useProject();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isSynthesizing, setIsSynthesizing] = useState(false);\n  const [narrative, setNarrative] = useState<string | null>(null);\n  const [completedSteps, setCompletedSteps] = useState<string[]>([]);\n\n  const handleSynthesize = async () => {\n    setIsSynthesizing(true);\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200'}/api/v1/ai/narrative/${activeProjectId || 'ZENITH-001'}`, {\n        method: 'POST'\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setNarrative(data.narrative);\n      }\n    } catch (e) {\n      console.error(\"Synthesis failed\", e);\n    } finally {\n      setIsSynthesizing(false);\n    }\n  };\n\n  const toggleStep = (id: string) => {\n    setCompletedSteps(prev => \n      prev.includes(id) ? prev.filter(s => s !== id) : [...prev, id]\n    );\n  };\n\n  const handleGenerate = async () => {\n    setIsGenerating(true);\n    try {\n        const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200'}/api/v1/forensic/export/pdf`);\n        if (res.ok) {\n            const blob = await res.blob();\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = `Zenith_Forensic_Dossier_${new Date().toISOString().split('T')[0]}.pdf`;\n            document.body.appendChild(a);\n            a.click();\n            window.URL.revokeObjectURL(url);\n        }\n    } catch (e) {\n        console.error(\"Export failed\", e);\n    } finally {\n        setIsGenerating(false);\n    }\n  };\n\n  const laws = [\n    {\n      title: 'UU No. 8 Tahun 2010',\n      description: 'Primary legislation on Money Laundering (TPPU). Crucial for establishing the \"Predicate Crime\" and tracing illicit capital transformation.',\n      status: 'Statutory Basis'\n    },\n    {\n      title: 'FATF Standards',\n      description: 'International standards for identifying \"Red Flag\" indicators and beneficial ownership concealment patterns.',\n      status: 'Forensic Standard'\n    },\n    {\n      title: 'Standard of Proof',\n      description: 'The requirement to establish a \"Clear Linkage\" between the fraudulent project expenditure and the acquired private asset.',\n      status: 'Admissibility'\n    }\n  ];\n\n  return (\n    <ForensicPageLayout\n        title=\"Eclipse // Legal Documentation\"\n        subtitle=\"Forensic Evidence Synthesis & Statutory Alignment\"\n        icon={Scale}\n        headerActions={\n            <button \n              onClick={handleGenerate}\n              disabled={isGenerating}\n              className=\"bg-indigo-600 hover:bg-indigo-500 disabled:bg-indigo-600/50 text-white px-8 py-3 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl shadow-indigo-900/40 transition-all active:scale-95 flex items-center gap-4 group border border-indigo-400/20\"\n            >\n              {isGenerating ? (\n                <>\n                   <Loader2 className=\"w-4 h-4 animate-spin\" />\n                   EXFILTRATING DOSSIER...\n                </>\n              ) : (\n                <>\n                  Export High-Fidelity Dossier\n                  <div className=\"w-5 h-5 bg-white/10 rounded flex items-center justify-center group-hover:bg-white/20 transition-colors\">\n                    <ExternalLink className=\"w-3 h-3\" />\n                  </div>\n                </>\n              )}\n            </button>\n        }\n    >\n        <div className=\"p-8 space-y-8 overflow-y-auto max-h-full custom-scrollbar\">\n\n\n      <section className=\"glass-panel p-10 rounded-[2.5rem] border border-indigo-500/20 bg-indigo-500/5 relative overflow-hidden group\">\n        <div className=\"absolute top-0 right-0 p-10 opacity-5 group-hover:opacity-10 transition-opacity\">\n            <Zap className=\"w-24 h-24 text-indigo-400\" />\n        </div>\n        <div className=\"flex justify-between items-start mb-8\">\n            <div className=\"space-y-2\">\n                <h2 className=\"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tight\">\n                    <Activity className=\"w-5 h-5 text-indigo-500\" /> AI Narrative Synthesis\n                </h2>\n                <p className=\"text-slate-500 text-[10px] font-bold uppercase tracking-widest\">Generate executive context using Zenith Logic Engine v3</p>\n            </div>\n            <button \n                onClick={handleSynthesize}\n                disabled={isSynthesizing}\n                className=\"bg-indigo-600/20 hover:bg-indigo-600 border border-indigo-500/40 text-indigo-400 hover:text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all disabled:opacity-50 flex items-center gap-2\"\n            >\n                {isSynthesizing ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Zap className=\"w-4 h-4\" />}\n                {isSynthesizing ? \"Synthesizing...\" : \"Generate Narrative\"}\n            </button>\n        </div>\n\n        {narrative ? (\n            <motion.div \n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"bg-black/40 border border-white/5 rounded-3xl p-8 font-mono text-xs leading-relaxed text-slate-300 whitespace-pre-wrap relative\"\n            >\n                <div className=\"absolute top-4 right-6 text-[8px] font-black text-indigo-500/40 uppercase tracking-[0.3em]\">Confidential AI Output</div>\n                {narrative}\n            </motion.div>\n        ) : (\n            <div className=\"border border-dashed border-white/10 rounded-3xl p-12 text-center\">\n                <p className=\"text-slate-600 text-[10px] font-bold uppercase tracking-widest\">No narrative generated for ZENITH-001. Click generate to begin synthesis.</p>\n            </div>\n        )}\n      </section>\n\n      <section className=\"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8\">\n        {/* FRAUD TRIANGLE ANALYSIS */}\n        <div className=\"xl:col-span-2 glass-panel p-8 rounded-[2.5rem] border border-orange-500/20 bg-orange-500/5 relative overflow-hidden\">\n             <div className=\"flex justify-between items-start mb-6\">\n                <div>\n                   <h2 className=\"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tight\">\n                       <ShieldAlert className=\"w-5 h-5 text-orange-500\" /> Fraud Triangle Analysis\n                   </h2>\n                   <p className=\"text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1\">Criminological Framework</p>\n                </div>\n                {/* Mock Save Indicator */}\n                <div className=\"flex items-center gap-2 text-[10px] font-bold text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20\">\n                    <Activity className=\"w-3 h-3\" /> LIVE SAVE\n                </div>\n             </div>\n\n             <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {[\n                  { id: 'pressure', label: '1. PRESSURE', sub: 'Financial/Emotional Motive', placeholder: 'e.g., Gambling debt, Market crash...', icon: Activity, color: 'text-rose-400', border: 'border-rose-500/30', bg: 'bg-rose-500/5' },\n                  { id: 'opportunity', label: '2. OPPORTUNITY', sub: 'Control Weakness', placeholder: 'e.g., Shared passwords, No dual-auth...', icon: ExternalLink, color: 'text-orange-400', border: 'border-orange-500/30', bg: 'bg-orange-500/5' },\n                  { id: 'rationalization', label: '3. RATIONALIZATION', sub: 'The Justification', placeholder: 'e.g., \"I was underpaid\", \"It\\'s just a loan\"...', icon: BookOpen, color: 'text-yellow-400', border: 'border-yellow-500/30', bg: 'bg-yellow-500/5' }\n                ].map(item => (\n                  <div key={item.id} className={`p-6 rounded-3xl border ${item.border} ${item.bg} relative group hover:bg-opacity-20 transition-all`}>\n                      <item.icon className={`w-8 h-8 ${item.color} mb-4 opacity-50`} />\n                      <h3 className={`text-sm font-black ${item.color} uppercase tracking-widest mb-1`}>{item.label}</h3>\n                      <p className=\"text-[10px] text-slate-500 font-bold uppercase mb-4\">{item.sub}</p>\n                      <textarea \n                        aria-label={item.label}\n                        className=\"w-full bg-black/20 border border-white/5 rounded-xl p-3 text-xs text-slate-200 placeholder:text-slate-600 focus:outline-none focus:border-white/20 transition-colors h-24 resize-none font-mono\"\n                        placeholder={item.placeholder}\n                      />\n                  </div>\n                ))}\n             </div>\n        </div>\n\n        {/* MENS REA BUILDER */}\n        <div className=\"glass-panel p-8 rounded-[2.5rem] border border-purple-500/20 bg-purple-500/5 relative\">\n            <h2 className=\"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tight mb-2\">\n                <Zap className=\"w-5 h-5 text-purple-500\" /> Mens Rea Matrix\n            </h2>\n            <p className=\"text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-6\">Establishing Criminal Intent</p>\n            \n            <div className=\"space-y-4\">\n               {['Purpose', 'Knowledge', 'Recklessness', 'Negligence'].map((level, i) => (\n                  <div key={level} className=\"group cursor-pointer\">\n                      <div className=\"flex items-center gap-4 p-3 rounded-xl bg-slate-900/50 border border-white/5 hover:border-purple-500/50 transition-all\">\n                          <div className={`w-8 h-8 rounded-lg flex items-center justify-center font-black text-xs ${i === 0 ? 'bg-purple-500 text-white' : 'bg-slate-800 text-slate-500 group-hover:text-purple-400'}`}>\n                             {i+1}\n                          </div>\n                          <div className=\"flex-1\">\n                             <div className=\"text-sm font-bold text-slate-300 group-hover:text-white transition-colors\">{level}</div>\n                             <div className=\"h-1 bg-slate-800 rounded-full mt-2 overflow-hidden\">\n                                <div className=\"h-full bg-purple-500 w-0 group-hover:w-full transition-all duration-700\" />\n                             </div>\n                          </div>\n                          <div className=\"opacity-0 group-hover:opacity-100 transition-opacity\">\n                              <div className=\"w-6 h-6 rounded bg-purple-500/20 flex items-center justify-center text-purple-400\">\n                                  +\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n               ))}\n               <div className=\"mt-6 p-4 rounded-2xl bg-black/40 border border-dashed border-slate-700 text-center\">\n                   <p className=\"text-[10px] text-slate-500 uppercase tracking-widest font-bold\">Drag evidence here to map intent</p>\n               </div>\n            </div>\n        </div>\n      </section>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        <div className=\"space-y-6\">\n           <section className=\"glass-panel p-8 rounded-3xl space-y-6\">\n              <h2 className=\"text-xl font-bold flex items-center gap-2\">\n                 <ShieldAlert className=\"w-5 h-5 text-rose-400\" /> Money Laundering Stages\n              </h2>\n              <div className=\"space-y-4\">\n                 {[\n                   { stage: 'Placement', definition: 'Introducing illicit project funds into the formal banking system (BCA/Mandiri accounts).' },\n                   { stage: 'Layering', definition: 'Concealing the source by moving funds through family aliases (Faldi, Ema) and using \"Tipex\" redactions.' },\n                   { stage: 'Integration', definition: 'Re-introducing \"clean\" money via personal luxury purchases or fake loan returns.' },\n                 ].map(s => (\n                   <div key={s.stage} className=\"p-4 rounded-2xl bg-white/5 border border-white/5\">\n                      <div className=\"font-bold text-blue-400 text-sm uppercase tracking-widest\">{s.stage}</div>\n                      <p className=\"text-sm text-slate-400 mt-1\">{s.definition}</p>\n                   </div>\n                 ))}\n              </div>\n           </section>\n\n           <div className=\"p-8 rounded-3xl bg-blue-600/10 border border-blue-500/30 italic text-sm text-blue-100 flex gap-4 pr-12\">\n              <BookOpen className=\"w-12 h-12 text-blue-400 shrink-0\" />\n               &quot;Under Law No. 8 of 2010, the systematic transfer of corporate funds to family members without valid commercial justification constitutes prima facie evidence of Layering.&quot;\n           </div>\n        </div>\n\n        <div className=\"space-y-6\">\n           <h2 className=\"text-xl font-bold flex items-center gap-2\">\n              <Scale className=\"w-5 h-5 text-indigo-400\" /> Statutes & Regulations\n           </h2>\n           {laws.map(law => (\n             <div key={law.title} className=\"glass-panel p-6 rounded-3xl border border-white/5 hover:border-white/10 transition-all\">\n                <div className=\"flex justify-between items-start mb-2\">\n                   <h3 className=\"font-bold text-white\">{law.title}</h3>\n                   <span className=\"text-[10px] px-2 py-0.5 rounded bg-slate-800 text-slate-400 font-bold uppercase\">{law.status}</span>\n                </div>\n                <p className=\"text-sm text-slate-400 leading-relaxed mb-4\">{law.description}</p>\n                <button className=\"text-[10px] font-black text-blue-400 uppercase tracking-widest flex items-center gap-1 hover:underline\">\n                  Full text archive <ExternalLink className=\"w-2.5 h-2.5\" />\n                </button>\n             </div>\n           ))}\n\n           {/* New Workflow Checklist */}\n           <div className=\"glass-panel p-8 rounded-[2.5rem] border border-emerald-500/20 bg-emerald-500/5\">\n              <h2 className=\"text-lg font-black text-white flex items-center gap-3 uppercase tracking-tight mb-6\">\n                  <ShieldAlert className=\"w-5 h-5 text-emerald-500\" /> Adjudication Workflow\n              </h2>\n              <div className=\"space-y-4\">\n                  {[\n                    { id: 'kyc', label: '1. KYC & Identity Verification', desc: 'Confirm person of interest exists in AHU/KPT registry.' },\n                    { id: 'ubo', label: '2. UBO Chain Reconstruction', desc: 'Map shell companies back to ultimate individual.' },\n                    { id: 'redaction', label: '3. Redaction (Tipex) Analysis', desc: 'Verify voucher integrity for all suspect vouchers.' },\n                    { id: 'dossier', label: '4. Case File Compilation', desc: 'Export court-ready dossier for law enforcement submission.' },\n                  ].map((item) => {\n                    const isCompleted = completedSteps.includes(item.id);\n                    return (\n                      <div \n                        key={item.id} \n                        onClick={() => toggleStep(item.id)}\n                        className={`flex items-start gap-4 p-4 rounded-2xl transition-all cursor-pointer border ${\n                          isCompleted \n                            ? 'bg-emerald-500/10 border-emerald-500/30' \n                            : 'bg-black/20 border-white/5 hover:border-emerald-500/40'\n                        }`}\n                      >\n                          <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 mt-0.5 transition-colors ${\n                             isCompleted ? 'border-emerald-500 bg-emerald-500' : 'border-slate-700'\n                          }`}>\n                              {isCompleted && <div className=\"w-2 h-2 rounded-full bg-white\" />}\n                          </div>\n                          <div>\n                              <div className={`text-xs font-black uppercase tracking-tight ${isCompleted ? 'text-emerald-400' : 'text-white'}`}>\n                                {item.label}\n                              </div>\n                              <div className=\"text-[10px] text-slate-500 mt-1 font-bold italic\">{item.desc}</div>\n                          </div>\n                      </div>\n                    );\n                  })}\n              </div>\n           </div>\n        </div>\n      </div>\n      \n      <div className=\"flex justify-center py-8\">\n         <button \n           onClick={() => window.location.href = '/forensic/analytics'}\n           className=\"text-slate-500 hover:text-white text-sm transition-colors font-mono\"\n         >\n           ./back_to_analytics\n         </button>\n        </div>\n      </div>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/legal/screening/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Hash' is defined but never used.","line":7,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Hash"},"fix":{"range":[142,148],"text":""},"desc":"Remove unused variable \"Hash\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { \n    ShieldAlert, Search, Globe, \n    CheckCircle, AlertOctagon, \n    Loader2, Hash, FileText \n} from 'lucide-react';\nimport { API_URL } from '@/utils/constants';\n\ninterface ScreeningResult {\n    entity: string;\n    screened_at: string;\n    risk_score: number;\n    status: 'CLEAR' | 'BLOCKED' | 'REVIEW_REQUIRED';\n    sources_checked: string[];\n    matches: {\n        list: string;\n        entry: string;\n        program: string;\n        similarity: number;\n    }[];\n}\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\n\nexport default function SanctionScreeningPage() {\n    const { activeProjectId } = useProject();\n    const [entityName, setEntityName] = useState('');\n    const [isScreening, setIsScreening] = useState(false);\n    const [result, setResult] = useState<ScreeningResult | null>(null);\n\n    const handleScreen = async () => {\n        if (!entityName) return;\n        setIsScreening(true);\n        setResult(null);\n        try {\n            const res = await fetch(`${API_URL}/api/v1/legal/screen/${encodeURIComponent(entityName)}${activeProjectId ? `?project_id=${activeProjectId}` : ''}`);\n            if (res.ok) {\n                const data = await res.json();\n                setTimeout(() => {\n                    setResult(data);\n                    setIsScreening(false);\n                }, 1200);\n            } else {\n                setIsScreening(false);\n            }\n        } catch (e) {\n            console.error(e);\n            setIsScreening(false);\n        }\n    };\n\n    return (\n        <ForensicPageLayout\n            title=\"Global Sanction Monitor\"\n            subtitle=\"Live Watchlist Feed // AML Compliance Matrix\"\n            icon={ShieldAlert}\n            headerActions={\n                <div className=\"flex items-center gap-3\">\n                    <span className=\"text-[10px] bg-rose-500/10 text-rose-400 px-3 py-1.5 rounded-xl border border-rose-500/20 font-black uppercase tracking-widest\">Active Intelligence Feed</span>\n                </div>\n            }\n        >\n            <div className=\"flex-1 overflow-auto custom-scrollbar p-10 flex gap-10 h-full\">\n                \n                {/* Search Panel */}\n                <div className=\"w-[480px] flex flex-col gap-6 shrink-0 h-full\">\n                    <div className=\"p-10 rounded-[2.5rem] bg-slate-900/40 border border-white/5 backdrop-blur-md\">\n                        <h2 className=\"text-sm font-black text-white uppercase tracking-widest mb-8 flex items-center gap-3\">\n                            <Search className=\"w-4 h-4 text-rose-400\" /> Screening Parameters\n                        </h2>\n                        \n                        <div className=\"space-y-6\">\n                            <div className=\"space-y-2\">\n                                <label className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Entity Name / Tax ID</label>\n                                <div className=\"relative\">\n                                    <input \n                                        type=\"text\" \n                                        value={entityName}\n                                        onChange={(e) => setEntityName(e.target.value)}\n                                        placeholder=\"e.g. PT. Global Mega Corp\"\n                                        className=\"w-full bg-slate-950 border border-white/10 rounded-2xl pl-12 pr-4 py-4 text-sm font-bold text-white focus:border-rose-500 transition-colors outline-none\"\n                                        onKeyDown={(e) => e.key === 'Enter' && handleScreen()}\n                                    />\n                                    <Globe className=\"w-5 h-5 text-slate-600 absolute left-4 top-1/2 -translate-y-1/2\" />\n                                </div>\n                            </div>\n\n                            <button\n                                onClick={handleScreen}\n                                disabled={isScreening || !entityName}\n                                className=\"w-full py-5 bg-white text-slate-950 hover:bg-rose-50 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl shadow-rose-900/10 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3\"\n                            >\n                                {isScreening ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <ShieldAlert className=\"w-4 h-4 text-rose-600\" />}\n                                {isScreening ? 'Scanning Databases...' : 'Run Compliance Check'}\n                            </button>\n                        </div>\n                    </div>\n\n                    <div className=\"p-8 rounded-[2.5rem] bg-rose-500/5 border border-rose-500/10\">\n                         <h3 className=\"text-[10px] font-black text-rose-400 uppercase tracking-widest mb-4 ml-1\">Active Watchlists</h3>\n                         <div className=\"grid grid-cols-2 gap-4\">\n                             {['OFAC SDN', 'UN Consolidated', 'Interpol Red', 'EU Financial Sanctions', 'UK HMT', 'AUSTRAC'].map(item => (\n                                 <div key={item} className=\"flex items-center gap-2 text-[10px] font-bold text-slate-400 bg-slate-900/50 px-3 py-2.5 rounded-xl border border-white/5\">\n                                     <div className=\"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse\" /> {item}\n                                 </div>\n                             ))}\n                         </div>\n                    </div>\n                </div>\n\n                {/* Results Area */}\n                <div className=\"flex-1 rounded-[3rem] bg-slate-900/40 border border-white/5 relative overflow-hidden flex flex-col h-full\">\n                    {result ? (\n                        <div className=\"flex-1 p-10 flex flex-col animate-in slide-in-from-bottom-4 duration-500 overflow-y-auto custom-scrollbar\">\n                            <div className=\"flex items-center justify-between mb-8 pb-8 border-b border-white/5\">\n                                <div className=\"flex items-center gap-6\">\n                                    <div className={`w-16 h-16 rounded-[1.5rem] flex items-center justify-center border ${\n                                        result.status === 'BLOCKED' ? 'bg-rose-500/20 border-rose-500 text-rose-500' :\n                                        result.status === 'REVIEW_REQUIRED' ? 'bg-amber-500/20 border-amber-500 text-amber-500' :\n                                        'bg-emerald-500/20 border-emerald-500 text-emerald-500'\n                                    }`}>\n                                        {result.status === 'BLOCKED' ? <AlertOctagon className=\"w-8 h-8\" /> : \n                                         result.status === 'REVIEW_REQUIRED' ? <ShieldAlert className=\"w-8 h-8\" /> : \n                                         <CheckCircle className=\"w-8 h-8\" />}\n                                    </div>\n                                    <div>\n                                        <h2 className=\"text-2xl font-black text-white uppercase tracking-tight\">{result.entity}</h2>\n                                        <p className=\"text-[10px] text-slate-500 font-black uppercase tracking-widest mt-1\">\n                                            Risk Score: <span className={result.risk_score > 50 ? 'text-rose-400' : 'text-emerald-400'}>{result.risk_score}/100</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div className={`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.2em] border ${\n                                    result.status === 'BLOCKED' ? 'bg-rose-500/10 border-rose-500/30 text-rose-500' :\n                                    result.status === 'REVIEW_REQUIRED' ? 'bg-amber-500/10 border-amber-500/30 text-amber-500' :\n                                    'bg-emerald-500/10 border-emerald-500/30 text-emerald-500'\n                                }`}>\n                                    Status: {result.status.replace('_', ' ')}\n                                </div>\n                            </div>\n\n                            {result.matches.length > 0 ? (\n                                <div className=\"space-y-4\">\n                                    <h3 className=\"text-xs font-black text-rose-400 uppercase tracking-widest mb-4 flex items-center gap-2\">\n                                        <AlertOctagon className=\"w-4 h-4\" /> Positive Hits Detected ({result.matches.length})\n                                    </h3>\n                                    {result.matches.map((match, i) => (\n                                        <div key={i} className=\"p-6 rounded-2xl bg-rose-500/5 border border-rose-500/20 hover:bg-rose-500/10 transition-colors\">\n                                            <div className=\"flex justify-between items-start mb-4\">\n                                                <div className=\"flex items-center gap-3\">\n                                                    <span className=\"text-[10px] bg-rose-500 text-white px-2 py-0.5 rounded font-black uppercase tracking-wider\">{match.list}</span>\n                                                    <span className=\"text-[10px] font-bold text-rose-300 uppercase tracking-widest\">Similarity: {(match.similarity * 100).toFixed(0)}%</span>\n                                                </div>\n                                            </div>\n                                            <div className=\"flex gap-10\">\n                                                <div>\n                                                    <p className=\"text-[9px] font-bold text-slate-500 uppercase tracking-widest mb-1\">Matched Entry</p>\n                                                    <p className=\"text-sm font-bold text-white font-mono\">{match.entry}</p>\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[9px] font-bold text-slate-500 uppercase tracking-widest mb-1\">Sanction Program</p>\n                                                    <p className=\"text-sm font-bold text-white\">{match.program}</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <div className=\"flex-1 flex flex-col items-center justify-center p-10 text-center opacity-60 h-full\">\n                                    <CheckCircle className=\"w-20 h-20 text-emerald-500 mb-6\" />\n                                    <h3 className=\"text-lg font-black text-white uppercase tracking-widest\">No Sanctions Found</h3>\n                                    <p className=\"text-xs text-slate-500 font-bold max-w-sm mt-4 leading-relaxed\">\n                                        No matches found in OFAC, UN, or Interpol databases. Entity appears clean based on current intelligence.\n                                    </p>\n                                </div>\n                            )}\n\n                            <div className=\"mt-8 pt-8 border-t border-white/5 flex justify-between items-center text-[10px] font-mono text-slate-600 font-black uppercase tracking-widest\">\n                                <span>REF: {new Date().getTime().toString(16).toUpperCase()}</span>\n                                \n                                <button className=\"flex items-center gap-2 hover:text-white transition-colors\">\n                                    <FileText className=\"w-3 h-3\" /> Export Compliance Certificate\n                                </button>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"flex-1 flex flex-col items-center justify-center text-center\">\n                            {isScreening ? (\n                                <div className=\"flex flex-col items-center\">\n                                    <div className=\"w-24 h-24 border-4 border-rose-500/30 border-t-rose-500 rounded-full animate-spin mb-8\" />\n                                    <h3 className=\"text-xl font-black text-white uppercase tracking-widest animate-pulse\">Running Global Cross-Check...</h3>\n                                </div>\n                            ) : (\n                                <div className=\"opacity-30\">\n                                    <Globe className=\"w-24 h-24 text-slate-600 mb-6 mx-auto\" />\n                                    <h3 className=\"text-lg font-black text-slate-500 uppercase tracking-widest\">Global Watchlist Feed</h3>\n                                    <p className=\"text-xs font-bold text-slate-600 uppercase tracking-widest mt-2\">Enter entity details to begin</p>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </ForensicPageLayout>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/login/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/reconciliation/ReconciliationWorkspace.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle2' is defined but never used.","line":7,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CheckCircle2"},"fix":{"range":[182,199],"text":""},"desc":"Remove unused variable \"CheckCircle2\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTriangle' is defined but never used.","line":7,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertTriangle"},"fix":{"range":[199,214],"text":""},"desc":"Remove unused variable \"AlertTriangle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":7,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":51,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[227,235],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":8,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[235,245],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Info' is defined but never used.","line":8,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Info"},"fix":{"range":[245,251],"text":""},"desc":"Remove unused variable \"Info\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":8,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[257,271],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calculator' is defined but never used.","line":8,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":47,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Calculator"},"fix":{"range":[271,283],"text":""},"desc":"Remove unused variable \"Calculator\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Map' is defined but never used.","line":9,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Map"},"fix":{"range":[316,321],"text":""},"desc":"Remove unused variable \"Map\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":34,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'count' is assigned a value but never used.","line":116,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":116,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Building2, Landmark, ArrowRightLeft, Settings2, \n  CheckCircle2, AlertTriangle, ShieldCheck, Search,\n  Filter, Info, Save, ChevronRight, Calculator,\n  Activity, Clock, Percent, Zap, Map\n} from 'lucide-react';\n\nimport { useProject } from '@/store/useProject';\nimport { useForensicNotifications } from '@/components/ForensicNotificationProvider';\nimport { API_ROUTES } from '@/services/apiRoutes';\n\nimport { BankRecord, ExpenseRecord, Match, ReconciliationSettings } from '@/types/domain';\nimport { RecordCard } from './components/RecordCard';\nimport { ConfigSlider } from './components/ConfigSlider';\nimport { TopMetric } from './components/TopMetric';\n\nexport default function ReconciliationWorkspace() {\n    const { activeProjectId } = useProject();\n    const notifications = useForensicNotifications();\n    const [bankRecords, setBankRecords] = useState<BankRecord[]>([]);\n    const [expenseRecords, setExpenseRecords] = useState<ExpenseRecord[]>([]);\n    const [matches, setMatches] = useState<Match[]>([]);\n    const [settings, setSettings] = useState<ReconciliationSettings>({\n        clearing_window_days: 7,\n        amount_tolerance_percent: 0.5,\n        batch_window_days: 10,\n        auto_confirm_threshold: 0.98\n    });\n    const [showSettings, setShowSettings] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [hoveredMatch, setHoveredMatch] = useState<string | null>(null);\n\n    // Optimization: Memoize Set lookups for O(1) access\n    const matchedBankIds = React.useMemo(() => new Set(matches.map(m => m.bank_tx_id)), [matches]);\n    const matchedInternalIds = React.useMemo(() => new Set(matches.map(m => m.internal_tx_id)), [matches]);\n\n    useEffect(() => {\n        if (!activeProjectId) return;\n        const loadWorkspace = async () => {\n            setIsLoading(true);\n            try {\n                // Fetch settings\n                const settingsRes = await fetch(API_ROUTES.RECONCILIATION.SETTINGS(activeProjectId));\n                if (settingsRes.ok) setSettings(await settingsRes.json());\n\n                // Fetch data\n                const [bankRes, expRes, matchRes] = await Promise.all([\n                    fetch(`${API_ROUTES.RECONCILIATION.BANK}?project_id=${activeProjectId}`),\n                    fetch(`${API_ROUTES.RECONCILIATION.INTERNAL}?project_id=${activeProjectId}`),\n                    fetch(`${API_ROUTES.RECONCILIATION.SUGGESTED_MATCHES}?project_id=${activeProjectId}`)\n                ]);\n\n                if (bankRes.ok) setBankRecords(await bankRes.json());\n                if (expRes.ok) setExpenseRecords(await expRes.json());\n                if (matchRes.ok) setMatches(await matchRes.json());\n            } catch (err) {\n                console.error(\"Failed to load workspace\", err);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        loadWorkspace();\n    }, [activeProjectId]);\n\n    const handleSaveSettings = async () => {\n        try {\n            const res = await fetch(API_ROUTES.RECONCILIATION.SETTINGS(), {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ ...settings, project_id: activeProjectId })\n            });\n            if (res.ok) {\n                setShowSettings(false);\n                // Refresh matches with new settings\n                const matchRes = await fetch(`${API_ROUTES.RECONCILIATION.SUGGESTED_MATCHES}?project_id=${activeProjectId}`);\n                if (matchRes.ok) setMatches(await matchRes.json());\n            }\n        } catch (err) {\n            console.error(\"Save failed\", err);\n        }\n    };\n\n    return (\n        <div className=\"min-h-[80vh] bg-[#020617] text-slate-300 font-sans overflow-hidden flex flex-col rounded-3xl border border-white/10 shadow-3xl\">\n            {/* Contextual Stats Bar instead of Full Nav */}\n            <div className=\"h-16 border-b border-white/5 bg-slate-950/50 backdrop-blur-xl flex items-center justify-between px-10 shrink-0 z-50\">\n                <div className=\"flex items-center gap-8\">\n                    <div className=\"p-3 bg-indigo-500/10 rounded-2xl border border-indigo-500/20\">\n                        <ArrowRightLeft className=\"w-6 h-6 text-indigo-500\" />\n                    </div>\n                    <div>\n                        <h1 className=\"text-xl font-black text-white italic tracking-tighter uppercase leading-none\">FORENSIC_CONSENSUS_HUB</h1>\n                        <p className=\"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mt-1 italic\">Handshake Integrity: <span className=\"text-emerald-500\">OPTIMAL</span></p>\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-10\">\n                    <div className=\"flex gap-8\">\n                        <TopMetric label=\"Direct Matches\" val={matches.filter(m => m.match_type === 'direct').length} />\n                        <TopMetric label=\"Aggregated\" val={matches.filter(m => m.match_type === 'aggregate').length} />\n                        <TopMetric label=\"Discrepancies\" val={bankRecords.length - matchedBankIds.size} danger />\n                    </div>\n                    \n                    <div className=\"w-px h-10 bg-white/5\" />\n\n                    {/* Auto-Confirm Button */}\n                    {matches.some(m => m.ai_reasoning?.includes('AUTO_OK')) && (\n                        <button \n                            onClick={async () => {\n                                try {\n                                    const count = matches.filter(m => m.ai_reasoning?.includes('AUTO_OK')).length;\n                                    const res = await fetch(API_ROUTES.RECONCILIATION.AUTO_CONFIRM, { method: 'POST' });\n                                    const data = await res.json();\n                                    \n                                    if (res.ok) {\n                                        notifications.success(\n                                            \"AUTO-CONFIRMATION COMPLETE\", \n                                            `${data.auto_confirmed} matches confirmed. ${data.flagged_for_review} flagged for review.`\n                                        );\n                                        // Refresh matches\n                                        const matchRes = await fetch(API_ROUTES.RECONCILIATION.SUGGESTED_MATCHES);\n                                        if (matchRes.ok) setMatches(await matchRes.json());\n                                    } else {\n                                        throw new Error(data.message);\n                                    }\n                                } catch (err) {\n                                    notifications.error(\"EXECUTION FAILED\", \"Auto-confirmation sequence was interrupted.\");\n                                    console.error(err);\n                                }\n                            }}\n                            className=\"flex items-center gap-3 bg-emerald-500/10 hover:bg-emerald-500/20 px-6 py-2.5 rounded-xl border border-emerald-500/20 transition-all group\"\n                        >\n                            <ShieldCheck className=\"w-4 h-4 text-emerald-500 group-hover:scale-110 transition-transform duration-300\" />\n                            <span className=\"text-xs font-black uppercase tracking-widest text-emerald-400 italic\">\n                                Auto-Confirm ({matches.filter(m => m.ai_reasoning?.includes('AUTO_OK')).length})\n                            </span>\n                        </button>\n                    )}\n\n                    <button \n                        onClick={() => setShowSettings(true)}\n                        className=\"flex items-center gap-3 bg-slate-900 hover:bg-slate-800 px-6 py-2.5 rounded-xl border border-white/10 transition-all group\"\n                    >\n                        <Settings2 className=\"w-4 h-4 text-slate-400 group-hover:rotate-90 transition-transform duration-500\" />\n                        <span className=\"text-xs font-black uppercase tracking-widest text-white italic\">Engine Config</span>\n                    </button>\n                </div>\n            </div>\n\n            {/* Main Workspace: SIDE-BY-SIDE */}\n            <main className=\"flex-1 flex overflow-hidden relative\">\n                {/* Background Grid Pattern */}\n                <div className=\"absolute inset-0 opacity-[0.02] pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] bg-repeat\" />\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(79,70,229,0.05),transparent_50%)] pointer-events-none\" />\n\n                {/* Left: BANK TRUTH */}\n                <section className=\"flex-1 border-r border-white/5 flex flex-col\">\n                    <div className=\"p-6 bg-slate-900/20 border-b border-white/5 flex items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                            <Landmark className=\"w-5 h-5 text-indigo-400\" />\n                            <h2 className=\"text-sm font-black text-white italic tracking-widest uppercase\">BANK_STATEMENT_TRUTH</h2>\n                        </div>\n                        <span className=\"text-[9px] font-bold text-indigo-400 opacity-50 uppercase tracking-[0.3em]\">Source: Digital Export</span>\n                    </div>\n                    \n                    <div className=\"flex-1 overflow-y-auto no-scrollbar p-6 space-y-4\">\n                        {bankRecords.map(record => (\n                            <RecordCard \n                                key={record.id}\n                                id={record.id}\n                                date={record.booking_date || record.timestamp}\n                                desc={record.description}\n                                amount={record.amount}\n                                isMatched={matchedBankIds.has(record.id)}\n                                isTruth\n                                matches={matches}\n                                onHoverMatch={setHoveredMatch}\n                                hoveredMatchId={hoveredMatch}\n                            />\n                        ))}\n                    </div>\n                </section>\n\n                {/* Center: Connectors (Visual Only) */}\n                <div className=\"w-12 flex flex-col items-center justify-center opacity-20 pointer-events-none\">\n                    <div className=\"w-px h-full bg-gradient-to-b from-indigo-500/0 via-indigo-500/50 to-indigo-500/0\" />\n                </div>\n\n                {/* Right: JOURNAL CLAIMS */}\n                <section className=\"flex-1 flex flex-col\">\n                    <div className=\"p-6 bg-slate-900/20 border-b border-white/5 flex items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                            <Building2 className=\"w-5 h-5 text-amber-400\" />\n                            <h2 className=\"text-sm font-black text-white italic tracking-widest uppercase\">EXPENSES_JOURNAL_CLAIM</h2>\n                        </div>\n                        <span className=\"text-[9px] font-bold text-amber-400 opacity-50 uppercase tracking-[0.3em]\">Source: Internal Ledger</span>\n                    </div>\n\n                    <div className=\"flex-1 overflow-y-auto no-scrollbar p-6 space-y-4\">\n                        {expenseRecords.map(record => (\n                            <RecordCard \n                                key={record.id}\n                                id={record.id}\n                                date={record.transaction_date}\n                                desc={record.description}\n                                amount={record.actual_amount}\n                                isMatched={matchedInternalIds.has(record.id)}\n                                matches={matches}\n                                onHoverMatch={setHoveredMatch}\n                                hoveredMatchId={hoveredMatch}\n                                riskDescription={record.mens_rea_description}\n                            />\n                        ))}\n                    </div>\n                </section>\n            </main>\n\n            {/* Settings Overlay */}\n            <AnimatePresence>\n                {showSettings && (\n                    <>\n                        <motion.div \n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0 }}\n                            onClick={() => setShowSettings(false)}\n                            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]\"\n                        />\n                        <motion.div \n                            initial={{ x: '100%' }}\n                            animate={{ x: 0 }}\n                            exit={{ x: '100%' }}\n                            transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n                            className=\"fixed right-0 top-0 bottom-0 w-[400px] bg-slate-900 border-l border-white/10 p-10 z-[101] shadow-2xl flex flex-col\"\n                        >\n                            <div className=\"mb-10 flex items-center justify-between\">\n                                <h2 className=\"text-2xl font-black text-white italic flex items-center gap-3\">\n                                    <Zap className=\"w-6 h-6 text-indigo-500\" /> HUB_CONFIG\n                                </h2>\n                                <button onClick={() => setShowSettings(false)} className=\"text-slate-500 hover:text-white transition-colors\">\n                                    <Settings2 className=\"w-5 h-5\" />\n                                </button>\n                            </div>\n\n                            <div className=\"space-y-10 flex-1 overflow-y-auto no-scrollbar pr-4\">\n                                <ConfigSlider \n                                    icon={<Clock className=\"w-4 h-4\" />}\n                                    label=\"Clearing Window\" \n                                    sub=\"Max days for bank clearing lag\"\n                                    val={settings.clearing_window_days} \n                                    min={1} max={30} unit=\"Days\"\n                                    onChange={(v: number) => setSettings(prev => ({ ...prev, clearing_window_days: v }))}\n                                />\n                                <ConfigSlider \n                                    icon={<Percent className=\"w-4 h-4\" />}\n                                    label=\"Amount Tolerance\" \n                                    sub=\"Allowed % variance for fees\"\n                                    val={settings.amount_tolerance_percent} \n                                    min={0} max={5} step={0.1} unit=\"%\"\n                                    onChange={(v: number) => setSettings(prev => ({ ...prev, amount_tolerance_percent: v }))}\n                                />\n                                <ConfigSlider \n                                    icon={<Activity className=\"w-4 h-4\" />}\n                                    label=\"Batch Window\" \n                                    sub=\"Max lookback for aggregate groups\"\n                                    val={settings.batch_window_days} \n                                    min={1} max={60} unit=\"Days\"\n                                    onChange={(v: number) => setSettings(prev => ({ ...prev, batch_window_days: v }))}\n                                />\n                                <ConfigSlider \n                                    icon={<ShieldCheck className=\"w-4 h-4\" />}\n                                    label=\"Auto-Confirm Score\" \n                                    sub=\"Confidence required for automation\"\n                                    val={settings.auto_confirm_threshold * 100} \n                                    min={80} max={100} unit=\"%\"\n                                    onChange={(v: number) => setSettings(prev => ({ ...prev, auto_confirm_threshold: v / 100 }))}\n                                />\n                            </div>\n\n                            <button \n                                onClick={handleSaveSettings}\n                                className=\"mt-10 w-full py-4 bg-indigo-600 hover:bg-indigo-500 rounded-2xl text-white font-black italic uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(79,70,229,0.3)] hover:shadow-indigo-500/50\"\n                            >\n                                <Save className=\"w-5 h-5\" /> Calibrate Engine\n                            </button>\n                        </motion.div>\n                    </>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/reconciliation/components/ConfigSlider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/reconciliation/components/RecordCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/reconciliation/components/TopMetric.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/reconciliation/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activeProjectId' is assigned a value but never used.","line":12,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport ReconciliationWorkspace from './ReconciliationWorkspace';\nimport UploadEvidence from '@/components/UploadEvidence';\n\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport { ShieldAlert, BookOpen } from 'lucide-react';\n\nexport default function ReconciliationPage() {\n  const { activeProjectId } = useProject();\n\n  return (\n    <ForensicPageLayout\n        title=\"Reconciliation\"\n        subtitle=\"Automated Ledger vs Evidence Sync\"\n        icon={ShieldAlert}\n        headerActions={\n            <div className=\"flex items-center gap-4\">\n                 <button className=\"bg-slate-900 border border-white/5 rounded-2xl px-6 py-3 flex items-center gap-3 hover:bg-white/5 transition-all text-[10px] font-black uppercase tracking-widest text-indigo-400\">\n                    <BookOpen className=\"w-4 h-4\" /> Policy Guidelines\n                 </button>\n            </div>\n        }\n    >\n        <div className=\"h-full overflow-y-auto custom-scrollbar p-8 space-y-12\">\n            <ReconciliationWorkspace />\n            \n            <div className=\"max-w-7xl mx-auto pb-20\">\n                <div className=\"bg-slate-900/50 rounded-3xl p-8 border border-slate-800\">\n                <div className=\"mb-8\">\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Multimodal Context Library</h2>\n                    <p className=\"text-slate-400\">Add supporting evidence to resolve complex reconciliation discrepancies via RAG.</p>\n                </div>\n                \n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                    <UploadEvidence />\n                    \n                    <div className=\"glass-panel p-6 rounded-2xl flex flex-col justify-center items-center text-center space-y-4\">\n                    <div className=\"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center\">\n                        <div className=\"w-8 h-8 border-2 border-blue-500/40 rounded border-dashed animate-spin\"></div>\n                    </div>\n                    <div>\n                        <h4 className=\"font-semibold text-slate-200\">Retrieval Augmented Matching</h4>\n                        <p className=\"text-sm text-slate-500 mt-2\">The system is ready to cross-reference your uploaded PDF statements and chat exports with the ledger gaps shown above.</p>\n                    </div>\n                    <button className=\"text-blue-400 text-sm font-bold hover:underline\">View AI Reasoning Logs</button>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n    </ForensicPageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/settings/security/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/simulation/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShieldAlert' is defined but never used.","line":8,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ShieldAlert"},"fix":{"range":[242,260],"text":""},"desc":"Remove unused variable \"ShieldAlert\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":8,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Globe"},"fix":{"range":[260,267],"text":""},"desc":"Remove unused variable \"Globe\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Crosshair' is defined but never used.","line":8,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Crosshair"},"fix":{"range":[267,278],"text":""},"desc":"Remove unused variable \"Crosshair\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lock' is defined but never used.","line":9,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":9,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Lock"},"fix":{"range":[278,289],"text":""},"desc":"Remove unused variable \"Lock\"."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/app/simulation/page.tsx:92:13\n  90 |         if (step > 0 && step <= SCENARIO_MEMO.length) {\n  91 |             const current = SCENARIO_MEMO[step - 1];\n> 92 |             addLog(`[SYSTEM_EVENT] ${current.desc}`);\n     |             ^^^^^^ Avoid calling setState() directly within an effect\n  93 |             \n  94 |             // Publish forensic event\n  95 |             if (current.eventType) {","line":92,"column":13,"nodeType":null,"endLine":92,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useProject } from '@/store/useProject';\nimport ForensicPageLayout from '@/app/components/ForensicPageLayout';\nimport { \n    AlertTriangle, Play, ChevronRight, \n    ShieldAlert, Globe, Crosshair, \n    Lock, CheckCircle, RefreshCw, Terminal as TerminalIcon\n} from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport { forensicBus } from '@/lib/ForensicEventBus';\n\nconst SCENARIO_DATA = [\n    {\n        title: \"Phase 1: Anomaly Detection\",\n        desc: \"System detects 45% budget burn with only 12% reported physical progress.\",\n        action: \"Analyze Risk Predictions\",\n        target: \"/forensic/analytics/predictive\",\n        delay: 1000,\n        eventType: 'PROJECT_STALLED' as const,\n        eventPayload: { \n            projectId: \"ZENITH-001\", \n            projectName: \"Project Zenith Foundation\", \n            stallReason: \"Budget/Progress Mismatch\", \n            daysStalled: 14 \n        }\n    },\n    {\n        title: \"Phase 2: Entity Identification\",\n        desc: \"High-risk vendor 'CV. BINTANG TIMUR' identified in ledger.\",\n        action: \"Run Sanction Screening\",\n        target: \"/legal/screening\",\n        delay: 3000,\n        eventType: 'VENDOR_SUSPICIOUS' as const,\n        eventPayload: { \n            vendorId: \"V-992\", \n            vendorName: \"CV. BINTANG TIMUR\", \n            flags: [\"SANCTION_WATCHLIST\", \"OWNERSHIP_OBSCURITY\"], \n            riskLevel: 'CRITICAL' as const \n        }\n    },\n    {\n        title: \"Phase 3: Verification\",\n        desc: \"Vendor claims 'Foundation Complete'. Satellite data required.\",\n        action: \"Launch Satellite Verification\",\n        target: \"/forensic/satellite\",\n        delay: 5000,\n        eventType: 'SATELLITE_DISCREPANCY' as const,\n        eventPayload: { \n            location: { lat: -6.2088, lng: 106.8456 }, \n            expectedValue: 100, \n            actualValue: 15, \n            discrepancyType: \"Structural Absence\" \n        }\n    },\n    {\n        title: \"Phase 4: Asset Recovery\",\n        desc: \"Funds diverted to shell company. Initiation of asset tracing.\",\n        action: \"Trace Assets\",\n        target: \"/forensic/recovery\",\n        delay: 7000,\n        eventType: 'OFFSHORE_TRANSFER' as const,\n        eventPayload: { \n            transferId: \"TRX-8821\", \n            amount: 350000000, \n            origin: \"Primary Project Account\", \n            destination: \"GLOBAL HOLDINGS LTD (BVI)\", \n            flagged: true \n        }\n    }\n];\n\nexport default function SimulationLabPage() {\n    const { activeProjectId } = useProject();\n    void activeProjectId;\n    const router = useRouter();\n    const [step, setStep] = useState(0);\n    const [logs, setLogs] = useState<string[]>([]);\n    const { startInvestigation, addAction } = useInvestigation();\n\n    const addLog = React.useCallback((msg: string) => {\n        setLogs(prev => [`${new Date().toLocaleTimeString()} > ${msg}`, ...prev]);\n    }, []);\n\n    const SCENARIO_MEMO = useMemo(() => SCENARIO_DATA, []);\n\n    useEffect(() => {\n        if (step > 0 && step <= SCENARIO_MEMO.length) {\n            const current = SCENARIO_MEMO[step - 1];\n            addLog(`[SYSTEM_EVENT] ${current.desc}`);\n            \n            // Publish forensic event\n            if (current.eventType) {\n                forensicBus.publish(current.eventType, current.eventPayload, 'SimulationLab');\n            }\n        }\n    }, [step, addLog, SCENARIO_MEMO]);\n\n    const runSimulation = () => {\n        setStep(1);\n        addLog(\"INITIALIZING SIMULATION 'OP-RED-SKY'...\");\n        \n        // Start an investigation session\n        startInvestigation(\"Operation Red Sky - Training Simulation\", {\n            projectId: \"ZENITH-001\"\n        });\n        addLog(\"[INVESTIGATION_STARTED] Session created\");\n    };\n\n    const handleAction = (target: string, nextStep: number, toolName: string) => {\n        // Log the action to the investigation\n        addAction({\n            action: `Navigated to ${toolName}`,\n            tool: toolName,\n            result: { simulated: true }\n        });\n        \n        router.push(target);\n    };\n\n    return (\n        <ForensicPageLayout\n            title=\"Simulation Lab\"\n            subtitle=\"Operational Readiness & Scenario Testing\"\n            icon={TerminalIcon}\n            headerActions={\n                <div className=\"flex items-center gap-4\">\n                    <button \n                        onClick={() => { setStep(0); setLogs([]); }}\n                        className=\"p-3 bg-slate-900 border border-white/5 rounded-2xl hover:bg-white/5 transition-all text-slate-500 hover:text-white\"\n                        title=\"Reset Environment\"\n                    >\n                        <RefreshCw className=\"w-5 h-5\" />\n                    </button>\n                    <div className=\"px-6 py-2 rounded-2xl bg-rose-600/10 border border-rose-500/20 text-rose-500 text-[10px] font-black uppercase tracking-widest\">\n                        Status: {step === 0 ? 'READY' : 'IN_PROGRESS'}\n                    </div>\n                </div>\n            }\n        >\n            <div className=\"h-full flex overflow-hidden\">\n                {/* Simulation Controller */}\n                <div className=\"w-1/3 border-r border-white/5 bg-slate-900/40 p-10 flex flex-col overflow-y-auto no-scrollbar\">\n                    {step === 0 ? (\n                        <div className=\"flex-1 flex flex-col justify-center items-center text-center\">\n                            <div className=\"w-24 h-24 bg-rose-500/10 rounded-full flex items-center justify-center animate-pulse mb-8 border border-rose-500/30\">\n                                <AlertTriangle className=\"w-10 h-10 text-rose-500\" />\n                            </div>\n                            <h2 className=\"text-xl font-bold text-white mb-4\">Scenario: &quot;Ghost Foundation&quot;</h2>\n                            <p className=\"text-sm text-slate-400 mb-8 max-w-xs leading-relaxed\">\n                                Simulate a full forensic loop: from initial budget anomaly to satellite verification and asset seizure.\n                            </p>\n                            <button \n                                onClick={runSimulation}\n                                className=\"px-10 py-5 bg-white text-black font-black uppercase tracking-widest rounded-3xl hover:bg-slate-200 transition-all flex items-center gap-4 shadow-2xl active:scale-95\"\n                            >\n                                <Play className=\"w-5 h-5 fill-current\" /> Start Simulation\n                            </button>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-6\">\n                            {SCENARIO_MEMO.map((phase, idx) => (\n                                <div \n                                    key={idx} \n                                    className={`p-8 rounded-3xl border transition-all duration-500 ${\n                                        step === idx + 1 \n                                            ? 'bg-rose-500/10 border-rose-500/50 scale-[1.02] shadow-2xl shadow-rose-900/20' \n                                            : step > idx + 1 \n                                                ? 'bg-slate-900/50 border-white/5 opacity-50'\n                                                : 'bg-transparent border-transparent opacity-30 shadow-none'\n                                    }`}\n                                >\n                                    <div className=\"flex justify-between items-start mb-3\">\n                                        <h3 className={`text-[10px] font-black uppercase tracking-widest ${step === idx + 1 ? 'text-white' : 'text-slate-500'}`}>\n                                            {phase.title}\n                                        </h3>\n                                        {step > idx + 1 && <CheckCircle className=\"w-4 h-4 text-emerald-500\" />}\n                                    </div>\n                                    <p className=\"text-sm font-bold text-slate-300 mb-6 leading-relaxed\">{phase.desc}</p>\n                                    \n                                    {step === idx + 1 && (\n                                        <button \n                                            onClick={() => handleAction(phase.target, idx + 2, phase.action)}\n                                            className=\"w-full py-4 bg-rose-600 hover:bg-rose-500 text-white font-black text-[10px] uppercase tracking-widest rounded-2xl flex items-center justify-center gap-3 animate-pulse shadow-lg shadow-rose-900/40 transition-all\"\n                                        >\n                                            Execute Action <ChevronRight className=\"w-4 h-4\" />\n                                        </button>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* Terminal / Log Output */}\n                <div className=\"flex-1 bg-black/40 backdrop-blur-3xl p-10 font-mono text-xs overflow-auto custom-scrollbar\">\n                    <div className=\"mb-6 flex items-center gap-3 text-emerald-500/60\">\n                        <div className=\"w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_8px_#10b981]\" />\n                        <span className=\"font-bold tracking-[0.2em] font-mono\">ZENITH_KERNEL_LOG // STREAMING</span>\n                    </div>\n                    <div className=\"space-y-3\">\n                        {logs.map((log, i) => (\n                            <div key={i} className=\"text-emerald-500/90 border-l-2 border-emerald-500/20 pl-4 py-1\">\n                                {log}\n                            </div>\n                        ))}\n                        {logs.length === 0 && <span className=\"text-slate-700 italic\">SYSTEM_IDLE: Waiting for trigger...</span>}\n                    </div>\n                </div>\n            </div>\n        </ForensicPageLayout>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/app/test-transaction/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/AuditTimeline.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/DossierGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/EvidenceLocker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/ForensicCopilot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/ForensicGeoMap.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Info' is defined but never used.","line":7,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Info"},"fix":{"range":[275,281],"text":""},"desc":"Remove unused variable \"Info\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4341,4344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4341,4344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport { useForensicNotifications } from '@/components/ForensicNotificationProvider';\nimport { MapPin, Info, ArrowUpRight, PlusCircle, AlertTriangle } from 'lucide-react';\n\nexport interface LeakageHotspot {\n  id: string;\n  location: { lat: number; lng: number; name: string };\n  severity: number; // 0-1\n  value: number; \n  rootCause: string;\n}\n\ninterface ForensicGeoMapProps {\n  hotspots: LeakageHotspot[];\n}\n\nexport default function ForensicGeoMap({ hotspots = [] }: ForensicGeoMapProps) {\n  // Bounds Calculation for Auto-Scaling\n  const lats = hotspots.map(h => h.location.lat);\n  const lngs = hotspots.map(h => h.location.lng);\n  const minLat = Math.min(...lats);\n  const maxLat = Math.max(...lats);\n  const minLng = Math.min(...lngs);\n  const maxLng = Math.max(...lngs);\n  const latSpan = maxLat - minLat || 0.05;\n  const lngSpan = maxLng - minLng || 0.05;\n\n  const [selectedHotspot, setSelectedHotspot] = useState<LeakageHotspot | null>(null);\n  const { startInvestigation, activeInvestigation, addAction } = useInvestigation();\n  const notifications = useForensicNotifications();\n\n  const handleHotspotClick = (hotspot: LeakageHotspot) => {\n    setSelectedHotspot(hotspot);\n  };\n\n  const handleInvestigate = (hotspot: LeakageHotspot) => {\n    // If no active investigation, start one\n    if (!activeInvestigation) {\n      startInvestigation(`Leakage Probe: ${hotspot.location.name}`, {\n        projectId: hotspot.id,\n        hotspotId: hotspot.id,\n        leakageValue: hotspot.value\n      });\n      notifications.info('Investigation Started', `New case opened for ${hotspot.location.name}`);\n    } else {\n        // Add to current\n        addAction({\n          action: `Analyzed leakage hotspot at ${hotspot.location.name}`,\n          tool: 'ForensicGeoMap',\n          result: {\n            hotspotId: hotspot.id,\n            value: hotspot.value,\n            severity: hotspot.severity\n          }\n        });\n        notifications.success('Evidence Added', `Hotspot data added to case #${activeInvestigation.id}`);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-full bg-slate-950/50 rounded-2xl overflow-hidden group\">\n      {/* Map Background (Stylized Indonesia/Jakarta Outline for Demo) */}\n      <svg \n        viewBox=\"0 0 800 500\" \n        className=\"w-full h-full object-cover opacity-30 group-hover:opacity-40 transition-opacity\"\n        preserveAspectRatio=\"xMidYMid slice\"\n      >\n        <defs>\n          <filter id=\"glow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n            <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n            <feComposite in=\"SourceGraphic\" in2=\"blur\" operator=\"over\" />\n          </filter>\n        </defs>\n        \n        {/* Abstract Landmasses */}\n        <path d=\"M100,200 Q250,150 400,250 T700,300\" stroke=\"none\" fill=\"#1e293b\" />\n        <path d=\"M50,150 Q200,50 350,150 T650,200\" stroke=\"none\" fill=\"#334155\" opacity=\"0.5\" />\n        \n        {/* Grid Lines */}\n        <pattern id=\"grid\" width=\"40\" height=\"40\" patternUnits=\"userSpaceOnUse\">\n          <path d=\"M 40 0 L 0 0 0 40\" fill=\"none\" stroke=\"rgba(255,255,255,0.05)\" strokeWidth=\"1\"/>\n        </pattern>\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\n      </svg>\n\n      {/* Hotspots Layer */}\n      <div className=\"absolute inset-0\">\n        {hotspots.map((hotspot) => {\n          // Normalize to % with padding using pre-calculated bounds\n          const x = ((hotspot.location.lng - minLng) / lngSpan) * 80 + 10;\n          const y = 100 - (((hotspot.location.lat - minLat) / latSpan) * 80 + 10);\n\n          const isCritical = hotspot.severity > 0.8;\n          const colorClass = isCritical ? 'bg-rose-500' : 'bg-amber-500';\n\n          return (\n            <motion.div\n              key={hotspot.id}\n              className=\"absolute cursor-grab active:cursor-grabbing hover:z-50\"\n              style={{ left: `${x}%`, top: `${y}%` }}\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              whileHover={{ scale: 1.2 }}\n              onClick={() => handleHotspotClick(hotspot)}\n              title={hotspot.location.name}\n              draggable={true}\n              onDragStart={(e: any) => {\n                 e.dataTransfer.setData('application/json', JSON.stringify({\n                    type: 'hotspot_evidence',\n                    id: hotspot.id,\n                    location: hotspot.location.name,\n                    value: hotspot.value,\n                    context: 'Geospatial Leakage Map'\n                 }));\n                 notifications.info(\"EVIDENCE LOCKED\", \"Drop into dossier to link.\");\n              }}\n            >\n              {/* Pulse Ring */}\n              <div className={`absolute -inset-4 rounded-full ${colorClass} opacity-20 animate-ping`} />\n              \n              {/* Dot */}\n              <div className={`relative w-4 h-4 rounded-full ${colorClass} border border-white/20 shadow-lg shadow-${isCritical ? 'rose' : 'amber'}-500/50`} />\n              \n              {/* Tooltip Label (Always visible for Critical) */}\n              {isCritical && (\n                <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-slate-900/90 border border-rose-500/30 rounded-md text-[10px] font-black text-rose-400 uppercase tracking-wider backdrop-blur-sm shadow-xl\">\n                  {hotspot.location.name}\n                </div>\n              )}\n            </motion.div>\n          );\n        })}\n      </div>\n\n      {/* Selected Hotspot Detail Card */}\n      <AnimatePresence>\n        {selectedHotspot && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9, y: 10 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.9, y: 10 }}\n            className=\"absolute bottom-4 left-4 right-4 bg-slate-900/90 border border-white/10 rounded-xl p-4 backdrop-blur-md shadow-2xl z-20\"\n          >\n            <div className=\"flex justify-between items-start mb-2\">\n                <div>\n                   <h3 className=\"text-sm font-black text-white uppercase tracking-tight flex items-center gap-2\">\n                       <MapPin className=\"w-3.5 h-3.5 text-indigo-400\" />\n                       {selectedHotspot.location.name}\n                   </h3>\n                   <div className=\"text-[10px] text-slate-400 font-mono mt-0.5\">\n                       {selectedHotspot.id} ‚Ä¢ {selectedHotspot.rootCause}\n                   </div>\n                </div>\n                <button \n                  onClick={() => setSelectedHotspot(null)}\n                  className=\"p-1 hover:bg-white/10 rounded-full text-slate-500 hover:text-white\"\n                  aria-label=\"Close details\"\n                >\n                  <ArrowUpRight className=\"w-4 h-4\" />\n                </button>\n            </div>\n            \n            <div className=\"flex items-end justify-between\">\n                <div>\n                    <div className=\"text-[9px] text-slate-500 uppercase tracking-widest font-bold\">Leakage Value</div>\n                    <div className=\"text-xl font-black text-white\">\n                        Rp {(selectedHotspot.value / 1000000000).toFixed(2)} B\n                    </div>\n                </div>\n                \n                <button\n                    onClick={() => handleInvestigate(selectedHotspot)}\n                    className=\"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-widest rounded-lg flex items-center gap-2 transition-colors\"\n                >\n                    {activeInvestigation ? (\n                        <>\n                           <PlusCircle className=\"w-3.5 h-3.5\" />\n                           Add to Case\n                        </>\n                    ) : (\n                        <>\n                           <AlertTriangle className=\"w-3.5 h-3.5\" />\n                           Investigate\n                        </>\n                    )}\n                </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/ForensicNotificationProvider.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bell' is defined but never used.","line":5,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":61,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Bell"},"fix":{"range":[218,224],"text":""},"desc":"Remove unused variable \"Bell\"."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'dismiss'. Either include it or remove the dependency array.","line":54,"column":8,"nodeType":"ArrayExpression","endLine":54,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [dismiss]","fix":{"range":[1720,1722],"text":"[dismiss]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CheckCircle2, AlertTriangle, Info, XCircle, X, Bell } from 'lucide-react';\n\ntype NotificationType = 'success' | 'warning' | 'info' | 'error';\n\ninterface Notification {\n    id: string;\n    type: NotificationType;\n    title: string;\n    message: string;\n    duration?: number;\n    action?: {\n        label: string;\n        onClick: () => void;\n    };\n}\n\ninterface NotificationContextType {\n    notify: (notification: Omit<Notification, 'id'>) => void;\n    dismiss: (id: string) => void;\n}\n\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\n\nexport const useForensicNotification = () => {\n    const context = useContext(NotificationContext);\n    if (!context) {\n        throw new Error('useForensicNotification must be used within ForensicNotificationProvider');\n    }\n    return context;\n};\n\nexport const ForensicNotificationProvider = ({ children }: { children?: ReactNode }) => {\n    const [notifications, setNotifications] = useState<Notification[]>([]);\n\n    const notify = useCallback((notification: Omit<Notification, 'id'>) => {\n        const id = `notif-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const newNotification: Notification = {\n            id,\n            duration: 5000,\n            ...notification,\n        };\n\n        setNotifications(prev => [...prev, newNotification]);\n\n        if (newNotification.duration && newNotification.duration > 0) {\n            setTimeout(() => {\n                dismiss(id);\n            }, newNotification.duration);\n        }\n    }, []);\n\n    const dismiss = useCallback((id: string) => {\n        setNotifications(prev => prev.filter(n => n.id !== id));\n    }, []);\n\n    // Event bus integration - Subscribe to forensic events\n    React.useEffect(() => {\n        // Only import and use in client side\n        if (typeof window === 'undefined') return;\n\n        import('@/lib/ForensicEventBus').then(({ forensicBus }) => {\n            const subscriptions: string[] = [];\n\n            // Subscribe to each event type\n            subscriptions.push(\n                forensicBus.subscribe('TRANSACTION_FLAGGED', (event) => {\n                    notify({\n                        type: 'warning',\n                        title: 'Transaction Flagged',\n                        message: event.payload.reason || 'Anomaly detected',\n                        duration: 6000,\n                    });\n                })\n            );\n\n            subscriptions.push(\n                forensicBus.subscribe('VENDOR_SUSPICIOUS', (event) => {\n                    notify({\n                        type: 'error',\n                        title: `High-Risk Vendor: ${event.payload.vendorName}`,\n                        message: `Risk level: ${event.payload.riskLevel}`,\n                        duration: 7000,\n                    });\n                })\n            );\n\n            subscriptions.push(\n                forensicBus.subscribe('SANCTION_HIT', (event) => {\n                    notify({\n                        type: 'error',\n                        title: `SANCTION HIT: ${event.payload.entityName}`,\n                        message: `Matched on ${event.payload.sanctionList} (Score: ${(event.payload.matchScore * 100).toFixed(0)}%)`,\n                        duration: 10000,\n                    });\n                })\n            );\n\n            // Cleanup\n            return () => {\n                subscriptions.forEach(id => forensicBus.unsubscribe(id));\n            };\n        });\n    }, [notify]);\n\n    return (\n        <NotificationContext.Provider value={{ notify, dismiss }}>\n            {children}\n            <NotificationContainer notifications={notifications} onDismiss={dismiss} />\n        </NotificationContext.Provider>\n    );\n};\n\nfunction NotificationContainer({ \n    notifications, \n    onDismiss \n}: { \n    notifications: Notification[]; \n    onDismiss: (id: string) => void;\n}) {\n    return (\n        <div className=\"fixed top-20 right-8 z-[9999] flex flex-col gap-3 max-w-md\">\n            <AnimatePresence mode=\"popLayout\">\n                {notifications.map(notification => (\n                    <NotificationCard\n                        key={notification.id}\n                        notification={notification}\n                        onDismiss={() => onDismiss(notification.id)}\n                    />\n                ))}\n            </AnimatePresence>\n        </div>\n    );\n}\n\nfunction NotificationCard({ \n    notification, \n    onDismiss \n}: { \n    notification: Notification; \n    onDismiss: () => void;\n}) {\n    const config = {\n        success: {\n            icon: CheckCircle2,\n            bg: 'bg-emerald-500/10',\n            border: 'border-emerald-500/30',\n            iconColor: 'text-emerald-500',\n            textColor: 'text-emerald-400',\n        },\n        warning: {\n            icon: AlertTriangle,\n            bg: 'bg-orange-500/10',\n            border: 'border-orange-500/30',\n            iconColor: 'text-orange-500',\n            textColor: 'text-orange-400',\n        },\n        info: {\n            icon: Info,\n            bg: 'bg-blue-500/10',\n            border: 'border-blue-500/30',\n            iconColor: 'text-blue-500',\n            textColor: 'text-blue-400',\n        },\n        error: {\n            icon: XCircle,\n            bg: 'bg-rose-500/10',\n            border: 'border-rose-500/30',\n            iconColor: 'text-rose-500',\n            textColor: 'text-rose-400',\n        },\n    };\n\n    const style = config[notification.type];\n    const Icon = style.icon;\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, y: -20, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, x: 100, scale: 0.95 }}\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n            className={`\n                ${style.bg} ${style.border} backdrop-blur-xl\n                border rounded-2xl p-5 shadow-2xl\n                min-w-[320px] max-w-md\n            `}\n        >\n            <div className=\"flex items-start gap-4\">\n                <div className={`p-2 rounded-xl ${style.bg} ${style.border} border`}>\n                    <Icon className={`w-5 h-5 ${style.iconColor}`} />\n                </div>\n                \n                <div className=\"flex-1 min-w-0\">\n                    <h4 className={`text-sm font-black uppercase tracking-widest ${style.textColor} mb-1 italic`}>\n                        {notification.title}\n                    </h4>\n                    <p className=\"text-xs text-slate-300 leading-relaxed\">\n                        {notification.message}\n                    </p>\n                    \n                    {notification.action && (\n                        <button\n                            onClick={notification.action.onClick}\n                            className={`\n                                mt-3 px-4 py-1.5 rounded-lg text-xs font-bold uppercase tracking-widest\n                                ${style.bg} ${style.border} border ${style.textColor}\n                                hover:bg-opacity-20 transition-all\n                            `}\n                        >\n                            {notification.action.label}\n                        </button>\n                    )}\n                </div>\n                \n                <button\n                    onClick={onDismiss}\n                    className=\"text-slate-500 hover:text-white transition-colors p-1 rounded-lg hover:bg-white/5\"\n                    aria-label=\"Dismiss notification\"\n                >\n                    <X className=\"w-4 h-4\" />\n                </button>\n            </div>\n        </motion.div>\n    );\n}\n\n// Helper hook for common notification patterns\nexport const useForensicNotifications = () => {\n    const { notify } = useForensicNotification();\n\n    return {\n        success: (title: string, message: string, action?: Notification['action']) => {\n            notify({ type: 'success', title, message, action });\n        },\n        warning: (title: string, message: string, action?: Notification['action']) => {\n            notify({ type: 'warning', title, message, action });\n        },\n        info: (title: string, message: string, action?: Notification['action']) => {\n            notify({ type: 'info', title, message, action });\n        },\n        error: (title: string, message: string, action?: Notification['action']) => {\n            notify({ type: 'error', title, message, action });\n        },\n        matchFound: (confidence: number, tier: string, count: number = 1) => {\n            notify({\n                type: confidence >= 0.95 ? 'success' : confidence >= 0.85 ? 'info' : 'warning',\n                title: `RECONCILIATION: ${count} MATCH${count > 1 ? 'ES' : ''} FOUND`,\n                message: `Confidence: ${(confidence * 100).toFixed(0)}% | Tier: ${tier} | Ready for review`,\n                duration: 7000,\n            });\n        },\n        ingestionComplete: (records: number, filename: string) => {\n            notify({\n                type: 'success',\n                title: 'INGESTION COMPLETE',\n                message: `${records.toLocaleString()} records from ${filename} successfully sealed to vault`,\n                duration: 6000,\n            });\n        },\n        fraudAlert: (severity: 'high' | 'critical', message: string) => {\n            notify({\n                type: severity === 'critical' ? 'error' : 'warning',\n                title: severity === 'critical' ? 'üö® CRITICAL FRAUD ALERT' : '‚ö†Ô∏è FRAUD TRIGGER DETECTED',\n                message,\n                duration: 10000,\n            });\n        },\n    };\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/ForensicTimeline.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/FrenlyQuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/FrenlyWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageSquare' is defined but never used.","line":4,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MessageSquare"},"fix":{"range":[129,143],"text":""},"desc":"Remove unused variable \"MessageSquare\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":5,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[190,203],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pathname' is assigned a value but never used.","line":20,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getSuggestion' is assigned a value but never used.","line":22,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4546,4549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4546,4549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  MessageSquare, X, Minimize2, Maximize2, \n  Send, ChevronRight, AlertCircle,\n  Lightbulb, BrainCircuit\n} from 'lucide-react';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useFrenlyContext } from './context/FrenlyContextEngine';\n\nexport default function FrenlyWidget() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [messages, setMessages] = useState<{role: 'user' | 'ai', text: string}[]>([\n    { role: 'ai', text: 'Audit Copilot online. Ready to analyze financial anomalies.' }\n  ]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  \n  const pathname = usePathname();\n  const router = useRouter();\n  const { context, getSuggestion } = useFrenlyContext();\n\n  const toggleOpen = () => setIsOpen(!isOpen);\n  const toggleExpand = () => setIsExpanded(!isExpanded);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    \n    setMessages(prev => [...prev, { role: 'user', text: input }]);\n    setInput('');\n    \n    // Simulate AI thinking\n    setTimeout(() => {\n      setMessages(prev => [...prev, { \n        role: 'ai', \n        text: \"I've analyzed the current context. Based on the audit trail, I recommend verifying the vendor's tax ID against the transaction volume.\" \n      }]);\n    }, 1000);\n  };\n\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  return (\n    <div className=\"fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none\">\n      <div className=\"pointer-events-auto\">\n        <AnimatePresence>\n          {isOpen && (\n            <motion.div\n              initial={{ opacity: 0, y: 20, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: 20, scale: 0.95 }}\n              className={`\n                bg-slate-900 border border-indigo-500/30 shadow-2xl backdrop-blur-xl\n                rounded-2xl overflow-hidden flex flex-col\n                ${isExpanded ? 'w-[600px] h-[700px]' : 'w-[380px] h-[500px]'}\n                transition-all duration-300\n              `}\n            >\n              {/* Header */}\n              <div className=\"h-14 border-b border-white/5 bg-indigo-950/30 flex items-center justify-between px-4 shrink-0\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center\">\n                    <BrainCircuit className=\"w-5 h-5 text-indigo-400\" />\n                  </div>\n                  <div>\n                    <h3 className=\"text-sm font-bold text-white\">Zenith Audit Copilot</h3>\n                    <div className=\"flex items-center gap-1.5\">\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse\" />\n                      <span className=\"text-[10px] text-indigo-300 font-mono\">SYSTEM ACTIVE</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <button onClick={toggleExpand} className=\"p-2 hover:bg-white/5 rounded-lg text-slate-400 hover:text-white transition-colors\">\n                    {isExpanded ? <Minimize2 className=\"w-4 h-4\" /> : <Maximize2 className=\"w-4 h-4\" />}\n                  </button>\n                  <button onClick={toggleOpen} className=\"p-2 hover:bg-white/5 rounded-lg text-slate-400 hover:text-white transition-colors\">\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n\n              {/* Chat Area */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-slate-950/50\">\n                {/* Context Card */}\n                {context && (\n                  <div className=\"p-3 rounded-xl bg-indigo-900/10 border border-indigo-500/10 mb-6\">\n                    <div className=\"flex items-start gap-3\">\n                      <Lightbulb className=\"w-4 h-4 text-amber-400 mt-0.5\" />\n                      <div>\n                        <p className=\"text-xs font-medium text-indigo-200 mb-2\">\n                          {context.greeting}\n                        </p>\n                        <div className=\"space-y-1.5\">\n                          {context.quickActions.map((action: any, idx: number) => (\n                            <button \n                              key={idx}\n                              onClick={() => action.route ? router.push(action.route) : action.action?.()}\n                              className=\"flex items-center gap-2 text-[10px] font-bold text-slate-300 hover:text-indigo-400 transition-colors bg-white/5 hover:bg-white/10 px-2 py-1.5 rounded-lg w-full text-left\"\n                            >\n                              <ChevronRight className=\"w-3 h-3 text-indigo-500\" />\n                              {action.label}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {messages.map((msg, idx) => (\n                  <div key={idx} className={`flex ${msg.role === 'ai' ? 'justify-start' : 'justify-end'}`}>\n                    <div className={`\n                      max-w-[85%] rounded-2xl p-3 text-sm leading-relaxed\n                      ${msg.role === 'ai' \n                        ? 'bg-slate-800 text-slate-200 rounded-tl-none border border-white/5' \n                        : 'bg-indigo-600 text-white rounded-tr-none shadow-lg shadow-indigo-900/20'}\n                    `}>\n                      {msg.text}\n                    </div>\n                  </div>\n                ))}\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Input Area */}\n              <div className=\"p-4 border-t border-white/5 bg-slate-900\">\n                <div className=\"relative\">\n                  <input\n                    type=\"text\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    onKeyDown={(e) => e.key === 'Enter' && handleSend()}\n                    placeholder=\"Ask Copilot to analyze data...\"\n                    className=\"w-full bg-slate-950 border border-white/10 rounded-xl py-3 pl-4 pr-12 text-sm text-white placeholder:text-slate-500 focus:outline-none focus:border-indigo-500/50 transition-colors\"\n                  />\n                  <button \n                    onClick={handleSend}\n                    disabled={!input.trim()}\n                    className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-indigo-600 rounded-lg text-white hover:bg-indigo-500 disabled:opacity-50 disabled:hover:bg-indigo-600 transition-all\"\n                  >\n                    <Send className=\"w-3.5 h-3.5\" />\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {!isOpen && (\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={toggleOpen}\n            className=\"group relative flex items-center gap-3 px-5 py-3 bg-slate-900 hover:bg-indigo-950 border border-indigo-500/30 rounded-full shadow-2xl backdrop-blur-md transition-all\"\n          >\n            <div className=\"absolute inset-0 bg-indigo-500/10 rounded-full animate-pulse group-hover:bg-indigo-500/20\" />\n            <BrainCircuit className=\"w-5 h-5 text-indigo-400\" />\n            <span className=\"text-sm font-bold text-white tracking-wide\">COPILOT</span>\n            \n            {/* Notification Badge */}\n            <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-rose-500 rounded-full border-2 border-slate-950\" />\n          </motion.button>\n        )}\n      </div>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/avatar/FrenlyAvatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/chat/FrenlyChat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/context/FrenlyContextEngine.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/components/FrenlyAI/context/FrenlyContextEngine.tsx:100:5\n   98 |     // Exact match or default to dashboard\n   99 |     const currentContext = PAGE_CONTEXTS[pathname] || PAGE_CONTEXTS['/'];\n> 100 |     setContext(currentContext);\n      |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  101 |   }, [pathname]);\n  102 |\n  103 |   const getSuggestion = (query: string) => {","line":100,"column":5,"nodeType":null,"endLine":100,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'query' is defined but never used.","line":103,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":103,"endColumn":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { usePathname } from 'next/navigation';\n\n// ... existing types ...\n\ninterface ContextData {\n  pageName: string;\n  greeting: string;\n  quickActions: { label: string; icon?: string; route?: string; action?: () => void }[];\n  tips: string[];\n}\n\nconst PAGE_CONTEXTS: Record<string, ContextData> = {\n  '/': {\n    pageName: 'Audit Command Center',\n    greeting: 'System Online. Overview of active cases and financial anomalies.',\n    quickActions: [\n      { label: 'Review High-Risk Alerts', route: '/investigate' },\n      { label: 'Upload New Evidence', route: '/ingestion' },\n      { label: 'Generate Executive Summary', action: () => console.log('Gen Report') }\n    ],\n    tips: [\n      'üí° 3 new high-risk transactions detected in the last 24h.',\n      'üéØ Reconciliation gap has increased by 15% in Project Alpha.'\n    ]\n  },\n  '/ingestion': {\n    pageName: 'Evidence Ingestion',\n    greeting: 'Ready to process financial records. Supported formats: CSV, PDF, XLS.',\n    quickActions: [\n      { label: 'Use BCA Standard Template', action: () => console.log('Template') },\n      { label: 'View Mapping Guide', action: () => console.log('Guide') },\n      { label: 'Load Sample Dataset', action: () => console.log('Sample') }\n    ],\n    tips: [\n      'üí° CSV files process 40% faster than Excel workbooks.',\n      'üéØ Ensure column headers match the standard schema for auto-mapping.'\n    ]\n  },\n  '/reconciliation': {\n    pageName: 'Reconciliation Workspace',\n    greeting: 'Ledger matching engine active. Reviewing discrepancies.',\n    quickActions: [\n      { label: 'Auto-Match High Confidence', action: () => console.log('Auto') },\n      { label: 'Filter by Variance > 10%', action: () => console.log('Filter') },\n      { label: 'Export Discrepancy Report', action: () => console.log('Export') }\n    ],\n    tips: [\n      'üí° Use the \"Forensic History\" view to track status changes.',\n      'üéØ Tier 1 matches are 99% accurate based on invoice reference.'\n    ]\n  },\n  '/forensic/nexus': {\n    pageName: 'Entity Nexus Graph',\n    greeting: 'Visualizing entity relationships and financial flows.',\n    quickActions: [\n      { label: 'Highlight High-Risk Nodes', action: () => console.log('Highlight') },\n      { label: 'Trace Fund Flow', action: () => console.log('Trace') },\n      { label: 'Export Graph Snapshot', action: () => console.log('Snapshot') }\n    ],\n    tips: [\n      'üí° Red edges indicate inflated transaction values.',\n      'üéØ Double-click a node to expand hidden relationships.'\n    ]\n  },\n  '/forensic/assets': {\n    pageName: 'Asset Tracing Intelligence',\n    greeting: 'Asset identification and recovery analysis module.',\n    quickActions: [\n      { label: 'Log New Asset', action: () => console.log('Add') },\n      { label: 'Verify Ownership', action: () => console.log('Verify') },\n      { label: 'Calculate Recoverable Value', action: () => console.log('Calc') }\n    ],\n    tips: [\n      'üí° Verify ownership via AHU database integration.',\n      'üéØ Link assets to specific transactions for evidence chain.'\n    ]\n  }\n};\n\n// ... Context Provider Implementation ...\n\ninterface FrenlyContextType {\n  context: ContextData | null;\n  getSuggestion: (query: string) => string;\n}\n\nconst FrenlyContext = createContext<FrenlyContextType>({\n  context: null,\n  getSuggestion: () => ''\n});\n\nexport function FrenlyContextProvider({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const [context, setContext] = useState<ContextData | null>(null);\n\n  useEffect(() => {\n    // Exact match or default to dashboard\n    const currentContext = PAGE_CONTEXTS[pathname] || PAGE_CONTEXTS['/'];\n    setContext(currentContext);\n  }, [pathname]);\n\n  const getSuggestion = (query: string) => {\n    return \"Analysis complete. Recommendation: Verify vendor tax ID.\";\n  };\n\n  return (\n    <FrenlyContext.Provider value={{ context, getSuggestion }}>\n      {children}\n    </FrenlyContext.Provider>\n  );\n}\n\nexport const useFrenlyContext = () => useContext(FrenlyContext);","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/InvestigationPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Download' is defined but never used.","line":14,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Download"},"fix":{"range":[394,404],"text":""},"desc":"Remove unused variable \"Download\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isExpanded' is assigned a value but never used.","line":23,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsExpanded' is assigned a value but never used.","line":23,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleGenerateDossier' is assigned a value but never used.","line":27,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":32},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\n/Users/Arief/Newzen/zenith-lite/frontend/src/components/InvestigationPanel.tsx:78:10\n  76 |\n  77 |     const timeElapsed = Math.floor(\n> 78 |         (Date.now() - new Date(activeInvestigation.startedAt).getTime()) / 1000 / 60\n     |          ^^^^^^^^^^ Cannot call impure function\n  79 |     );\n  80 |\n  81 |     return (","line":78,"column":10,"nodeType":null,"endLine":78,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Investigation Panel Component\n * Persistent split-view panel that stays visible while using forensic tools\n */\n\n'use client';\n\nimport React from 'react';\nimport { useInvestigation } from '@/store/useInvestigation';\nimport { DossierCompiler } from '@/lib/DossierCompiler';\nimport { \n    Target, Clock, Users, FileText, \n    ChevronDown, ChevronUp, TrendingUp,\n    AlertCircle, CheckCircle, Download\n} from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nimport { useForensicNotification } from '@/components/ForensicNotificationProvider';\n\nexport function InvestigationPanel() {\n    const { activeInvestigation, endInvestigation, pauseInvestigation, addAction } = useInvestigation();\n    const { notify } = useForensicNotification();\n    const [isExpanded, setIsExpanded] = React.useState(true);\n    const [isMinimized, setIsMinimized] = React.useState(false);\n    const [isDraggingOver, setIsDraggingOver] = React.useState(false);\n\n    const handleGenerateDossier = () => {\n        if(!activeInvestigation) return;\n        \n        const dossier = DossierCompiler.compile(activeInvestigation);\n        DossierCompiler.download(dossier, 'markdown');\n        \n        // Also complete the investigation\n        endInvestigation();\n    };\n\n    const handleDragOver = (e: React.DragEvent) => {\n        e.preventDefault();\n        setIsDraggingOver(true);\n    };\n\n    const handleDragLeave = () => {\n        setIsDraggingOver(false);\n    };\n\n    const handleDrop = (e: React.DragEvent) => {\n        e.preventDefault();\n        setIsDraggingOver(false);\n        \n        try {\n            const data = JSON.parse(e.dataTransfer.getData('application/json'));\n            \n            if (data.type === 'hotspot_evidence') {\n                addAction({\n                    action: `Evidence Link: ${data.location}`,\n                    tool: 'Map Drop',\n                    result: {\n                        evidenceId: data.id,\n                        value: data.value,\n                        context: data.context\n                    }\n                });\n                \n                notify({\n                    title: 'Evidence Secured',\n                    message: `Linked ${data.location} to case file.`,\n                    type: 'success'\n                });\n            }\n        } catch (err) {\n            console.error('Drop failed', err);\n        }\n    };\n\n    if (!activeInvestigation) return null;\n\n    const timeElapsed = Math.floor(\n        (Date.now() - new Date(activeInvestigation.startedAt).getTime()) / 1000 / 60\n    );\n\n    return (\n        <motion.div\n            initial={{ y: 100, opacity: 0 }}\n            animate={{ \n                y: isMinimized ? 'calc(100% - 80px)' : 0, \n                opacity: 1 \n            }}\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n            onDrop={handleDrop}\n            className={`fixed bottom-0 right-0 left-64 bg-slate-950 border-t ${\n                isDraggingOver ? 'border-emerald-500 shadow-[0_0_30px_rgba(16,185,129,0.3)]' : 'border-white/10'\n            } shadow-2xl z-50 transition-all duration-300`}\n            style={{\n                height: isMinimized ? '80px' : '320px',\n            }}\n        >\n            {/* Header */}\n            <div \n                className=\"h-20 border-b border-white/5 bg-slate-900/50 backdrop-blur-xl flex items-center justify-between px-8 cursor-pointer hover:bg-slate-900/70 transition-colors\"\n                onClick={() => setIsMinimized(!isMinimized)}\n            >\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-900/20\">\n                        <Target className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                        <div className=\"flex items-center gap-3\">\n                            <h3 className=\"text-sm font-black text-white uppercase tracking-tight\">\n                                {activeInvestigation.title}\n                            </h3>\n                            <span className={`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${\n                                activeInvestigation.status === 'active' \n                                    ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20' \n                                    : 'bg-amber-500/10 text-amber-400 border border-amber-500/20'\n                            }`}>\n                                {activeInvestigation.status}\n                            </span>\n                        </div>\n                        <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-wider mt-1\">\n                            ID: {activeInvestigation.id} ‚Ä¢ Started {timeElapsed}m ago\n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-4\">\n                    {/* Quick Stats */}\n                    <div className=\"flex items-center gap-6 mr-6\">\n                        <div className=\"flex items-center gap-2\">\n                            <FileText className=\"w-4 h-4 text-slate-500\" />\n                            <span className=\"text-sm font-bold text-white\">\n                                {activeInvestigation.timeline.length}\n                            </span>\n                            <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Actions</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <Users className=\"w-4 h-4 text-slate-500\" />\n                            <span className=\"text-sm font-bold text-white\">\n                                {activeInvestigation.context.suspects.length}\n                            </span>\n                            <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Suspects</span>\n                        </div>\n                        {activeInvestigation.riskScore && (\n                            <div className=\"flex items-center gap-2\">\n                                <TrendingUp className=\"w-4 h-4 text-rose-500\" />\n                                <span className=\"text-sm font-bold text-rose-400\">\n                                    {activeInvestigation.riskScore}%\n                                </span>\n                                <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Risk</span>\n                            </div>\n                        )}\n                    </div>\n\n                    <button\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            setIsMinimized(!isMinimized);\n                        }}\n                        className=\"w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors\"\n                    >\n                        {isMinimized ? (\n                            <ChevronUp className=\"w-4 h-4 text-slate-400\" />\n                        ) : (\n                            <ChevronDown className=\"w-4 h-4 text-slate-400\" />\n                        )}\n                    </button>\n                </div>\n            </div>\n\n            {/* Content (only shown when expanded) */}\n            <AnimatePresence>\n                {!isMinimized && (\n                    <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        className=\"h-60 overflow-hidden\"\n                    >\n                        <div className=\"grid grid-cols-3 h-full\">\n                            {/* Timeline */}\n                            <div className=\"border-r border-white/5 p-6 overflow-auto custom-scrollbar\">\n                                <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2\">\n                                    <Clock className=\"w-3 h-3\" /> Recent Actions\n                                </h4>\n                                <div className=\"space-y-3\">\n                                    {activeInvestigation.timeline.slice(-5).reverse().map((action, i) => (\n                                        <div key={i} className=\"pb-3 border-b border-white/5 last:border-0\">\n                                            <p className=\"text-xs font-bold text-white mb-1\">\n                                                {action.action}\n                                            </p>\n                                            <p className=\"text-[10px] text-slate-500 font-mono\">\n                                                {new Date(action.timestamp).toLocaleTimeString()} ‚Ä¢ {action.tool}\n                                            </p>\n                                        </div>\n                                    ))}\n                                    {activeInvestigation.timeline.length === 0 && (\n                                        <p className=\"text-xs text-slate-600 italic\">No actions logged yet</p>\n                                    )}\n                                </div>\n                            </div>\n\n                            {/* Context */}\n                            <div className=\"border-r border-white/5 p-6 overflow-auto custom-scrollbar\">\n                                <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2\">\n                                    <Users className=\"w-3 h-3\" /> Investigation Context\n                                </h4>\n                                <div className=\"space-y-4\">\n                                    {activeInvestigation.context.suspects.length > 0 && (\n                                        <div>\n                                            <p className=\"text-[9px] text-slate-600 uppercase tracking-wider mb-2\">Suspects</p>\n                                            {activeInvestigation.context.suspects.map((suspect, i) => (\n                                                <div key={i} className=\"text-xs font-bold text-rose-400 mb-1\">\n                                                    ‚Ä¢ {suspect}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n                                    {activeInvestigation.context.transactionIds.length > 0 && (\n                                        <div>\n                                            <p className=\"text-[9px] text-slate-600 uppercase tracking-wider mb-2\">Transactions</p>\n                                            <p className=\"text-xs font-mono text-slate-400\">\n                                                {activeInvestigation.context.transactionIds.length} flagged\n                                            </p>\n                                        </div>\n                                    )}\n                                    {activeInvestigation.context.toolsUsed.length > 0 && (\n                                        <div>\n                                            <p className=\"text-[9px] text-slate-600 uppercase tracking-wider mb-2\">Tools Used</p>\n                                            <div className=\"flex flex-wrap gap-2\">\n                                                {activeInvestigation.context.toolsUsed.map((tool, i) => (\n                                                    <span key={i} className=\"px-2 py-1 bg-indigo-600/10 text-indigo-400 text-[10px] font-bold rounded border border-indigo-500/20\">\n                                                        {tool}\n                                                    </span>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n\n                            {/* Findings & Actions */}\n                            <div className=\"p-6 overflow-auto custom-scrollbar\">\n                                <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2\">\n                                    <AlertCircle className=\"w-3 h-3\" /> Key Findings\n                                </h4>\n                                <div className=\"space-y-3 mb-6\">\n                                    {activeInvestigation.findings.map((finding, i) => (\n                                        <div key={i} className=\"flex items-start gap-2\">\n                                            <CheckCircle className=\"w-4 h-4 text-emerald-500 shrink-0 mt-0.5\" />\n                                            <p className=\"text-xs text-slate-300 leading-relaxed\">{finding}</p>\n                                        </div>\n                                    ))}\n                                    {activeInvestigation.findings.length === 0 && (\n                                        <p className=\"text-xs text-slate-600 italic\">No findings recorded yet</p>\n                                    )}\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    {activeInvestigation.status === 'active' && (\n                                        <button\n                                            onClick={pauseInvestigation}\n                                            className=\"w-full py-2 bg-amber-600/10 hover:bg-amber-600/20 text-amber-400 border border-amber-500/20 rounded-lg font-bold text-[10px] uppercase tracking-widest transition-colors\"\n                                        >\n                                            Pause Investigation\n                                        </button>\n                                    )}\n                                    <button\n                                        onClick={endInvestigation}\n                                        className=\"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold text-[10px] uppercase tracking-widest transition-colors\"\n                                    >\n                                        Complete & Generate Dossier\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </motion.div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/RABComparisonTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/ToolDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/UploadEvidence.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/charts/LogicalSCurve.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/components/skeletons/SkeletonComponents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/hooks/useApi.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[357,360],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[357,360],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1582,1585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1582,1585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback } from 'react';\nimport { useForensicNotifications } from '@/components/ForensicNotificationProvider';\n\ninterface UseApiOptions<T> {\n    onSuccess?: (data: T) => void;\n    onError?: (error: Error) => void;\n    showSuccessToast?: boolean;\n    successMessage?: string;\n    showErrorToast?: boolean;\n}\n\nexport function useApi<T = any>() {\n    const [data, setData] = useState<T | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState<Error | null>(null);\n    const notifications = useForensicNotifications();\n\n    const execute = useCallback(async (\n        url: string, \n        options: RequestInit = {}, \n        hookOptions: UseApiOptions<T> = {}\n    ) => {\n        setIsLoading(true);\n        setError(null);\n        \n        try {\n            const res = await fetch(url, options);\n            \n            if (!res.ok) {\n                const errorData = await res.json().catch(() => ({}));\n                throw new Error(errorData.detail || errorData.message || `Request failed with status ${res.status}`);\n            }\n            \n            const jsonData = await res.json();\n            setData(jsonData);\n            \n            if (hookOptions.showSuccessToast) {\n                notifications.success('REQUEST_COMPLETE', hookOptions.successMessage || 'Operation executed successfully.');\n            }\n            \n            if (hookOptions.onSuccess) {\n                hookOptions.onSuccess(jsonData);\n            }\n            \n            return jsonData;\n        } catch (err: any) {\n            setError(err);\n            console.error(\"API Error:\", err);\n            \n            if (hookOptions.showErrorToast !== false) {\n                 notifications.error('EXECUTION_FAILURE', err.message || 'An unexpected error occurred during the request.');\n            }\n            \n            if (hookOptions.onError) {\n                hookOptions.onError(err);\n            }\n            \n            return null;\n        } finally {\n            setIsLoading(false);\n        }\n    }, [notifications]);\n\n    return { data, isLoading, error, execute };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/hooks/useApiStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/hooks/useAssetActions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'API_ROUTES' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"API_ROUTES"},"fix":{"range":[41,91],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'freezeApi' is assigned a value but never used.","line":16,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFreezingFromHook' is assigned a value but never used.","line":16,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":62},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'freezeErrorFromHook' is assigned a value but never used.","line":16,"column":71,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":90},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":102,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":105,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[991,994],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[991,994],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'warrantApi' is assigned a value but never used.","line":17,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isGeneratingWarrantFromHook' is assigned a value but never used.","line":17,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":72},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1082,1085],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1082,1085],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2419,2422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2419,2422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3248,3251],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3248,3251],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useApi } from '@/hooks/useApi';\nimport { API_ROUTES } from '@/services/apiRoutes';\nimport { useState } from 'react'; // Added useState\n\n// Assuming API_URL is defined globally or imported\n// For this example, I'll define it as a placeholder.\n// In a real application, it would likely come from an environment variable or a config file.\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8200'; \n\nexport function useAssetActions() {\n    // The original useApi hooks are still present, but their usage might change based on the refactor.\n    // The new toggleVerification function uses local state and fetch directly.\n    // The generateReport function also uses fetch directly.\n    // So, warrantApi and freezeApi might become unused if the refactor is fully applied.\n    // For now, I'll keep them as per the provided snippet, but note the potential for cleanup.\n    const { execute: freezeApi, isLoading: isFreezingFromHook, error: freezeErrorFromHook } = useApi<any>();\n    const { execute: warrantApi, isLoading: isGeneratingWarrantFromHook } = useApi<any>();\n\n    // New state management for toggleVerification\n    const [state, setState] = useState({ \n        isFreezing: false, \n        error: null as string | null,\n        isGeneratingWarrant: false // Added for consistency if generateReport also uses this state\n    });\n\n    const toggleVerification = async (assetId: string, currentStatus: 'ACTIVE' | 'VERIFIED'): Promise<boolean> => {\n        setState({ ...state, isFreezing: true, error: null }); // Use spread to preserve other state properties\n        \n        // Determine target state (If currently ACTIVE, we want to VERIFY. If VERIFIED, we UNVERIFY)\n        const shouldVerify = currentStatus === 'ACTIVE'; // If active, we want to verify it. If verified, we want to unverify.\n        \n        try {\n            const res = await fetch(`${API_URL}/api/v1/assets/${assetId}/verify-link?verified=${shouldVerify}&reason=Analyst%20Review`, {\n                method: 'PATCH',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            });\n\n            if (!res.ok) {\n                const err = await res.json();\n                throw new Error(err.detail || 'Failed to update asset status');\n            }\n\n            setState({ ...state, isFreezing: false, error: null });\n            return true;\n        } catch (err: any) {\n            console.error('Asset verification failed:', err);\n            setState({ ...state, isFreezing: false, error: err.message });\n            return false;\n        }\n    };\n\n    const generateReport = async (assetId: string) => {\n        setState({ ...state, isGeneratingWarrant: true, error: null }); // Assuming isGeneratingWarrant is used for report generation\n        try {\n            const res = await fetch(`${API_URL}/api/v1/assets/${assetId}/generate-report`, {\n                method: 'POST'\n            });\n            if(!res.ok) {\n                const err = await res.json();\n                throw new Error(err.detail || \"Failed to generate report\");\n            }\n            setState({ ...state, isGeneratingWarrant: false, error: null });\n            return await res.json();\n        } catch(err: any) {\n            console.error(err);\n            setState({ ...state, isGeneratingWarrant: false, error: err.message });\n            return null;\n        }\n    };\n\n    return {\n        toggleVerification,\n        generateReport,\n        isFreezing: state.isFreezing, // Use local state for isFreezing\n        isGeneratingWarrant: state.isGeneratingWarrant, // Use local state for isGeneratingWarrant\n        error: state.error // Use local state for error\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/hooks/useCSVWorker.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ParseError' is defined but never used.","line":12,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useCallback } from 'react';\n\ninterface ParseResult {\n    data: unknown[];\n    meta: {\n        fields?: string[];\n        [key: string]: unknown;\n    };\n    fileName: string;\n}\n\ninterface ParseError {\n    error: string;\n    fileName: string;\n}\n\nexport function useCSVWorker() {\n    const workerRef = useRef<Worker | null>(null);\n\n    const parseCSV = useCallback((\n        file: File,\n        preview: boolean = false,\n        onSuccess: (result: ParseResult) => void,\n        onError: (error: string) => void\n    ) => {\n        // Initialize worker if not already created\n        if (!workerRef.current) {\n            try {\n                workerRef.current = new Worker(\n                    new URL('../workers/csvParser.worker.ts', import.meta.url),\n                    { type: 'module' }\n                );\n            } catch (err) {\n                console.error('Failed to create CSV worker:', err);\n                onError('Web Worker initialization failed. Falling back to main thread.');\n                return;\n            }\n        }\n\n        const worker = workerRef.current;\n\n        // Set up message handler\n        worker.onmessage = (e: MessageEvent) => {\n            const { type, data, meta, fileName, error } = e.data;\n\n            if (type === 'success') {\n                onSuccess({ data, meta, fileName });\n            } else if (type === 'error') {\n                onError(error);\n            }\n        };\n\n        worker.onerror = (err) => {\n            console.error('Worker error:', err);\n            onError('CSV parsing failed in worker thread.');\n        };\n\n        // Send parse request to worker\n        worker.postMessage({\n            type: 'parse',\n            file,\n            preview\n        });\n    }, []);\n\n    const terminate = useCallback(() => {\n        if (workerRef.current) {\n            workerRef.current.terminate();\n            workerRef.current = null;\n        }\n    }, []);\n\n    return { parseCSV, terminate };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/hooks/useDossier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/lib/DossierCompiler.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'investigation' is defined but never used.","line":254,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":254,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Auto-Dossier Service\n * Compiles investigation timeline into structured PDF-ready format\n */\n\nimport { Investigation, InvestigationAction } from '@/store/useInvestigation';\n\nexport interface DossierSection {\n    title: string;\n    content: string | string[];\n    subsections?: DossierSection[];\n}\n\nexport interface CompiledDossier {\n    metadata: {\n        investigationId: string;\n        title: string;\n        generatedAt: Date;\n        investigator: string;\n        riskLevel: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n    };\n    executiveSummary: string;\n    sections: DossierSection[];\n    timeline: InvestigationAction[];\n    findings: string[];\n    recommendations: string[];\n}\n\nexport class DossierCompiler {\n    /**\n     * Compile investigation into court-ready dossier structure\n     */\n    static compile(investigation: Investigation): CompiledDossier {\n        const riskLevel = this.determineRiskLevel(investigation);\n        \n        return {\n            metadata: {\n                investigationId: investigation.id,\n                title: investigation.title,\n                generatedAt: new Date(),\n                investigator: 'Zenith Forensic System',\n                riskLevel\n            },\n            executiveSummary: this.generateExecutiveSummary(investigation),\n            sections: [\n                this.generateInvestigationOverview(investigation),\n                this.generateContextSection(investigation),\n                this.generateToolsUsedSection(investigation),\n                this.generateFindingsSection(investigation),\n                this.generateEvidenceChain(investigation)\n            ],\n            timeline: investigation.timeline,\n            findings: investigation.findings,\n            recommendations: this.generateRecommendations(investigation)\n        };\n    }\n\n    /**\n     * Generate markdown format for export\n     */\n    static toMarkdown(dossier: CompiledDossier): string {\n        let md = '';\n\n        // Header\n        md += `# FORENSIC INVESTIGATION DOSSIER\\n`;\n        md += `## ${dossier.metadata.title}\\n\\n`;\n        md += `---\\n\\n`;\n        \n        // Metadata\n        md += `**Investigation ID**: ${dossier.metadata.investigationId}\\n`;\n        md += `**Generated**: ${dossier.metadata.generatedAt.toLocaleString()}\\n`;\n        md += `**Risk Level**: ${dossier.metadata.riskLevel}\\n`;\n        md += `**Investigator**: ${dossier.metadata.investigator}\\n\\n`;\n        md += `---\\n\\n`;\n\n        // Executive Summary\n        md += `## Executive Summary\\n\\n`;\n        md += `${dossier.executiveSummary}\\n\\n`;\n        md += `---\\n\\n`;\n\n        // Sections\n        dossier.sections.forEach(section => {\n            md += this.sectionToMarkdown(section, 2);\n        });\n\n        // Timeline\n        md += `## Investigation Timeline\\n\\n`;\n        dossier.timeline.forEach((entry, i) => {\n            md += `### ${i + 1}. ${entry.action}\\n`;\n            md += `- **Time**: ${new Date(entry.timestamp).toLocaleString()}\\n`;\n            md += `- **Tool**: ${entry.tool}\\n`;\n            if (entry.result) {\n                md += `- **Result**: ${JSON.stringify(entry.result, null, 2)}\\n`;\n            }\n            md += `\\n`;\n        });\n\n        // Findings\n        md += `## Key Findings\\n\\n`;\n        dossier.findings.forEach((finding, i) => {\n            md += `${i + 1}. ${finding}\\n`;\n        });\n        md += `\\n`;\n\n        // Recommendations\n        md += `## Recommendations\\n\\n`;\n        dossier.recommendations.forEach((rec, i) => {\n            md += `${i + 1}. ${rec}\\n`;\n        });\n        md += `\\n`;\n\n        md += `---\\n\\n`;\n        md += `*This dossier was automatically generated by Zenith Forensic Platform*\\n`;\n\n        return md;\n    }\n\n    private static sectionToMarkdown(section: DossierSection, level: number): string {\n        let md = '';\n        const heading = '#'.repeat(level);\n        \n        md += `${heading} ${section.title}\\n\\n`;\n        \n        if (Array.isArray(section.content)) {\n            section.content.forEach(item => {\n                md += `- ${item}\\n`;\n            });\n            md += `\\n`;\n        } else {\n            md += `${section.content}\\n\\n`;\n        }\n\n        if (section.subsections) {\n            section.subsections.forEach(sub => {\n                md += this.sectionToMarkdown(sub, level + 1);\n            });\n        }\n\n        return md;\n    }\n\n    /**\n     * Generate HTML format for export\n     */\n    static toHTML(dossier: CompiledDossier): string {\n        const md = this.toMarkdown(dossier);\n        // In production, use a markdown-to-HTML library\n        // For now, basic wrapper\n        return `\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <meta charset=\"UTF-8\">\n                <title>${dossier.metadata.title} - Forensic Dossier</title>\n                <style>\n                    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }\n                    h1, h2, h3 { color: #1e293b; }\n                    pre { background: #f1f5f9; padding: 10px; border-radius: 5px; }\n                    .risk-critical { color: #dc2626; font-weight: bold; }\n                    .risk-high { color: #ea580c; font-weight: bold; }\n                    .risk-medium { color: #ca8a04; font-weight: bold; }\n                    .risk-low { color: #16a34a; font-weight: bold; }\n                </style>\n            </head>\n            <body>\n                <pre>${md}</pre>\n            </body>\n            </html>\n        `;\n    }\n\n    // Helper methods\n    private static determineRiskLevel(investigation: Investigation): 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL' {\n        if (!investigation.riskScore) return 'LOW';\n        if (investigation.riskScore >= 90) return 'CRITICAL';\n        if (investigation.riskScore >= 70) return 'HIGH';\n        if (investigation.riskScore >= 40) return 'MEDIUM';\n        return 'LOW';\n    }\n\n    private static generateExecutiveSummary(investigation: Investigation): string {\n        const duration = Math.floor(\n            (new Date(investigation.updatedAt).getTime() - new Date(investigation.startedAt).getTime()) \n            / 1000 / 60\n        );\n\n        return `This investigation, titled \"${investigation.title}\", was initiated on ${new Date(investigation.startedAt).toLocaleDateString()} and ${investigation.status === 'completed' ? 'completed' : 'is currently ' + investigation.status}. The investigation involved ${investigation.timeline.length} documented actions across ${investigation.context.toolsUsed.length} forensic tools over a period of ${duration} minutes. ${investigation.context.suspects.length} suspect(s) were identified and ${investigation.findings.length} key finding(s) were documented. ${investigation.riskScore ? `The overall risk assessment indicates a ${this.determineRiskLevel(investigation)} risk level (${investigation.riskScore}%).` : ''}`;\n    }\n\n    private static generateInvestigationOverview(investigation: Investigation): DossierSection {\n        return {\n            title: 'Investigation Overview',\n            content: [\n                `Investigation ID: ${investigation.id}`,\n                `Title: ${investigation.title}`,\n                `Start Date: ${new Date(investigation.startedAt).toLocaleString()}`,\n                `Last Updated: ${new Date(investigation.updatedAt).toLocaleString()}`,\n                `Status: ${investigation.status.toUpperCase()}`,\n                `Total Actions: ${investigation.timeline.length}`,\n                `Tools Deployed: ${investigation.context.toolsUsed.join(', ') || 'None'}`,\n            ]\n        };\n    }\n\n    private static generateContextSection(investigation: Investigation): DossierSection {\n        return {\n            title: 'Investigation Context',\n            content: '',\n            subsections: [\n                {\n                    title: 'Subjects Under Investigation',\n                    content: investigation.context.suspects.length > 0 \n                        ? investigation.context.suspects \n                        : ['No suspects identified']\n                },\n                {\n                    title: 'Associated Transactions',\n                    content: investigation.context.transactionIds.length > 0\n                        ? investigation.context.transactionIds\n                        : ['No transactions flagged']\n                },\n                {\n                    title: 'Evidence References',\n                    content: investigation.context.evidenceIds.length > 0\n                        ? investigation.context.evidenceIds\n                        : ['No evidence catalogued']\n                },\n                ...(investigation.context.projectId ? [{\n                    title: 'Project Reference',\n                    content: [investigation.context.projectId]\n                }] : [])\n            ]\n        };\n    }\n\n    private static generateToolsUsedSection(investigation: Investigation): DossierSection {\n        return {\n            title: 'Forensic Tools Utilized',\n            content: investigation.context.toolsUsed.length > 0\n                ? investigation.context.toolsUsed.map((tool, i) => `${i + 1}. ${tool}`)\n                : ['No tools utilized in this investigation']\n        };\n    }\n\n    private static generateFindingsSection(investigation: Investigation): DossierSection {\n        return {\n            title: 'Key Findings',\n            content: investigation.findings.length > 0\n                ? investigation.findings.map((finding, i) => `${i + 1}. ${finding}`)\n                : ['No findings documented']\n        };\n    }\n\n    private static generateEvidenceChain(investigation: Investigation): DossierSection {\n        return {\n            title: 'Chain of Evidence',\n            content: `This section documents the chronological chain of investigative actions taken. Each action is timestamped and includes the tool used and results obtained. See Investigation Timeline section for detailed breakdown.`\n        };\n    }\n\n    private static generateRecommendations(investigation: Investigation): string[] {\n        const recommendations: string[] = [];\n\n        if (investigation.riskScore && investigation.riskScore >= 70) {\n            recommendations.push('URGENT: Escalate to senior investigation team for immediate review');\n        }\n\n        if (investigation.context.suspects.length > 0) {\n            recommendations.push('Conduct thorough background checks on all identified suspects');\n        }\n\n        if (investigation.context.transactionIds.length > 5) {\n            recommendations.push('Consider full audit of related financial records');\n        }\n\n        if (investigation.context.toolsUsed.includes('Satellite Verification')) {\n            recommendations.push('Request additional satellite imagery for historical comparison');\n        }\n\n        if (investigation.findings.length > 0) {\n            recommendations.push('Prepare legal briefing based on documented findings');\n        }\n\n        if (recommendations.length === 0) {\n            recommendations.push('Continue monitoring and update investigation as new evidence emerges');\n        }\n\n        return recommendations;\n    }\n\n    /**\n     * Download dossier as file\n     */\n    static download(dossier: CompiledDossier, format: 'markdown' | 'html' = 'markdown') {\n        const content = format === 'markdown' ? this.toMarkdown(dossier) : this.toHTML(dossier);\n        const blob = new Blob([content], { type: format === 'markdown' ? 'text/markdown' : 'text/html' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${dossier.metadata.investigationId}_${dossier.metadata.title.replace(/\\s+/g, '_')}.${format === 'markdown' ? 'md' : 'html'}`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/lib/ForensicEventBus.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":97,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2418,2421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2418,2421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2477,2480],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2477,2480],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Forensic Event Bus - Central nervous system for cross-module communication\n * Enables reactive, context-aware investigation workflows\n */\n\n// Payload interfaces for each event type\nexport interface TransactionFlaggedPayload {\n  transactionId: string;\n  amount: number;\n  reason: string;\n  riskScore: number;\n}\n\nexport interface VendorSuspiciousPayload {\n  vendorId: string;\n  vendorName: string;\n  flags: string[];\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n}\n\nexport interface ProjectStalledPayload {\n  projectId: string;\n  projectName: string;\n  stallReason: string;\n  daysStalled: number;\n}\n\nexport interface OffshoreTransferPayload {\n  transferId: string;\n  amount: number;\n  destination: string;\n  origin: string;\n  flagged: boolean;\n}\n\nexport interface SanctionHitPayload {\n  entityId: string;\n  entityName: string;\n  sanctionList: string;\n  matchScore: number;\n}\n\nexport interface SatelliteDiscrepancyPayload {\n  location: { lat: number; lng: number };\n  expectedValue: number;\n  actualValue: number;\n  discrepancyType: string;\n}\n\nexport interface AssetDiscoveredPayload {\n  assetId: string;\n  assetType: string;\n  value: number;\n  location: string;\n}\n\nexport interface InvestigationStartedPayload {\n  investigationId: string;\n  title: string;\n  context: Record<string, unknown>;\n}\n\nexport interface InvestigationEndedPayload {\n  investigationId: string;\n  outcome: 'SUCCESS' | 'INCONCLUSIVE' | 'ESCALATED';\n  summary: string;\n}\n\n// Map event types to payloads\nexport interface ForensicEventMap {\n  'TRANSACTION_FLAGGED': TransactionFlaggedPayload;\n  'VENDOR_SUSPICIOUS': VendorSuspiciousPayload;\n  'PROJECT_STALLED': ProjectStalledPayload;\n  'OFFSHORE_TRANSFER': OffshoreTransferPayload;\n  'SANCTION_HIT': SanctionHitPayload;\n  'SATELLITE_DISCREPANCY': SatelliteDiscrepancyPayload;\n  'ASSET_DISCOVERED': AssetDiscoveredPayload;\n  'INVESTIGATION_STARTED': InvestigationStartedPayload;\n  'INVESTIGATION_ENDED': InvestigationEndedPayload;\n}\n\nexport type ForensicEventType = keyof ForensicEventMap;\n\nexport interface ForensicEvent<T extends ForensicEventType = ForensicEventType> {\n  type: T;\n  payload: ForensicEventMap[T];\n  timestamp: number;\n  source?: string;\n}\n\nexport interface EventListener<T extends ForensicEventType = ForensicEventType> {\n  id: string;\n  callback: (event: ForensicEvent<T>) => void;\n}\n\nclass ForensicEventBus {\n  private listeners: Map<ForensicEventType, EventListener<any>[]> = new Map();\n  private eventHistory: ForensicEvent<any>[] = [];\n  private maxHistorySize = 100;\n\n  /**\n   * Subscribe to a specific event type\n   */\n  subscribe<T extends ForensicEventType>(\n    eventType: T,\n    callback: (event: ForensicEvent<T>) => void,\n    id?: string\n  ): string {\n    const listenerId = id || `listener_${Date.now()}_${Math.random()}`;\n    const listener: EventListener<T> = { id: listenerId, callback };\n\n    if (!this.listeners.has(eventType)) {\n      this.listeners.set(eventType, []);\n    }\n\n    this.listeners.get(eventType)!.push(listener);\n    return listenerId;\n  }\n\n  /**\n   * Unsubscribe from all events or specific event type\n   */\n  unsubscribe(listenerId: string, eventType?: ForensicEventType) {\n    if (eventType) {\n      const listeners = this.listeners.get(eventType);\n      if (listeners) {\n        this.listeners.set(\n          eventType,\n          listeners.filter((l) => l.id !== listenerId)\n        );\n      }\n    } else {\n      // Remove from all event types\n      this.listeners.forEach((listeners, type) => {\n        this.listeners.set(\n          type,\n          listeners.filter((l) => l.id !== listenerId)\n        );\n      });\n    }\n  }\n\n  /**\n   * Publish an event to all subscribers\n   */\n  publish<T extends ForensicEventType>(type: T, payload: ForensicEventMap[T], source?: string) {\n    const event: ForensicEvent<T> = {\n      type,\n      payload,\n      timestamp: Date.now(),\n      source,\n    };\n\n    // Add to history\n    this.eventHistory.unshift(event);\n    if (this.eventHistory.length > this.maxHistorySize) {\n      this.eventHistory.pop();\n    }\n\n    // Notify listeners\n    const listeners = this.listeners.get(type);\n    if (listeners) {\n      listeners.forEach((listener) => {\n        try {\n          listener.callback(event);\n        } catch (error) {\n          console.error(\n            `Error in event listener for ${type}:`,\n            error\n          );\n        }\n      });\n    }\n\n    // Log event in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\n        `[ForensicEventBus] ${type}`,\n        payload,\n        source ? `from ${source}` : ''\n      );\n    }\n  }\n\n  /**\n   * Get event history (useful for debugging and investigation timeline)\n   */\n  getHistory<T extends ForensicEventType>(eventType?: T): ForensicEvent<T>[] {\n    if (eventType) {\n      return (this.eventHistory as ForensicEvent<T>[]).filter((e) => e.type === eventType);\n    }\n    return [...this.eventHistory] as ForensicEvent<T>[];\n  }\n\n  /**\n   * Clear event history\n   */\n  clearHistory() {\n    this.eventHistory = [];\n  }\n}\n\n// Singleton instance\nexport const forensicBus = new ForensicEventBus();\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/lib/RecommendationEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'findings' is assigned a value but never used.","line":24,"column":36,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":44},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":117,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4127,4130],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4127,4130],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Smart Tool Recommendations Engine\n * Algorithm to suggest next forensic actions based on investigation context\n */\n\nimport { Investigation } from '@/store/useInvestigation';\n\nexport interface ToolRecommendation {\n    toolName: string;\n    toolPath: string;\n    reason: string;\n    priority: 'high' | 'medium' | 'low';\n    icon: string;\n}\n\nexport class RecommendationEngine {\n    /**\n     * Analyze investigation context and suggest next tools\n     */\n    static getRecommendations(investigation: Investigation | null): ToolRecommendation[] {\n        if (!investigation) return [];\n\n        const recommendations: ToolRecommendation[] = [];\n        const { context, timeline, findings, riskScore } = investigation;\n\n        // Rule 1: If suspects identified but no sanction screening done\n        if (\n            context.suspects.length > 0 &&\n            !context.toolsUsed.includes('Sanction Screening')\n        ) {\n            recommendations.push({\n                toolName: 'Sanction Screening',\n                toolPath: '/legal/screening',\n                reason: `${context.suspects.length} suspect(s) identified - verify against watchlists`,\n                priority: 'high',\n                icon: 'ShieldAlert'\n            });\n        }\n\n        // Rule 2: If project context exists but no satellite verification\n        if (\n            context.projectId &&\n            !context.toolsUsed.includes('Satellite Verification')\n        ) {\n            recommendations.push({\n                toolName: 'Satellite Verification',\n                toolPath: '/forensic/hub?tab=satellite',\n                reason: 'Verify reported progress with LEO imagery',\n                priority: 'medium',\n                icon: 'Satellite'\n            });\n        }\n\n        // Rule 3: If high risk score but no asset tracing\n        if (\n            riskScore &&\n            riskScore > 70 &&\n            !context.toolsUsed.includes('Asset Recovery Tracer')\n        ) {\n            recommendations.push({\n                toolName: 'Asset Recovery Tracer',\n                toolPath: '/forensic/recovery',\n                reason: `High risk score (${riskScore}%) - trace capital flows`,\n                priority: 'high',\n                icon: 'Network'\n            });\n        }\n\n        // Rule 4: If transactions flagged but no nexus analysis\n        if (\n            context.transactionIds.length > 0 &&\n            !context.toolsUsed.includes('Vendor Nexus')\n        ) {\n            recommendations.push({\n                toolName: 'Vendor Nexus',\n                toolPath: '/forensic/nexus',\n                reason: `Analyze relationships between ${context.transactionIds.length} flagged transactions`,\n                priority: 'medium',\n                icon: 'Network'\n            });\n        }\n\n        // Rule 5: If predictive AI not used yet\n        if (!context.toolsUsed.includes('Predictive AI') && context.projectId) {\n            recommendations.push({\n                toolName: 'Predictive AI',\n                toolPath: '/forensic/hub?tab=analytics',\n                reason: 'Forecast project stalling & leakage risk',\n                priority: 'low',\n                icon: 'TrendingUp'\n            });\n        }\n\n        // Rule 6: If investigation has >5 actions, suggest dossier generation\n        if (timeline.length >= 5 && !context.toolsUsed.includes('Legal Dossier')) {\n            recommendations.push({\n                toolName: 'Legal Dossier',\n                toolPath: '/forensic/assets',\n                reason: `${timeline.length} actions logged - ready for court-ready report`,\n                priority: 'medium',\n                icon: 'FileText'\n            });\n        }\n\n        // Sort by priority\n        const priorityOrder = { high: 0, medium: 1, low: 2 };\n        return recommendations.sort((a, b) => \n            priorityOrder[a.priority] - priorityOrder[b.priority]\n        );\n    }\n\n    /**\n     * Check if a specific tool should be highlighted based on recent events\n     */\n    static shouldHighlightTool(\n        toolPath: string,\n        recentEvents: Array<{ type: string; payload: any }>\n    ): boolean {\n        const eventToolMap: Record<string, string[]> = {\n            'VENDOR_SUSPICIOUS': ['/legal/screening', '/forensic/hub?tab=nexus'],\n            'PROJECT_STALLED': ['/forensic/hub?tab=satellite', '/forensic/hub?tab=analytics'],\n            'SATELLITE_DISCREPANCY': ['/forensic/recovery', '/forensic/assets'],\n            'OFFSHORE_TRANSFER': ['/forensic/recovery', '/forensic/assets'],\n            'TRANSACTION_FLAGGED': ['/investigate', '/forensic/hub?tab=flow'],\n            'SANCTION_HIT': ['/forensic/assets', '/legal/aml'],\n            'ASSET_DISCOVERED': ['/forensic/assets']\n        };\n\n        return recentEvents.some(event => {\n            const targets = eventToolMap[event.type] || [];\n            return targets.some(target => \n                target === toolPath || target.startsWith(toolPath + '?') || (toolPath === '/forensic/hub' && target.startsWith('/forensic/hub'))\n            );\n        });\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/services/ForensicService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/services/IngestionService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/services/ProjectService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/services/apiRoutes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/store/useInvestigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/store/useProject.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/types/domain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/types/next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/utils/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/utils/holographicData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/utils/recoveryMock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/Arief/Newzen/zenith-lite/frontend/src/workers/csvParser.worker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
